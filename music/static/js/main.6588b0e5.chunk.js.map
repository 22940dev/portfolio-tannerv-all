{"version":3,"sources":["js/toolbox/constants/animation.js","js/toolbox/constants/index.js","js/toolbox/constants/color.js","js/toolbox/components/icon/index.js","js/toolbox/components/button/index.js","js/toolbox/components/album_button/index.js","js/toolbox/components/playlist_button/index.js","js/toolbox/components/options_button/index.js","js/toolbox/components/title/index.js","js/toolbox/components/api/index.js","js/toolbox/components/file_input/index.js","js/components/welcome/index.js","js/views/actions.js","js/views/library/recently_played.js","js/views/library/index.js","js/api/actions.js","js/views/artist_list/index.js","js/views/artist/index.js","js/views/album_list/index.js","js/audio/actions.js","js/views/album/index.js","js/views/playlist_list/index.js","js/views/playlist/index.js","js/views/view_container.js","js/components/header/index.js","js/popups/components/header/index.js","js/popups/playlist_creator/index.js","js/popups/playlist_selector/index.js","js/popups/options/index.js","js/popups/index.js","js/components/bar/components/controls/mini_controls.js","js/components/bar/actions.js","js/components/bar/components/controls/track_info.js","js/components/bar/components/controls/track_buttons.js","js/components/bar/components/controls/volume_slider/index.js","js/components/bar/components/controls/scrubber.js","js/components/bar/components/controls/index.js","js/components/bar/components/controls/cover.js","js/components/bar/index.js","js/index.js","App.js","registerServiceWorker.js","js/views/reducer.js","js/api/reducer.js","js/audio/reducer.js","js/components/bar/reducer.js","js/rootReducer.js","index.js"],"names":["constants","color","blue","blueAlpha","green","greenAlpha","red","redAlpha","yellow","yellowAlpha","gray","grayAlpha","whiteAlpha","white","black","animation","fadeIn","keyframes","_templateObject","fadeOut","_templateObject2","scale","_templateObject3","scaleOut","_templateObject4","slideInFromBottom","_templateObject5","slideOutToBottom","_templateObject6","slideInFromRight","_templateObject7","slideOutToRight","_templateObject8","SvgContainer","styled","span","icon_templateObject","props","size","strokeWidth","Icon","react_default","a","createElement","className","onClick","dangerouslySetInnerHTML","__html","feather","icons","name","toSvg","width","height","stroke-width","defaultProps","Container","div","button_templateObject","TextContainer","button_templateObject2","theme","length","isPlaying","Label","h2","button_templateObject3","SubLabel","h4","button_templateObject4","OptionsContainer","button_templateObject5","ChevronContainer","button_templateObject6","Button","_ref","index","label","sublabel","showIndex","OptionsMenu","chevron","onOptionsClick","e","stopPropagation","components_icon","album_button_templateObject","ImgContainer","album_button_templateObject2","Placeholder","img","album_button_templateObject3","isHidden","Artwork","album_button_templateObject4","album_button_templateObject5","album_button_templateObject6","album_button_templateObject7","AlbumButton","state","loaded","onLoad","_this","setState","_this$props","this","artwork","album_button_Container","src","LazyLoad_default","album_button_TextContainer","album_button_Label","album_button_SubLabel","Component","playlist_button_templateObject","playlist_button_templateObject2","playlist_button_templateObject3","playlist_button_templateObject4","Title","h3","playlist_button_templateObject5","playlist_button_templateObject6","PlaylistButton","title","playlist_button_Container","playlist_button_ImgContainer","playlist_button_Artwork","playlist_button_TextContainer","playlist_button_Title","playlist_button_ChevronContainer","options_button_templateObject","center","hasImage","options_button_templateObject2","options_button_templateObject3","options_button_templateObject4","bold","OptionsButton","image","icon","options_button_Container","options_button_TextContainer","options_button_Label","options_button_Icon","concat","h1","title_templateObject","Api","ApiClass","Object","classCallCheck","makeRequest","url","data","Promise","resolve","reject","fetch","then","response","json","status","message","catch","Error","fetchArtists","method","fetchArtist","artist","fetchAlbums","fetchAlbum","_ref2","album","file_input_templateObject","Input","input","file_input_templateObject2","file_input_templateObject3","FileInput","possibleConstructorReturn","getPrototypeOf","call","base64Encode","reader","FileReader","readAsDataURL","onload","onUpload","result","onerror","error","console","log","sendImage","window","URL","createObjectURL","_this2","file_input_Container","file_input_Label","htmlFor","alt","draggable","id","accept","type","onChange","target","files","welcome_templateObject","isOpen","isClosing","LogoContainer","welcome_templateObject2","PartContainer","welcome_templateObject3","hidden","AppleLogo","welcome_templateObject4","MusicLogo","welcome_templateObject5","JsLogo","welcome_templateObject6","WelcomScreen","showMusic","showExtension","setTimeout","_this$state","welcome_Container","pushView","view","pushPopup","popup","recently_played_templateObject","Header","recently_played_templateObject2","ButtonContainer","recently_played_templateObject3","RecentlyPlayed","viewAlbum","hideTitle","recents","audioState","recently_played_Container","recently_played_Header","map","item","album_button","key","connect","dispatch","library_templateObject","library_templateObject2","LibraryView","changeView","library_Container","library_ButtonContainer","components_button","recently_played","viewState","albums","albumData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","fetchPlaylists","playlists","localStorage","appleMusicPlaylists","JSON","parse","addToPlaylist","track","playlist","objectSpread","tracks","toConsumableArray","defineProperty","stringify","artist_list_templateObject","artist_list_templateObject2","ArtistListView","viewArtist","apiState","artists","artist_list_Container","artist_list_ButtonContainer","artistData","i","artist_templateObject","artist_templateObject2","ArtistView","_this$props2","artist_Container","artist_ButtonContainer","album_list_templateObject","album_list_templateObject2","AlbumListView","album_list_Container","album_list_ButtonContainer","playSong","addToQueue","updateTime","info","breakpointSm","album_templateObject","ArtworkContainer","album_templateObject2","album_templateObject3","album_templateObject4","album_templateObject5","MobileHeader","album_templateObject6","TitleContainer","album_templateObject7","album_templateObject8","Subtitle","_templateObject9","VisibleDesktop","_templateObject10","AlbumView","isLoaded","_ref3","setupOptionsMenu","options","onSelect","onArtworkLoaded","_apiState$data","currentIndex","currentTrack","album_Container","album_Placeholder","album_Artwork","album_Title","album_ButtonContainer","playlist_list_templateObject","playlist_list_templateObject2","PlaylistListView","viewPlaylist","newPlaylist","getPlaylistButtons","playlistButtons","_loop","_Object$entries","_i","slicedToArray","push","playlist_button","description","entries","playlist_list_Container","playlist_list_ButtonContainer","playlist_templateObject","playlist_templateObject2","playlist_templateObject3","playlist_templateObject4","playlist_templateObject5","playlist_templateObject6","playlist_templateObject7","playlist_templateObject8","ActionContainer","playlist_templateObject9","Svg","playlist_templateObject10","_templateObject11","PlaylistView","deletePlaylist","popView","setupTrackOptionsMenu","removeFromPlaylist","setupPlaylistOptionsMenu","_playlists$playlist$t","playlist_Container","playlist_MobileHeader","playlist_ArtworkContainer","playlist_Artwork","playlist_TitleContainer","playlist_Title","playlist_Subtitle","playlist_VisibleDesktop","playlist_ButtonContainer","nextProps","slice","view_container_templateObject","PageContainer","view_container_templateObject2","secondFromTop","becomingTop","exiting","mapStateToProps","ViewStack","stack","View","Views","ViewContainer","newStack","prevState","animateBack","view_container_Container","header_templateObject","header_templateObject2","isShown","isBackButton","header_templateObject3","isTitle","isLeaving","header_templateObject4","mapDispatchToProps","TitleStack","header_TitleContainer","header_Title","BackButton","showChevron","header_ChevronContainer","header_Container","components_header_templateObject","Section","components_header_templateObject2","left","right","components_header_Container","playlist_creator_templateObject","closing","playlist_creator_templateObject2","playlist_creator_templateObject3","playlist_creator_templateObject4","TitleInput","textarea","playlist_creator_templateObject5","DescriptionInput","playlist_creator_templateObject6","PlaylistCreator","handleImageUpload","createPlaylist","document","getElementById","popPopup","alert","playlist_creator_Container","components_header","playlist_creator_Button","playlist_creator_Title","playlist_creator_Section","file_input","placeholder","playlist_selector_templateObject","playlist_selector_templateObject2","playlist_selector_templateObject3","playlist_selector_templateObject4","PlaylistSelector","selectPlaylist","playlist_selector_Container","playlist_selector_Button","playlist_selector_Title","playlist_selector_ButtonContainer","options_templateObject","Cover","options_templateObject2","MenuContainer","options_templateObject3","options_templateObject4","handleClick","options_Container","options_Cover","options_Section","option","options_button","popups","Playlist Creator","playlist_creator","Playlist Selector","playlist_selector","Options","popups_options","popups_templateObject","PopupStack","popupStack","React","cloneElement","PopupContainer","animateClose","popups_Container","mini_controls_templateObject","isFullscreen","css","mini_controls_templateObject2","mini_controls_templateObject3","mini_controls_templateObject4","mini_controls_templateObject5","InfoContainer","mini_controls_templateObject6","SongTitle","mini_controls_templateObject7","mini_controls_templateObject8","mini_controls_templateObject9","MiniControls","resume","hasAudio","pause","nextSong","navState","queue","inQueue","mini_controls_Container","toggleFullscreen","mini_controls_ArtworkContainer","mini_controls_Artwork","mini_controls_ButtonContainer","mini_controls_Svg","track_info_templateObject","track_info_templateObject2","track_info_templateObject3","TrackInfo","track_info_Container","track_info_Title","track_info_Subtitle","track_buttons_templateObject","track_buttons_templateObject2","TrackButtons","prevSong","path","track_buttons_Container","track_buttons_Svg","volume_slider_templateObject","VolumeSlider","handleChange","val","changeVolume","volume","volume_slider_Container","lib_default","tooltip","scrubber_templateObject","isChanging","scrubber_templateObject2","TimeContainer","scrubber_templateObject3","Time","h5","scrubber_templateObject4","shift","formatTime","seconds","arguments","guide","s","Math","floor","m","h","gm","gh","isNaN","Infinity","Scrubber","time","current","max","startChange","endChange","transitioning","audio","currentTime","propTime","stateTime","range","round","scrubber_Container","onChangeStart","onChangeComplete","controls_templateObject","controls_templateObject2","CloseControls","controls_templateObject3","FullscreenControls","controls_templateObject4","hide","Controls","handlePlay","paused","clearInterval","playInterval","play","createTimeInterval","handleSliderChange","duration","setInterval","handlePause","_this3","controls_Container","controls_Svg","mini_controls","scrubber","track_info","track_buttons","volume_slider","ref","onEnded","cover_templateObject","animateClosed","cover_Container","OuterContainer","bar_templateObject","BottomBar","cover","controls","js_templateObject","MusicJS","js_Container","welcome_WelcomScreen","header","view_container","js_popups","bar","injectGlobal","App_templateObject","App","js_MusicJS","addEventListener","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","initialState","viewReducer","action","apiReducer","prevQueue","appleMusicRecents","audioReducer","filter","splice","newQueue","navReducer","rootReducer","combineReducers","store","createStore","devToolsEnhancer","applyMiddleware","thunkMiddleware","ReactDOM","render","es","src_App","process","origin","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.6588b0e5.chunk.js","sourcesContent":["import { keyframes } from 'styled-components';\n\nexport default {\n   fadeIn: keyframes`\n      0% {\n         opacity: 0;\n      }\n   `,\n\n   fadeOut: keyframes`\n      100% {\n         opacity: 0;\n      }\n   `,\n\n   scale: keyframes`\n      0% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   `,\n\n   scaleOut: keyframes`\n      100% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   `,\n\n   slideInFromBottom: keyframes`\n      0% {\n         transform: translateY(100vh);\n      }\n   `,\n\n   slideOutToBottom: keyframes`\n      100% {\n         transform: translateY(100vh);\n      }\n      `,\n\n   slideInFromRight: keyframes`\n      0% {\n         transform: translateX(100vw);\n      }\n   `,\n\n   slideOutToRight: keyframes`\n      100% {\n         transform: translateX(100vw);\n      }\n   `,\n};\n","/*\nimport borderRadius from './borderRadius';\nimport breakpoint from './breakpoint';\n*/\nimport color from './color';\nimport animation from './animation';\n/*\nimport fontSize from './fontSize';\nimport lineHeight from './lineHeight';\nimport shadows from './shadows';\nimport spacing from './spacing';\nimport transition from './transition';\n*/\n\nexport default {\n/*\n   borderRadius,\n   breakpoint,\n*/\n   color,\n   animation\n/*\n   fontSize,\n   lineHeight,\n   shadows,\n   spacing,\n   transition,\n*/\n};\n","export default {\n   blue: [\n      '#EBF4FB',\n      '#D6E8F7',\n      '#ADD2EF',\n      '#5CA4E0',\n      '#0071CE',\n      '#005091',\n      '#00325C',\n   ],\n   blueAlpha: [\n      'rgba(0, 113, 206, 0.08)',\n      'rgba(0, 113, 206, 0.16)',\n      'rgba(0, 113, 206, 0.32)',\n      'rgba(0, 113, 206, 0.64)',\n   ],\n   green: [\n      '#F2F9ED',\n      '#E4F3DC',\n      '#C9E7B9',\n      '#93D073',\n      '#57B524',\n      '#35820F',\n      '#195103',\n   ],\n   greenAlpha: [\n      'rgba(87, 181, 36, 0.08)',\n      'rgba(87, 181, 36, 0.16)',\n      'rgba(87, 181, 36, 0.32)',\n      'rgba(87, 181, 36, 0.64)',\n   ],\n   red: [\n      '#FDEEEC',\n      '#FBDED9',\n      '#F8BDB4',\n      '#F07B69',\n      '#f62a54',\n      '#A11601',\n      '#610B00',\n   ],\n   redAlpha: [\n      'rgba(232, 48, 20, 0.08)',\n      'rgba(232, 48, 20, 0.16)',\n      'rgba(232, 48, 20, 0.32)',\n      'rgba(232, 48, 20, 0.64)',\n   ],\n   yellow: [\n      '#FFFAEC',\n      '#FEF5D9',\n      '#FDECB3',\n      '#FBD966',\n      '#F9C310',\n      '#C27E00',\n      '#914400',\n   ],\n   yellowAlpha: [\n      'rgba(249, 195, 16, 0.08)',\n      'rgba(249, 195, 16, 0.16)',\n      'rgba(249, 195, 16, 0.32)',\n      'rgba(249, 195, 16, 0.64)',\n   ],\n   gray: [\n      '#FAFAFA',\n      '#F5F5F5',\n      '#EEEEEE',\n      '#E1E1E2',\n      '#BDBEBF',\n      '#9E9FA0',\n      '#757778',\n      '#636567',\n      '#424446',\n      '#212426',\n   ],\n   grayAlpha: [\n      'rgba(0, 3, 6, 0.02)',\n      'rgba(0, 3, 6, 0.04)',\n      'rgba(0, 3, 6, 0.07)',\n      'rgba(0, 3, 6, 0.12)',\n      'rgba(0, 3, 6, 0.26)',\n      'rgba(0, 3, 6, 0.38)',\n      'rgba(0, 3, 6, 0.54)',\n      'rgba(0, 3, 6, 0.61)',\n      'rgba(0, 3, 6, 0.74)',\n      'rgba(0, 3, 6, 0.87)',\n   ],\n   whiteAlpha: [\n      'rgba(255, 255, 255, 0.25)',\n      'rgba(255, 255, 255, 0.5)',\n      'rgba(255, 255, 255, 0.75)',\n      'rgba(255, 255, 255, 0.97)',\n   ],\n   white: '#FFFFFF',\n   black: '#000000',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport feather from 'feather-icons';\n\nconst SvgContainer = styled.span`\n   display: inline-block;\n   width: ${props => props.size}px;\n   height: ${props => props.size}px;\n   color: ${props => props.color};\n   stroke-width: ${props => props.strokeWidth};\n`;\n\nconst Icon = props => (\n   <SvgContainer\n      className={props.className}\n      size={props.size}\n      onClick={props.onClick}\n      color={props.color}\n      strokeWidth={props.strokeWidth}\n      dangerouslySetInnerHTML={{\n         __html: feather.icons[props.name].toSvg({\n            width: '100%',\n            height: '100%',\n            'stroke-width': 'inherit',\n         }),\n      }}\n   />\n);\n\nIcon.propTypes = {\n   /** Icon name. See the complete list of icons at https://feathericons.com */\n   name: PropTypes.string.isRequired,\n   /** Set class name of containing element. */\n   className: PropTypes.string,\n   /** Any legal CSS color value for the stroke color */\n   color: PropTypes.string,\n   /** Width and height of the icon in pixels */\n   size: PropTypes.number,\n   /** Stroke width of the icon in pixels */\n   strokeWidth: PropTypes.number,\n};\n\nIcon.defaultProps = {\n   className: '',\n   color: 'currentColor',\n   size: 24,\n   strokeWidth: 2,\n};\n\nexport default Icon;\n","import React from 'react';\nimport styled from 'styled-components';\nimport constants from '../../constants';\nimport Icon from '../icon';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   display: flex;\n   min-height: 48px;\n   border-bottom: 1px solid ${color.gray[3]};\n   cursor: pointer;\n\n   :first-of-type {\n      border-top: 1px solid ${color.gray[3]};\n   }\n\n   &:active {\n      background: ${color.gray[2]};\n   }\n`;\n\nconst TextContainer = styled.div`\n   display: flex;\n   flex: 1;\n   flex-direction: column;\n   justify-content: center;\n   white-space: nowrap;\n   overflow: hidden;\n   text-overflow: ellipsis;\n\n   h2,\n   h4 {\n      font-weight: normal;\n      color: ${props =>\n         props.theme && props.theme.length\n            ? color[props.theme][4]\n            : color.black};\n      color: ${props => props.isPlaying && color.red[4]};\n      user-select: none;\n   }\n`;\n\nconst Label = styled.h2`\n   margin: 0;\n   font-size: 1.3rem;\n`;\n\nconst SubLabel = styled.h4`\n   margin: 0;\n`;\n\nconst OptionsContainer = styled.div`\n   height: 3em;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n`;\n\nconst ChevronContainer = styled.div`\n   height: 3em;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n\n   svg {\n      color: ${color.gray[4]};\n      height: 20px;\n      width: 20px;\n   }\n`;\n\nconst Button = ({\n   index,\n   theme,\n   label,\n   sublabel,\n   showIndex,\n   isPlaying,\n   OptionsMenu,\n   onClick,\n   chevron,\n   onOptionsClick,\n}) => {\n   const handleOptionsClick = e => {\n      e.stopPropagation();\n      onOptionsClick();\n   };\n\n   return (\n      <Container onClick={onClick}>\n         <TextContainer isPlaying={isPlaying} theme={theme}>\n            <Label>{label}</Label>\n            <SubLabel>{sublabel}</SubLabel>\n         </TextContainer>\n         {OptionsMenu && (\n            <OptionsContainer onClick={handleOptionsClick}>\n               <Icon name=\"more-horizontal\" />\n            </OptionsContainer>\n         )}\n         {chevron && (\n            <ChevronContainer>\n               <Icon name=\"chevron-right\" />\n            </ChevronContainer>\n         )}\n      </Container>\n   );\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport LazyLoad from 'react-lazy-load';\nimport constants from '../../constants';\n\nconst { color } = constants;\nconst breakpointSm = `@media screen and (max-width: 750px)`;\n\nconst Container = styled.div`\n   margin: 0 16px 16px;\n   width: 185px;\n   cursor: pointer;\n\n   ${breakpointSm} {\n      margin: 16px 16px 0 0;\n      width: auto;\n      flex: 0 44%;\n   }\n\n   &:active {\n      img {\n         filter: brightness(65%);\n      }\n   }\n`;\n\nconst ImgContainer = styled.div`\n   position: relative;\n   min-height: 185px;\n   margin-bottom: 16px;\n\n   ${breakpointSm} {\n      height: 42vw;\n      width: 42vw;\n      margin-bottom: 0;\n   }\n`;\n\nconst Placeholder = styled.img`\n   z-index: 1;\n   position: absolute;\n   top: 0;\n   max-width: 100%;\n   transition: all 0.3s;\n   opacity: ${props => (props.isHidden ? 0 : 1)};\n`;\n\nconst Artwork = styled.img`\n   position: absolute;\n   top: 0;\n   border-radius: 4px;\n   max-width: 100%;\n   pointer-events: none;\n   user-select: none;\n   animation: {animation.fadeIn} 0.15s;\n`;\n\nconst TextContainer = styled.div`\n   margin: 4px 0;\n`;\n\nconst Label = styled.h4`\n   font-weight: normal;\n   margin: 0 0 4px 0;\n   user-select: none;\n`;\n\nconst SubLabel = styled.h4`\n   color: ${color.gray[5]};\n   font-weight: normal;\n   margin: 0;\n   user-select: none;\n`;\n\nclass AlbumButton extends Component {\n   state = {\n      loaded: false,\n   };\n\n   onLoad = () => {\n      this.setState({ loaded: true });\n   };\n\n   render() {\n      const { label, sublabel, artwork, onClick } = this.props;\n      const { loaded } = this.state;\n\n      return (\n         <Container onClick={onClick}>\n            <ImgContainer>\n               <Placeholder\n                  src=\"images/default_artwork.svg\"\n                  isHidden={loaded}\n               />\n               <LazyLoad>\n                  <Artwork src={artwork} onLoad={this.onLoad} />\n               </LazyLoad>\n            </ImgContainer>\n            <TextContainer>\n               <Label>{label}</Label>\n               <SubLabel>{sublabel}</SubLabel>\n            </TextContainer>\n         </Container>\n      );\n   }\n}\n\nexport default AlbumButton;\n","import React from 'react';\nimport styled from 'styled-components';\nimport constants from '../../constants';\nimport Icon from '../icon';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   display: flex;\n   height: 112px;\n   cursor: pointer;\n\n   &:active {\n      background: ${color.gray[2]};\n   }\n`;\n\nconst ImgContainer = styled.div`\n   position: relative;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   height: 104px;\n   width: 104px;\n   border-radius: 4px;\n   overflow: hidden;\n`;\n\nconst Artwork = styled.img`\n   height: 100%;\n   width: 100%;\n   pointer-events: none;\n   user-select: none;\n`;\n\nconst TextContainer = styled.div`\n   display: flex;\n   align-items: center;\n   flex: 1;\n   margin: 8px 0 4px 16px;\n   border-bottom: 1px solid ${color.gray[2]};\n`;\n\nconst Title = styled.h3`\n   font-weight: normal;\n   margin: 0;\n   user-select: none;\n   color: ${props => props.color ? color[props.color][4] : 'black'};\n`;\n\nconst ChevronContainer = styled.div`\n   height: 100%;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n\n   svg {\n      color: ${color.gray[4]};\n      height: 20px;\n      width: 20px;\n   }\n`;\n\nconst PlaylistButton = ({\n   title,\n   img,\n   color,\n   chevron,\n   onClick,\n}) => {\n   return (\n      <Container onClick={onClick}>\n         <ImgContainer>\n            <Artwork src={img} />\n         </ImgContainer>\n         <TextContainer>\n            <Title color={color}>{title}</Title>\n            </TextContainer>\n         {chevron && (\n            <ChevronContainer>\n               <Icon name=\"chevron-right\" />\n            </ChevronContainer>\n         )}\n      </Container>\n   );\n};\n\nexport default PlaylistButton;\n","import React from 'react';\nimport styled from 'styled-components';\nimport constants from '../../constants';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   display: flex;\n   justify-content: ${props => props.center && 'center'};\n   justify-content: ${props => props.hasImage && 'space-between'};\n   min-height: 64px;\n   border-bottom: 1px solid ${color.gray[3]};\n   padding: 0 16px;\n   cursor: pointer;\n\n   &:active {\n      background: ${color.gray[2]};\n   }\n`;\n\nconst TextContainer = styled.div`\n   display: flex;\n   align-items: center;\n`;\n\nconst Icon = styled.img`\n   height: 30px;\n   width: 40px;\n   margin: auto 0;\n`;\n\nconst Label = styled.h2`\n   margin: 0;\n   font-size: 1.3rem;\n   color: ${color.red[4]};\n   font-weight: ${props => props.bold ? 'bold' : 'normal'};\n`;\n\nconst OptionsButton = ({ label, icon, image, center, bold, onClick }) => {\n   return (\n      <Container hasImage={image} center={center} onClick={onClick}>\n         <TextContainer>\n            <Label bold={bold}>{label}</Label>\n         </TextContainer>\n         {image && <Icon src={`images/${image}`} />}\n      </Container>\n   );\n};\n\nexport default OptionsButton;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.h1`\n   font-size: 32px;\n   margin: 8px 0;\n`;\n\nconst Title = ({ label }) => {\n   return <Text>{label}</Text>\n}\n\nexport default Title;\n","class ApiClass {\n  constructor() {\n    this.url = `https://05aacd63.ngrok.io/api`;\n  }\n\n  makeRequest = ({ url, data }) => {\n    return new Promise(function(resolve, reject) {\n      fetch(url, data)\n        .then(response => {\n          response.json().then(data => {\n            if (response.status >= 300) {\n              reject(data.message);\n            }\n            resolve(data);\n          });\n        })\n        .catch(e => {\n          reject(Error(e));\n        });\n    });\n  };\n\n  fetchArtists = () => {\n    return this.makeRequest({\n      url: `${this.url}/artists`,\n      data: {\n        method: \"GET\"\n      }\n    });\n  };\n\n  fetchArtist = artist => {\n    return this.makeRequest({\n      url: `${this.url}/artist/${artist}`,\n      data: {\n        method: \"GET\"\n      }\n    });\n  };\n\n  fetchAlbums = () => {\n    return this.makeRequest({\n      url: `${this.url}/albums`,\n      data: {\n        method: \"GET\"\n      }\n    });\n  };\n\n  fetchAlbum = ({ album }) => {\n    return this.makeRequest({\n      url: `${this.url}/album/${album}`,\n      data: {\n        method: \"GET\"\n      }\n    });\n  };\n}\n\nconst Api = new ApiClass();\nexport default Api;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n   display: flex;\n   height: 150px;\n   width: 150px;\n   justify-content: center;\n   align-items: center;\n   overflow: hidden;\n   border-radius: 4px;\n`;\n\nconst Input = styled.input`\n   display: none;\n`;\n\nconst Label = styled.label`\n   height: 100%;\n   width: 100%;\n   position: relative;\n   cursor: pointer;\n\n   img {\n      max-height: 100%;\n   }\n\n   &:active {\n      filter: brightness(0.95);\n   }\n`;\n\nclass FileInput extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         img: props.img,\n      };\n   }\n\n   base64Encode = img => {\n      const reader = new FileReader();\n      reader.readAsDataURL(img);\n      reader.onload = () => this.props.onUpload(reader.result);\n      reader.onerror = function(error) {\n         console.log('Error: ', error);\n      };\n   };\n\n   sendImage = img => {\n      this.base64Encode(img);\n      this.setState({ img: window.URL.createObjectURL(img) });\n   };\n\n   render() {\n      const { img } = this.state;\n\n      return (\n         <Container>\n            <Label htmlFor=\"media-uploader\">\n               <img alt=\"Upload\" draggable=\"false\" src={img} />\n            </Label>\n            <Input\n               id=\"media-uploader\"\n               accept=\"image/x-png,image/gif,image/jpeg\"\n               type=\"file\"\n               onChange={e => this.sendImage(e.target.files[0])}\n            />\n         </Container>\n      );\n   }\n}\n\nexport default FileInput;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { constants } from '../../toolbox';\n\nconst { animation } = constants;\nconst breakpointSm = `@media screen and (max-width: 700px)`;\n\nconst Container = styled.div`\n   z-index: 200;\n   position: fixed;\n   display: ${props => props.isOpen ? 'flex' : 'none'};\n   justify-content: center;\n   align-items: center;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: ${props => props.isClosing ? animation.fadeOut : null} 0.3s;\n`;\n\nconst LogoContainer = styled.div`\n   position: relative;\n   display: flex;\n   width: ${props => props.width};\n   height: 3.5rem;\n   padding-bottom: 1vh;\n   overflow: hidden;\n   transition: all 0.5s;\n   animation: ${props => props.isClosing ? animation.scaleOut : animation.scale} 0.3s ease;\n\n   ${breakpointSm} {\n      height: 2rem;\n      width: ${props => props.width === '18rem' && '10rem'};\n   }\n`;\n\nconst PartContainer = styled.div`\n   position: relative;\n   display: ${props => props.hidden ? 'none' : 'flex'};\n   align-items: flex-end;\n   height: 100%;\n   background: white;\n`;\n\nconst AppleLogo = styled.img`\n   height: 100%;\n`;\n\nconst MusicLogo = styled.img`\n   width: 11rem;\n   margin-left: 20px;\n\n   ${breakpointSm} {\n      width: 6rem;\n      margin-left: 10px;\n   }\n`;\n\nconst JsLogo = styled.img`\n   position: absolute;\n   width: 2.25rem;\n   top: 20px;\n   animation: ${animation.scale} 0.3s ease;\n\n   ${breakpointSm} {\n      width: 1.5rem;\n      top: 10px;\n   }\n`;\n\nexport default class WelcomScreen extends Component {\n   state = {\n      isOpen: true,\n      isClosing: false,\n      width: '4rem',\n      showMusic: false,\n      showExtension: false,\n   }\n\n   componentDidMount() {\n      setTimeout(() => {\n         this.setState({\n            showMusic: true,\n            width: '18rem'\n         });\n      }, 300);\n      setTimeout(() => {\n         this.setState({\n            showExtension: true\n         });\n      }, 800);\n      setTimeout(() => {\n         this.setState({ isClosing: true });\n      }, 1700);\n      setTimeout(() => {\n         this.setState({\n            isClosing: false,\n            isOpen: false,\n         });\n      }, 2000);\n   }\n\n   render() {\n      const { isOpen, isClosing } = this.state;\n\n      return (\n         <Container isOpen={isOpen || isClosing} isClosing={isClosing}>\n            <LogoContainer width={this.state.width} isClosing={isClosing}>\n               <PartContainer>\n                  <AppleLogo src=\"images/logo_apple.svg\" />\n               </PartContainer>\n               <PartContainer hidden={!this.state.showMusic}>\n                  <MusicLogo src=\"images/logo_music.svg\" />\n               </PartContainer>\n               <PartContainer hidden={!this.state.showExtension}>\n                  <JsLogo src=\"images/logo_js.svg\" />\n               </PartContainer>\n            </LogoContainer>\n         </Container>\n      );\n   }\n}\n","export const pushView = view => ({ type: 'PUSH_VIEW', view });\nexport const popView = () => ({ type: 'POP_VIEW' });\nexport const pushPopup = popup => ({ type: 'PUSH_POPUP', popup });\nexport const popPopup = () => ({ type: 'POP_POPUP' });\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { pushView } from '../actions';\nimport { AlbumButton } from '../../toolbox';\n\nconst Container = styled.div`\n   margin-top: 24px;\n`;\n\nconst Header = styled.h3`\n   margin: 8px 0;\n   font-size: 21px;\n`;\n\nconst ButtonContainer = styled.div`\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n\n   div {\n      margin-left: 0;\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n   };\n};\n\nclass RecentlyPlayed extends Component {\n   viewAlbum = ({ artist, album }) => {\n      this.props.pushView({\n         name: 'Album',\n         title: album,\n         props: {\n            hideTitle: true,\n            artist,\n            album\n         }\n      });\n   }\n\n   render() {\n      const { audioState } = this.props;\n      const { recents } = audioState;\n\n      return (\n         <Container>\n            <Header>Recently Played</Header>\n            <ButtonContainer>\n               {recents &&\n                  recents.map((item, index) => {\n                     const { album, artist, artwork } = item;\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\n\n                     return (\n                        <AlbumButton\n                           key={album}\n                           label={album}\n                           sublabel={artist}\n                           artwork={url}\n                           onClick={() => this.viewAlbum({ artist, album })}\n                        />\n                     );\n                  })}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecentlyPlayed);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { pushView } from '../actions';\nimport { Button } from '../../toolbox';\nimport RecentlyPlayed from './recently_played';\n\nconst Container = styled.div`\n   margin-top: 48px;\n`;\n\nconst ButtonContainer = styled.div``;\n\nclass LibraryView extends Component {\n   changeView = name => {\n      this.props.pushView({\n         name,\n         props: {}\n      });\n   }\n\n   render() {\n      return (\n         <Container>\n            <ButtonContainer>\n               <Button\n                  label=\"Artists\"\n                  theme=\"red\"\n                  chevron\n                  onClick={() => this.changeView('Artists')}\n               />\n               <Button\n                  label=\"Albums\"\n                  theme=\"red\"\n                  chevron\n                  onClick={() => this.changeView('Albums')}\n               />\n               <Button\n                  label=\"Playlists\"\n                  theme=\"red\"\n                  chevron\n                  onClick={() => this.changeView('Playlists')}\n               />\n            </ButtonContainer>\n            <RecentlyPlayed />\n         </Container>\n      );\n   }\n}\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LibraryView);\n","import { Api } from '../toolbox';\n\nexport const fetchArtists = () => {\n   return dispatch => {\n      return Api.fetchArtists()\n         .then(artists => {\n            // The albums of each artist\n            const artistData = {};\n\n            for (let i in artists) {\n               const artist = artists[i].artist;\n               artistData[artist] = [];\n            }\n\n            dispatch({\n               type: 'FETCH_ARTIST_LIST_SUCCESS',\n               artists,\n               artistData,\n            });\n         })\n         .catch(error => {\n            console.log(error);\n         });\n   };\n};\n\nexport const fetchArtist = artist => {\n   return dispatch => {\n      return Api.fetchArtist(artist)\n         .then(albums => {\n            const albumData = {};\n\n            for (let i in albums) {\n               const album = albums[i];\n               albumData[album.album] = [];\n            }\n\n            dispatch({\n               type: 'FETCH_ARTIST_SUCCESS',\n               name: artist,\n               albums,\n               albumData,\n            });\n         })\n         .catch(error => {\n            console.log(error);\n         });\n   };\n};\n\nexport const fetchAlbums = () => {\n   return dispatch => {\n      return Api.fetchAlbums()\n         .then(albums => {\n            const albumData = {};\n\n            for (let album of albums) {\n               const name = album.album;\n               albumData[name] = [];\n            }\n\n            dispatch({\n               type: 'FETCH_ALBUM_LIST_SUCCESS',\n               albumData,\n               albums,\n            });\n         })\n         .catch(error => {\n            console.log(error);\n         });\n   };\n};\n\nexport const fetchAlbum = ({ artist, album }) => {\n   return dispatch => {\n      return Api.fetchAlbum({ artist, album })\n         .then(tracks => {\n            dispatch({\n               type: 'FETCH_ALBUM_SUCCESS',\n               album,\n               tracks,\n            });\n         })\n         .catch(error => {\n            console.log(error);\n         });\n   };\n};\n\nexport const fetchPlaylists = () => {\n   return dispatch => {\n      const playlists = localStorage.appleMusicPlaylists;\n\n      dispatch({\n         type: 'FETCH_PLAYLIST_LIST_SUCCESS',\n         playlists: playlists ? JSON.parse(playlists) : [],\n      });\n   };\n};\n\nexport const createPlaylist = playlist => {\n   return dispatch => {\n      let playlists = localStorage.appleMusicPlaylists\n         ? JSON.parse(localStorage.appleMusicPlaylists)\n         : {};\n\n      playlists[playlist.title] = playlist;\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\n\n      dispatch({\n         type: 'CREATE_PLAYLIST',\n         playlists,\n      });\n   };\n};\n\nexport const addToPlaylist = (track, playlist) => {\n   return dispatch => {\n      let playlists = localStorage.appleMusicPlaylists;\n      playlists = playlists ? JSON.parse(playlists) : playlists;\n\n      // Add track to playlist\n      playlist = {\n         ...playlist,\n         tracks: [...playlist.tracks, track],\n      };\n\n      // Update playlist in playlist list\n      playlists = {\n         ...playlists,\n         [playlist.title]: playlist,\n      };\n\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\n\n      dispatch({\n         type: 'UPDATE_PLAYLIST',\n         playlists,\n      });\n   };\n};\n\nexport const removeFromPlaylist = (index, playlist) => {\n   return dispatch => {\n      let playlists = localStorage.appleMusicPlaylists;\n      playlists = playlists ? JSON.parse(playlists) : playlists;\n\n      playlist = {\n         ...playlist,\n         tracks: [\n            ...playlist.tracks.slice(0, index),\n            ...playlist.tracks.slice(index + 1),\n         ],\n      };\n\n      // Update playlist in playlist list\n      playlists = {\n         ...playlists,\n         [playlist.title]: playlist,\n      };\n\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\n\n      dispatch({\n         type: 'UPDATE_PLAYLIST',\n         playlists,\n      });\n   };\n};\n\nexport const deletePlaylist = playlist => {\n   return dispatch => {\n      let playlists = localStorage.appleMusicPlaylists;\n      playlists = playlists ? JSON.parse(playlists) : playlists;\n\n      delete playlists[playlist.title];\n\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\n\n      dispatch({\n         type: 'UPDATE_PLAYLIST',\n         playlists,\n      });\n   };\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchArtists } from '../../api/actions';\nimport { pushView } from '../actions';\nimport { Button } from '../../toolbox';\n\nconst Container = styled.div`\n   margin-top: 48px;\n`;\n\nconst ButtonContainer = styled.div``;\n\nclass ArtistListView extends Component {\n   viewArtist = artist => {\n      this.props.pushView({\n         name: 'Artist',\n         title: artist,\n         props: {\n            artist\n         }\n      });\n   }\n\n   componentDidMount() {\n      if (!this.props.apiState.data.artists.length) {\n         this.props.fetchArtists();\n      }\n   }\n\n   render() {\n      const { artists } = this.props.apiState.data;\n\n      return (\n         <Container>\n            <ButtonContainer>\n               {artists &&\n                  artists.map((artist, index) => (\n                     <Button\n                        key={artist.artist}\n                        label={artist.artist}\n                        chevron\n                        onClick={() => this.viewArtist(artist.artist)}\n                     />\n                  ))}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      fetchArtists: () => dispatch(fetchArtists()),\n   };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistListView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchArtist } from '../../api/actions';\nimport { pushView } from '../actions';\nimport { AlbumButton, constants } from '../../toolbox';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   margin-top: 48px;\n   border-top: 1px solid ${color.gray[2]};\n`;\n\nconst ButtonContainer = styled.div`\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n`;\n\nclass ArtistView extends Component {\n   viewAlbum = ({ artist, album }) => {\n      this.props.pushView({\n         name: 'Album',\n         title: album,\n         props: {\n            hideTitle: true,\n            artist,\n            album\n         }\n      });\n   }\n\n   componentDidMount() {\n      const { artist, apiState } = this.props;\n      const { artistData } = apiState.data;\n\n      if (artistData[artist].length === 0) {\n         this.props.fetchArtist(artist);\n      }\n   }\n\n   render() {\n      const { artist, apiState } = this.props;\n      const { artistData } = apiState.data;\n      const albums = artistData[artist];\n\n      return (\n         <Container>\n            <ButtonContainer>\n               {albums &&\n                  albums.map((item, index) => {\n                     const { album, artist, artwork } = item;\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\n\n                     return (\n                        <AlbumButton\n                           key={album}\n                           label={album}\n                           sublabel={artist}\n                           artwork={url}\n                           onClick={() => this.viewAlbum({ artist, album })}\n                        />\n                     );\n                  })}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      fetchArtist: artist => dispatch(fetchArtist(artist)),\n   };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchAlbums } from '../../api/actions';\nimport { pushView } from '../actions';\nimport { AlbumButton, constants } from '../../toolbox';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   margin-top: 48px;\n   border-top: 1px solid ${color.gray[2]};\n`;\n\nconst ButtonContainer = styled.div`\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      fetchAlbums: () => dispatch(fetchAlbums()),\n   };\n};\n\nclass AlbumListView extends Component {\n   viewAlbum = ({ artist, album }) => {\n      this.props.pushView({\n         name: 'Album',\n         title: album,\n         props: {\n            hideTitle: true,\n            artist,\n            album\n         }\n      });\n   }\n\n   componentDidMount() {\n      const { apiState } = this.props;\n      const { albums } = apiState.data;\n\n      if (albums.length === 0) {\n         this.props.fetchAlbums();\n      }\n   }\n\n   render() {\n      const { apiState } = this.props;\n      const { albums } = apiState.data;\n\n      return (\n         <Container>\n            <ButtonContainer>\n               {albums &&\n                  albums.map((item, index) => {\n                     const { album, artist, artwork } = item;\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\n\n                     return (\n                        <AlbumButton\n                           key={album}\n                           label={album}\n                           sublabel={artist}\n                           artwork={url}\n                           onClick={() => this.viewAlbum({ artist, album })}\n                        />\n                     );\n                  })}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlbumListView);\n","export const playSong = ({ playlist, index }) => {\n   return dispatch => {\n      dispatch({\n         type: 'PLAY_SONG',\n         playlist,\n         index,\n      });\n   };\n};\n\nexport const resume = () => ({ type: 'RESUME' });\nexport const pause = () => ({ type: 'PAUSE' });\nexport const nextSong = () => ({ type: 'NEXT_SONG' });\nexport const prevSong = () => ({ type: 'PREV_SONG' });\nexport const addToQueue = track => ({ type: 'ADD_TO_QUEUE', track });\nexport const changeVolume = volume => ({ type: 'CHANGE_VOLUME', volume });\nexport const updateTime = info => ({ type: 'UPDATE_TIME', info });\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { playSong, addToQueue } from '../../audio/actions';\nimport { fetchAlbums, fetchAlbum, addToPlaylist } from '../../api/actions';\nimport { pushView, pushPopup } from '../actions';\nimport { Button, constants } from '../../toolbox';\n\nconst { color } = constants;\nconst breakpointSm = `@media screen and (max-width: 750px)`;\n\nconst Container = styled.div`\n   display: flex;\n\n   ${breakpointSm} {\n      display: block;\n   }\n`;\n\nconst ArtworkContainer = styled.div`\n   position: relative;\n   height: 300px;\n   width: 300px;\n   margin-right: 32px;\n\n   ${breakpointSm} {\n      height: 36vw;\n      width: 36vw;\n      display: block;\n      margin-right: 8px;\n      max-height: 100%;\n   }\n`;\n\nconst Artwork = styled.img`\n   border: 1px solid ${color.gray[2]};\n   box-sizing: border-box;\n   border-radius: 6px;\n   pointer-events: none;\n   user-select: none;\n   max-height: 100%;\n`;\n\nconst Placeholder = styled.div`\n   z-index: 1;\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: url('images/default_artwork.svg');\n   background-size: cover;\n   transition: all 0.3s;\n   opacity: ${props => (props.isHidden ? 0 : 1)};\n`;\n\nconst ButtonContainer = styled.div`\n   flex: 1;\n`;\n\nconst MobileHeader = styled.div`\n   position: relative;\n   display: flex;\n   height: 20vh;\n   margin-bottom: 16px;\n\n   @media screen and (min-width: 750px) {\n      display: none;\n   }\n`;\n\nconst TitleContainer = styled.div`\n   display: flex;\n   flex-direction: column;\n`;\n\nconst Title = styled.h1`\n   margin: 0 0 8px;\n\n   ${breakpointSm} {\n      font-size: 3.5vh;\n   }\n`;\n\nconst Subtitle = styled.h2`\n   color: ${color.red[4]};\n   font-weight: normal;\n   margin: 0 0 16px 0;\n\n   ${breakpointSm} {\n      font-size: 3vh;\n   }\n`;\n\nconst VisibleDesktop = styled.div`\n   @media screen and (max-width: 750px) {\n      display: none;\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n      audioState: state.audioState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      pushPopup: popup => dispatch(pushPopup(popup)),\n      playSong: ({ playlist, index }) =>\n         dispatch(playSong({ playlist, index })),\n      addToQueue: track => dispatch(addToQueue(track)),\n      addToPlaylist: (track, playlist) =>\n         dispatch(addToPlaylist(track, playlist)),\n      fetchAlbums: () => dispatch(fetchAlbums()),\n      fetchAlbum: ({ album }) => dispatch(fetchAlbum({ album })),\n   };\n};\n\nclass AlbumView extends Component {\n   state = {\n      isLoaded: false,\n   };\n\n   playSong = ({ playlist, index }) => {\n      this.props.playSong({ playlist, index });\n   };\n\n   setupOptionsMenu = track => {\n      this.props.pushPopup({\n         name: 'Options',\n         props: {\n            options: [\n               {\n                  label: 'Play Next',\n                  image: 'play_next.svg',\n                  onClick: () => this.props.addToQueue(track),\n               },\n               {\n                  label: 'Add to a Playlist',\n                  image: 'add_to_playlist.svg',\n                  onClick: () =>\n                     this.props.pushPopup({\n                        name: 'Playlist Selector',\n                        props: {\n                           onSelect: playlist =>\n                              this.props.addToPlaylist(track, playlist),\n                        },\n                     }),\n               },\n            ],\n         },\n      });\n   };\n\n   onArtworkLoaded = () => {\n      this.setState({ isLoaded: true });\n   };\n\n   componentDidMount() {\n      const { album, apiState } = this.props;\n      const { albums, albumData } = apiState.data;\n\n      if (albums.length === 0) {\n         this.props.fetchAlbums();\n         this.props.fetchAlbum({ album });\n      }\n\n      if (!albumData[album] || !albumData[album].length) {\n         this.props.fetchAlbum({ album });\n      }\n   }\n\n   render() {\n      const { album, apiState, audioState } = this.props;\n      const { playlist, currentIndex } = audioState;\n      const { albumData } = apiState.data;\n      const { isLoaded } = this.state;\n      const tracks = albumData[album];\n      const artwork = tracks ? tracks[0] && tracks[0].artwork : null;\n      const artist = tracks ? tracks[0] && tracks[0].artist : 'Loading';\n      const currentTrack = playlist.length && playlist[currentIndex];\n      const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\n\n      return (\n         <Container>\n            <MobileHeader>\n               <ArtworkContainer>\n                  <Placeholder isHidden={isLoaded} />\n                  {artwork && <Artwork src={url} />}\n               </ArtworkContainer>\n               <TitleContainer>\n                  <Title>{album}</Title>\n                  <Subtitle>{artist}</Subtitle>\n               </TitleContainer>\n            </MobileHeader>\n            <VisibleDesktop>\n               <ArtworkContainer>\n                  <Placeholder isHidden={isLoaded} />\n                  {artwork && (\n                     <Artwork src={url} onLoad={this.onArtworkLoaded} />\n                  )}\n               </ArtworkContainer>\n            </VisibleDesktop>\n            <ButtonContainer>\n               <VisibleDesktop>\n                  <Title>{album}</Title>\n                  <Subtitle>{artist}</Subtitle>\n               </VisibleDesktop>\n               {tracks &&\n                  tracks.map((item, index) => {\n                     return (\n                        <Button\n                           key={item.name}\n                           label={item.name}\n                           isPlaying={\n                              currentTrack &&\n                              item.name === currentTrack.name &&\n                              item.album === currentTrack.album &&\n                              item.artist === currentTrack.artist\n                           }\n                           OptionsMenu={true}\n                           onOptionsClick={() => this.setupOptionsMenu(item)}\n                           onClick={() =>\n                              this.playSong({ playlist: tracks, index })\n                           }\n                        />\n                     );\n                  })}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(\n   mapStateToProps,\n   mapDispatchToProps,\n)(AlbumView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchPlaylists } from '../../api/actions';\nimport { pushView, pushPopup } from '../actions';\nimport { PlaylistButton } from '../../toolbox';\n\nconst Container = styled.div`\n   margin-top: 48px;\n`;\n\nconst ButtonContainer = styled.div``;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      pushPopup: popup => dispatch(pushPopup(popup)),\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\n   };\n};\n\nclass PlaylistListView extends Component {\n   viewPlaylist = ({ playlist, index }) => {\n      this.props.pushView({\n         name: 'Playlist',\n         title: playlist.title,\n         props: {\n            hideTitle: true,\n            index,\n            playlist,\n         },\n      });\n   };\n\n   newPlaylist = () => {\n      this.props.pushPopup({\n         name: 'Playlist Creator',\n         props: {},\n      });\n   };\n\n   componentDidMount() {\n      this.props.fetchPlaylists();\n   }\n\n   getPlaylistButtons = () => {\n      const playlists = localStorage.appleMusicPlaylists\n         ? JSON.parse(localStorage.appleMusicPlaylists)\n         : {};\n      const playlistButtons = [];\n\n      for (let [key, playlist] of Object.entries(playlists)) {\n         playlistButtons.push(\n            <PlaylistButton\n               key={`${key}-${playlist.title}-${playlist.description}`}\n               title={playlist.title}\n               img={playlist.img || 'images/music.jpg'}\n               chevron\n               onClick={() => this.viewPlaylist({ playlist })}\n            />,\n         );\n      }\n      return playlistButtons;\n   };\n\n   render() {\n      return (\n         <Container>\n            <ButtonContainer>\n               <PlaylistButton\n                  key=\"new-playlist-button\"\n                  title=\"New Playlist...\"\n                  img=\"images/playlist_add.jpg\"\n                  color=\"red\"\n                  onClick={this.newPlaylist}\n               />\n               {this.getPlaylistButtons()}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistListView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { playSong, addToQueue } from '../../audio/actions';\nimport {\n   fetchPlaylists,\n   addToPlaylist,\n   removeFromPlaylist,\n   deletePlaylist,\n} from '../../api/actions';\nimport { pushView, popView, pushPopup } from '../actions';\nimport { Button, constants } from '../../toolbox';\n\nconst { color } = constants;\nconst breakpointSm = `@media screen and (max-width: 750px)`;\n\nconst Container = styled.div`\n   display: flex;\n\n   ${breakpointSm} {\n      display: block;\n   }\n`;\n\nconst ArtworkContainer = styled.div`\n   margin-right: 32px;\n\n   ${breakpointSm} {\n      display: block;\n      margin-right: 8px;\n      height: 100%;\n   }\n`;\n\nconst Artwork = styled.img`\n   border: 1px solid ${color.gray[2]};\n   border-radius: 6px;\n   pointer-events: none;\n   user-select: none;\n   max-height: 100%;\n`;\n\nconst ButtonContainer = styled.div`\n   flex: 1;\n   margin-top: 16px;\n`;\n\nconst MobileHeader = styled.div`\n   position: relative;\n   display: flex;\n   height: 20vh;\n   margin-bottom: 16px;\n\n   @media screen and (min-width: 750px) {\n      display: none;\n   }\n`;\n\nconst TitleContainer = styled.div`\n   display: flex;\n   flex-direction: column;\n   flex: 1;\n   margin-bottom: 16px;\n`;\n\nconst Title = styled.h1`\n   margin: 0 0 8px;\n\n   ${breakpointSm} {\n      font-size: 1.5rem;\n   }\n`;\n\nconst Subtitle = styled.h2`\n   color: ${color.red[4]};\n   font-weight: normal;\n   margin: 0 0 16px 0;\n\n   ${breakpointSm} {\n      font-size: 1.25rem;\n   }\n`;\n\nconst ActionContainer = styled.div`\n   flex: 1;\n   display: flex;\n   flex-direction: column;\n   justify-content: center;\n   align-items: flex-end;\n   padding: 0 9px;\n\n   svg, img {\n      cursor: pointer;\n   }\n`;\n\nconst Svg = styled.img`\n   height: ${props => props.size || 30}px;\n   width: ${props => props.size || 30}px;\n`;\n\nconst VisibleDesktop = styled.div`\n   @media screen and (max-width: 750px) {\n      display: none;\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n      audioState: state.audioState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      popView: () => dispatch(popView()),\n      playSong: ({ playlist, index }) =>\n         dispatch(playSong({ playlist, index })),\n      addToPlaylist: (track, playlist) =>\n         dispatch(addToPlaylist(track, playlist)),\n      addToQueue: track => dispatch(addToQueue(track)),\n      pushPopup: popup => dispatch(pushPopup(popup)),\n      removeFromPlaylist: (track, index) =>\n         dispatch(removeFromPlaylist(track, index)),\n      deletePlaylist: playlist => dispatch(deletePlaylist(playlist)),\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\n   };\n};\n\nclass PlaylistView extends Component {\n   constructor(props) {\n      super(props);\n\n      this.state = {\n         playlists: props.apiState.data.playlists,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps) {\n      const { playlists } = nextProps.apiState.data;\n\n      return {\n         playlists,\n      };\n   }\n\n   playSong = ({ playlist, index }) => {\n      this.props.playSong({ playlist, index });\n   };\n\n   deletePlaylist = () => {\n      const { playlist } = this.props;\n\n      this.props.popView();\n      setTimeout(() => {\n         this.props.deletePlaylist(playlist);\n      }, 300);\n   };\n\n   setupTrackOptionsMenu = (track, index) => {\n      const { playlist } = this.props;\n\n      this.props.pushPopup({\n         name: 'Options',\n         props: {\n            options: [\n               {\n                  label: 'Play Next',\n                  image: 'play_next.svg',\n                  onClick: () => this.props.addToQueue(track),\n               },\n               {\n                  label: 'Add to a Playlist',\n                  image: 'add_to_playlist.svg',\n                  onClick: () =>\n                     this.props.pushPopup({\n                        name: 'Playlist Selector',\n                        props: {\n                           onSelect: playlist =>\n                              this.props.addToPlaylist(track, playlist),\n                        },\n                     }),\n               },\n               {\n                  label: 'Delete from Playlist',\n                  image: 'trash.svg',\n                  onClick: () => this.props.removeFromPlaylist(index, playlist),\n               },\n            ],\n         },\n      });\n   };\n\n   setupPlaylistOptionsMenu = () => {\n      this.props.pushPopup({\n         name: 'Options',\n         props: {\n            options: [\n               {\n                  label: 'Delete from Library',\n                  image: 'trash.svg',\n                  onClick: this.deletePlaylist,\n               },\n            ],\n         },\n      });\n   };\n\n   componentDidMount() {\n      this.props.fetchPlaylists();\n   }\n\n   render() {\n      const { playlist, apiState } = this.props;\n      const playlists = JSON.parse(localStorage.appleMusicPlaylists);\n      if (!playlists) {\n         return null;\n      }\n      let { tracks, img, description, title } = playlists[playlist.title];\n      const { currentTrack } = apiState.data;\n      img = img || 'images/music.jpg';\n\n      return (\n         <Container>\n            <MobileHeader>\n               <ArtworkContainer>\n                  <Artwork src={img} />\n               </ArtworkContainer>\n               <TitleContainer>\n                  <Title>{title}</Title>\n                  <Subtitle>{description}</Subtitle>\n                  <ActionContainer>\n                     <Svg\n                        src=\"images/more_circle.svg\"\n                        onClick={this.setupPlaylistOptionsMenu}\n                     />\n                  </ActionContainer>\n               </TitleContainer>\n            </MobileHeader>\n            <VisibleDesktop>\n               <ArtworkContainer>\n                  <Artwork src={img} />\n               </ArtworkContainer>\n            </VisibleDesktop>\n            <ButtonContainer>\n               <VisibleDesktop>\n                  <TitleContainer>\n                  <Title>{title}</Title>\n                  <Subtitle>{description}</Subtitle>\n                  <ActionContainer>\n                     <Svg\n                        src=\"images/more_circle.svg\"\n                        onClick={this.setupPlaylistOptionsMenu}\n                     />\n                     </ActionContainer>\n                     </TitleContainer>\n               </VisibleDesktop>\n               {tracks &&\n                  tracks.map((item, index) => {\n                     return (\n                        <Button\n                           key={`playlist-${item.name}-${index}`}\n                           label={item.name}\n                           sublabel={item.artist}\n                           isPlaying={\n                              currentTrack &&\n                              item.name === currentTrack.name &&\n                              item.artist === currentTrack.artist\n                           }\n                           OptionsMenu={true}\n                           onOptionsClick={() =>\n                              this.setupTrackOptionsMenu(item, index)\n                           }\n                           onClick={() =>\n                              this.playSong({ playlist: tracks, index })\n                           }\n                        />\n                     );\n                  })}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { constants } from '../toolbox';\nimport * as Views from './';\n\nconst { animation } = constants;\nconst { slideInFromRight, slideOutToRight } = animation;\n\nconst Container = styled.div`\n   position: relative;\n   width: 100%;\n   max-width: 1130px;\n   flex: 1;\n   overflow: auto;\n   margin: 48px auto 64px auto;\n   padding-left: 24px;\n   overflow: hidden;\n`;\n\nconst PageContainer = styled.div`\n   z-index: ${props => (props.secondFromTop ? 0 : 1)};\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   padding: 0 24px;\n   background: white;\n   transform: ${props =>\n      props.secondFromTop && !props.becomingTop ? 'translateX(-20%)' : null};\n   overflow: ${props => (props.secondFromTop ? 'hidden' : 'auto')};\n   animation: ${props =>\n      props.exiting ? slideOutToRight : slideInFromRight} 0.3s ease-in-out;\n   transition: all 0.3s ease-in-out;\n   -webkit-overflow-scrolling: touch;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n   };\n};\n\nconst ViewStack = connect(mapStateToProps)(({ stack, exiting }) => {\n   return stack.map(({ name, props }, index) => {\n      const View = Views[name];\n      const secondFromTop = index !== stack.length - 1;\n\n      try {\n         return (\n            <PageContainer\n               key={`page-${index}`}\n               secondFromTop={secondFromTop}\n               becomingTop={exiting && index === stack.length - 2}\n               exiting={exiting && index === stack.length - 1}>\n               <View {...props} />\n            </PageContainer>\n         );\n      } catch (e) {\n         console.error('Error: This view is empty: ', View);\n         return null;\n      }\n   });\n});\n\nclass ViewContainer extends Component {\n   constructor(props) {\n      super(props);\n      const { viewState } = props;\n      const { stack } = viewState;\n\n      this.state = {\n         stack,\n         newStack: null,\n         exiting: false,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps, prevState) {\n      const { viewState } = nextProps;\n      const { stack } = viewState;\n      const exiting = stack.length < prevState.stack.length;\n\n      return {\n         stack: exiting ? prevState.stack : stack,\n         exiting,\n      };\n   }\n\n   animateBack() {\n      const { viewState } = this.props;\n      const { stack } = viewState;\n\n      setTimeout(() => {\n         this.setState({\n            stack,\n            exiting: false,\n         });\n      }, 280);\n   }\n\n   componentDidUpdate(nextProps, prevState) {\n      if (this.state.exiting) {\n         this.animateBack();\n      }\n   }\n\n   render() {\n      const { stack, exiting } = this.state;\n\n      return (\n         <Container>\n            <ViewStack stack={stack} exiting={exiting} />\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps)(ViewContainer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { Icon, constants } from '../../toolbox';\nimport { popView } from '../../views/actions';\n\nconst { color, animation } = constants;\nconst { slideInFromRight, slideOutToRight } = animation;\n\nconst Container = styled.div`\n   z-index: 2;\n   position: fixed;\n   display: flex;\n   top: 0;\n   left: 0;\n   right: 0;\n   max-width: 1200px;\n   margin: 0 auto;\n   height: ${props => (props.hideTitle ? '48px' : '90px')};\n   padding-left: 48px;\n   background: white;\n   overflow: hidden;\n   transition: all 0.3s ease-in-out;\n\n   @media screen and (max-width: 768px) {\n      padding-left: 0;\n   }\n`;\n\nconst ChevronContainer = styled.div`\n   cursor: pointer;\n   width: 40px;\n   margin-left: -6px;\n   opacity: ${props => (props.isShown ? 1 : 0)};\n   transform: ${props =>\n      props.isShown ? 'scale(1) translateX(0)' : 'scale(0) translateX(20px)'};\n   transition: all 0.3s;\n\n   &:active {\n      svg: {\n         color: ${props => props.isBackButton && color.redAlpha[2]};\n      }\n   }\n`;\n\nconst TitleContainer = styled.div`\n   position: absolute;\n   margin-top: ${props =>\n      (props.isBackButton && !props.exiting) || props.isHidden\n         ? '5px'\n         : '48px'};\n   margin-left: ${props =>\n      props.isHidden && !props.exiting ? '-100%' : '24px'};\n   margin-left: ${props => props.isTitle && props.exiting && '100vw'};\n   animation: ${props => (props.isLeaving ? slideOutToRight : slideInFromRight)}\n      0.3s ease-in-out;\n   transition: all 0.3s ease-in-out;\n\n   h1 {\n      color: ${props =>\n         (props.isBackButton && !props.exiting) || props.isHidden\n            ? color.red[4]\n            : color.black};\n      color: ${props => props.isTitle && props.exiting && 'white'};\n      font-weight: ${props =>\n         (props.isBackButton && !props.exiting) || props.isHidden\n            ? 'normal'\n            : 'bold'};\n      font-size: ${props =>\n         (props.isBackButton && !props.exiting) || props.isHidden\n            ? '20px'\n            : null};\n      opacity: ${props => (props.isHidden && !props.exiting ? 0 : 1)};\n      cursor: ${props => props.isBackButton && 'pointer'};\n\n      &:active {\n         color: ${props => props.isBackButton && color.redAlpha[2]};\n      }\n   }\n`;\n\nconst Title = styled.h1`\n   margin: 0;\n   transition: all 0.3s ease-in-out;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      popView: () => dispatch(popView()),\n   };\n};\n\nconst TitleStack = connect(mapStateToProps)(({ stack, exiting, onClick }) => {\n   return stack.map(({ name, title, props }, index) => {\n      const isHidden = index < stack.length - 2;\n      const isBackButton = index === stack.length - 2;\n      const isTitle = index === stack.length - 1;\n\n      return (\n         index >= stack.length - 3 && (\n            <TitleContainer\n               key={`title-${name}`}\n               isHidden={isHidden}\n               isBackButton={isBackButton}\n               exiting={exiting}\n               isTitle={isTitle}>\n               {!props.hideTitle && (\n                  <Title onClick={() => (isBackButton ? onClick() : null)}>\n                     {title || name}\n                  </Title>\n               )}\n            </TitleContainer>\n         )\n      );\n   });\n});\n\nconst BackButton = connect(\n   mapStateToProps,\n   mapDispatchToProps,\n)(({ viewState, popView }) => {\n   const { stack } = viewState;\n   const showChevron = stack.length > 1;\n\n   return (\n      <ChevronContainer isShown={showChevron}>\n         <Icon\n            name=\"chevron-left\"\n            size={38}\n            color={color.red[4]}\n            onClick={showChevron ? popView : null}\n         />\n      </ChevronContainer>\n   );\n});\n\nclass Header extends Component {\n   constructor(props) {\n      super(props);\n      const { viewState } = props;\n      const { stack } = viewState;\n\n      this.state = {\n         stack,\n         hideTitle: props.hideTitle,\n         newStack: null,\n         exiting: false,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps, prevState) {\n      const { viewState } = nextProps;\n      const { stack } = viewState;\n      const exiting = stack.length < prevState.stack.length;\n\n      return {\n         stack: exiting ? prevState.stack : stack,\n         exiting,\n      };\n   }\n\n   animateBack() {\n      const { viewState } = this.props;\n      const { stack } = viewState;\n\n      setTimeout(() => {\n         this.setState({\n            stack,\n            exiting: false,\n         });\n      }, 280);\n   }\n\n   componentDidUpdate(nextProps, prevState) {\n      if (this.state.exiting) {\n         this.animateBack();\n      }\n   }\n\n   render() {\n      const { stack, exiting } = this.state;\n      const currentView = stack[stack.length - 1];\n      const { hideTitle } = currentView.props;\n\n      return (\n         <Container hideTitle={hideTitle && !exiting}>\n            <BackButton />\n            <TitleStack\n               stack={stack}\n               exiting={exiting}\n               onClick={this.props.popView}\n            />\n         </Container>\n      );\n   }\n}\n\nexport default connect(\n   mapStateToProps,\n   mapDispatchToProps,\n)(Header);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n   position: relative;\n   display: flex;\n   height: 48px;\n   padding: 0 16px;\n   background: ${props => props.color};\n`;\n\nconst Section = styled.div`\n   display: flex;\n   flex: 1;\n   align-items: center;\n\n   &:nth-child(2) {\n      justify-content: center;\n   }\n\n   &:last-child {\n      justify-content: flex-end;\n   }\n`;\n\nconst Header = ({ left, center, right, color }) => {\n   return (\n      <Container color={color || 'white'}>\n         <Section>{left}</Section>\n         <Section>{center}</Section>\n         <Section>{right}</Section>\n      </Container>\n   );\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { constants, FileInput } from '../../toolbox';\nimport { fetchPlaylists, createPlaylist } from '../../api/actions';\nimport { pushView, popPopup } from '../../views/actions';\nimport Header from '../components/header';\n\nconst { color, animation } = constants;\nconst { slideInFromBottom, slideOutToBottom } = animation;\n\nconst Container = styled.div`\n   z-index: ${props => 100 + props.index};\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\n      0.3s ease-in-out;\n`;\n\nconst Button = styled.h3`\n   margin: 0;\n   color: ${color.red[4]};\n   font-weight: ${props => props.bold && 'bold'};\n   cursor: pointer;\n   user-select: none;\n`;\n\nconst Title = styled.h3`\n   margin: 0;\n`;\n\nconst Section = styled.div`\n   display: flex;\n   padding: 0 16px;\n`;\n\nconst TitleInput = styled.textarea`\n   margin-left: 16px;\n   -webkit-appearance: none;\n   font-size: 24px;\n   border: none;\n   outline: none;\n   flex: 1;\n   resize: none;\n   caret-color: ${color.red[4]};\n   font-family: 'SF Pro Display';\n`;\n\nconst DescriptionInput = styled.textarea`\n   margin: 16px 0 16px 16px;\n   -webkit-appearance: none;\n   font-size: 24px;\n   border: none;\n   outline: none;\n   flex: 1;\n   resize: none;\n   caret-color: ${color.red[4]};\n   border-top: 1px solid ${color.gray[3]};\n   border-bottom: 1px solid ${color.gray[3]};\n   font-family: 'SF Pro Display';\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      popPopup: () => dispatch(popPopup()),\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\n      createPlaylist: playlist => dispatch(createPlaylist(playlist)),\n   };\n};\n\nclass PlaylistCreator extends Component {\n   state = {\n      img: /* Base64 encoded string */ null,\n      title: '',\n      description: '',\n      tracks: [],\n   };\n\n   handleImageUpload = img => {\n      this.setState({ img });\n   };\n\n   createPlaylist = () => {\n      const description = document.getElementById('playlist-description').value;\n      const title = document.getElementById('playlist-title').value;\n      const { img, tracks } = this.state;\n\n      if (!title || !description) {\n         alert(\"Make sure to add a title and description!\");\n         return;\n      }\n\n      const playlist = {\n         title,\n         description,\n         img,\n         tracks,\n      };\n\n      this.props.createPlaylist(playlist);\n      this.props.popPopup();\n   };\n\n   render() {\n      const { index, closing } = this.props;\n\n      return (\n         <Container index={index} closing={closing}>\n            <Header\n               left={<Button onClick={this.props.popPopup}>Cancel</Button>}\n               center={<Title>New Playlist</Title>}\n               right={\n                  <Button bold onClick={this.createPlaylist}>\n                     Done\n                  </Button>\n               }\n            />\n            <Section>\n               <FileInput\n                  img={'images/photo_add.png'}\n                  onUpload={this.handleImageUpload}\n               />\n               <TitleInput id=\"playlist-title\" placeholder=\"Playlist Name\" />\n            </Section>\n            <Section>\n               <DescriptionInput\n                  id=\"playlist-description\"\n                  placeholder=\"Description\"\n               />\n            </Section>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistCreator);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { constants, PlaylistButton } from '../../toolbox';\nimport { fetchPlaylists } from '../../api/actions';\nimport { popPopup, pushPopup } from '../../views/actions';\nimport Header from '../components/header';\n\nconst { color, animation } = constants;\nconst { slideInFromBottom, slideOutToBottom } = animation;\n\nconst Container = styled.div`\n   z-index: ${props => 100 + props.index};\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\n      0.3s ease-in-out;\n`;\n\nconst Button = styled.h3`\n   margin: 0;\n   color: ${color.red[4]};\n   font-weight: ${props => props.bold && 'bold'};\n   cursor: pointer;\n   user-select: none;\n`;\n\nconst Title = styled.h1`\n   margin: 0 0 16px 0;\n   padding: 0 0 16px 16px;\n   border-bottom: 1px solid ${color.gray[2]};\n   background: ${color.gray[1]};\n`;\n\nconst ButtonContainer = styled.div`\n   padding-left: 16px;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\n      popPopup: () => dispatch(popPopup()),\n      pushPopup: popup => dispatch(pushPopup(popup)),\n   };\n};\n\nclass PlaylistSelector extends Component {\n   selectPlaylist = playlist => {\n      this.props.onSelect(playlist);\n      this.props.popPopup();\n   };\n\n   newPlaylist = () => {\n      this.props.pushPopup({\n         name: 'Playlist Creator',\n         props: {},\n      });\n   };\n\n   getPlaylistButtons = () => {\n      const { playlists } = this.props.apiState.data;\n      const playlistButtons = [];\n\n      for (let [key, playlist] of Object.entries(playlists)) {\n         playlistButtons.push(\n            <PlaylistButton\n               key={`${key}-${playlist.title}-${playlist.description}`}\n               title={playlist.title}\n               img={playlist.img || 'images/music.jpg'}\n               chevron\n               onClick={() => this.selectPlaylist(playlist)}\n            />,\n         );\n      }\n      return playlistButtons;\n   };\n\n   componentDidMount() {\n      this.props.fetchPlaylists();\n   }\n\n   render() {\n      const { index, closing } = this.props;\n\n      return (\n         <Container index={index} closing={closing}>\n            <Header\n               color={color.gray[1]}\n               right={<Button onClick={this.props.popPopup}>Cancel</Button>}\n            />\n            <Title>Add to a Playlist</Title>\n            <ButtonContainer>\n               <PlaylistButton\n                  key=\"playlist-selector-new-playlist-button\"\n                  title=\"New Playlist...\"\n                  img=\"images/playlist_add.jpg\"\n                  color=\"red\"\n                  onClick={this.newPlaylist}\n               />\n               {this.getPlaylistButtons()}\n            </ButtonContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistSelector);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { constants, OptionsButton } from '../../toolbox';\nimport { pushView, popPopup } from '../../views/actions';\n\nconst { color, animation } = constants;\nconst { slideInFromBottom, slideOutToBottom } = animation;\n\nconst Container = styled.div`\n   z-index: ${props => 100 + props.index};\n   position: fixed;\n   display: flex;\n   justify-content: center;\n   align-items: flex-end;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n`;\n\nconst Cover = styled.div`\n   z-index: 0;\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   cursor: pointer;\n   background: ${color.grayAlpha[5]};\n   animation: ${props => (props.closing ? animation.fadeOut : animation.fadeIn)}\n      0.3s ease-in-out;\n`;\n\nconst MenuContainer = styled.div`\n   position: relative;\n   width: 90%;\n   max-width: 30em;\n   margin-bottom: 16px;\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\n      0.3s ease-in-out;\n   overflow: hidden;\n`;\n\nconst Section = styled.div`\n   margin: 12px 0;\n   background: white;\n   border-radius: 20px;\n   overflow: hidden;\n\n   &:first-child {\n      margin-top: 0;\n   }\n\n   &:last-child {\n      margin-bottom: 0;\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n      apiState: state.apiState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      pushView: view => dispatch(pushView(view)),\n      popPopup: () => dispatch(popPopup()),\n   };\n};\n\nclass OptionsMenu extends Component {\n   handleClick = onClick => {\n      this.props.popPopup();\n      setTimeout(() => {\n         typeof onClick === 'function' && onClick();\n      }, 250);\n   };\n\n   render() {\n      const { index, closing, options } = this.props;\n\n      return (\n         <Container index={index}>\n            <Cover closing={closing} onClick={this.handleClick} />\n            <MenuContainer closing={closing}>\n               <Section>\n                  {options &&\n                     options.map(option => (\n                        <OptionsButton\n                           key={`option-${option.label}`}\n                           label={option.label}\n                           image={option.image}\n                           onClick={() => this.handleClick(option.onClick)}\n                        />\n                     ))}\n               </Section>\n               <Section>\n                  <OptionsButton\n                     bold\n                     center={true}\n                     label=\"Cancel\"\n                     onClick={this.handleClick}\n                  />\n               </Section>\n            </MenuContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OptionsMenu);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport PlaylistCreator from './playlist_creator';\nimport PlaylistSelector from './playlist_selector';\nimport OptionsMenu from './options';\n\nconst popups = {\n   'Playlist Creator': <PlaylistCreator />,\n   'Playlist Selector': <PlaylistSelector />,\n   'Options': <OptionsMenu />\n};\n\nconst Container = styled.div``;\n\nconst mapStateToProps = state => {\n   return {\n      viewState: state.viewState,\n   };\n};\n\nconst PopupStack = connect(mapStateToProps)(({ popupStack, closing }) => {\n   return popupStack.map(({ name, props }, index) => {\n      const popup = popups[name];\n      props.index = index;\n      props.closing = index === popupStack.length-1 && closing;\n      props.key = `popup-${index}`;\n\n      try {\n         return React.cloneElement(popup, props)\n      } catch (e) {\n         console.error('Error: This popup is broken: ', popup);\n         return null;\n      }\n   });\n});\n\nclass PopupContainer extends Component {\n   constructor(props) {\n      super(props);\n      const { viewState } = props;\n      const { popupStack } = viewState;\n\n      this.state = {\n         popupStack,\n         closing: false,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps, prevState) {\n      const { viewState } = nextProps;\n      const { popupStack } = viewState;\n      const closing = popupStack.length < prevState.popupStack.length;\n\n      return {\n         popupStack: closing ? prevState.popupStack : popupStack,\n         closing\n      }\n   }\n\n   animateClose() {\n      const { viewState } = this.props;\n      const { popupStack } = viewState;\n\n      setTimeout(() => {\n         this.setState({\n            popupStack,\n            closing: false\n         });\n      }, 280);\n   }\n\n   componentDidUpdate(nextProps, prevState) {\n      if (this.state.closing) {\n         this.animateClose();\n      }\n   }\n\n   render() {\n      const { popupStack, closing } = this.state;\n\n      return (\n         <Container>\n            <PopupStack popupStack={popupStack} closing={closing} />\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps)(PopupContainer);\n","import React, { Component } from 'react';\nimport styled, { css } from 'styled-components';\nimport { connect } from 'react-redux';\nimport { constants } from '../../../../toolbox';\nimport { toggleFullscreen } from '../../actions';\nimport { resume, pause, nextSong } from '../../../../audio/actions';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   position: relative;\n   height: 64px;\n   width: 100%;\n   text-align: center;\n   border-left: 1px solid ${color.gray[2]};\n   border-top: 1px solid #E9E9E9;\n   border-bottom: 1px solid #E9E9E9;\n   background: #F9F9F9;\n   box-sizing: border-box;\n   transition: all 0.35s ease;\n   cursor: pointer;\n\n   ${props =>\n      props.isFullscreen &&\n      css`\n         height: 40vh;\n         border-left: 1px solid transparent;\n         border-top: none;\n         border-bottom: none;\n         width: 100%;\n         cursor: default;\n         background: #fff;\n      `};\n`;\n\nconst ArtworkContainer = styled.div`\n   position: relative;\n   height: 64px;\n   max-height: 100%;\n   width: 64px;\n   padding: 8px 0;\n   text-align: center;\n   transition: all 0.35s ease;\n\n   ${props =>\n      props.isFullscreen &&\n      css`\n         height: 46vh;\n         min-height: 8em;\n         width: 100%;\n      `};\n`;\n\nconst Artwork = styled.img`\n   height: ${props => (props.isFullscreen ? '18em' : '50px')};\n   width: auto;\n   max-height: ${props => (props.isFullscreen ? '90%' : '100%')};\n   max-width: 100%;\n   margin-top: ${props => props.isPlaying && '8px'};\n   transform: ${props => props.isPlaying && 'scale(1.1)'};\n   pointer-events: none;\n   user-select: none;\n   border-radius: ${props => props.isFullscreen && '4px'};\n   transition: all 0.35s ease;\n   box-shadow: ${props => props.isPlaying && '0 10px 30px #a5a5a5'};\n`;\n\nconst InfoContainer = styled.div`\n   position: absolute;\n   top: 0;\n   left: 0;\n   right: 0;\n   height: 64px;\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding-left: 80px;\n   opacity: ${props => props.isFullscreen && 0};\n   pointer-events: ${props => props.isFullscreen && 'none'};\n   transition: all 0.35s ease;\n`;\n\nconst SongTitle = styled.h3`\n   margin: 0;\n   font-weight: normal;\n   color: #646464;\n   font-size: 13px;\n`;\n\nconst ButtonContainer = styled.div`\n   display: flex;\n   align-items: center;\n   justify-content: flex-end;\n   padding-right: 16px;\n`;\n\nconst Svg = styled.img`\n   height: 24px;\n   width: 24px;\n   margin: 0 8px;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n      navState: state.navState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\n      resume: () => dispatch(resume()),\n      pause: () => dispatch(pause()),\n      nextSong: () => dispatch(nextSong()),\n   };\n};\n\nclass MiniControls extends Component {\n   resume = e => {\n      e.stopPropagation();\n      const { audioState } = this.props;\n      const { hasAudio, isPlaying } = audioState;\n\n      if (hasAudio && !isPlaying) {\n         this.props.resume();\n      }\n   };\n\n   pause = e => {\n      e.stopPropagation();\n      const { audioState } = this.props;\n      const { hasAudio, isPlaying } = audioState;\n\n      if (hasAudio && isPlaying) {\n         this.props.pause();\n      }\n   };\n\n   nextSong = e => {\n      e.stopPropagation();\n      const { audioState } = this.props;\n      const { hasAudio } = audioState;\n\n      if (hasAudio) {\n         this.props.nextSong();\n      }\n   };\n\n   render() {\n      const { navState, audioState } = this.props;\n      const { isFullscreen } = navState;\n      const {\n         queue,\n         inQueue,\n         hasAudio,\n         isPlaying,\n         playlist,\n         currentIndex,\n      } = audioState;\n      const path = 'images';\n      const track =\n         queue.length && inQueue\n            ? queue[0]\n            : hasAudio && currentIndex < playlist.length\n               ? playlist[currentIndex]\n               : {\n                    name: ' Music.js',\n                    artist: 'Tanner Villarete',\n                    album: 'My App',\n                    artwork: 'hi.com',\n                    track: '1',\n                 };\n      const artwork = hasAudio\n         ? `https://tannerv.ddns.net/SpotiFree/${track.artwork}`\n         : `images/default_artwork.svg`;\n\n      return (\n         <Container\n            isFullscreen={isFullscreen}\n            onClick={() => !isFullscreen && this.props.toggleFullscreen()}>\n            <ArtworkContainer isFullscreen={isFullscreen}>\n               <Artwork\n                  isFullscreen={isFullscreen}\n                  isPlaying={isPlaying && isFullscreen}\n                  src={artwork}\n               />\n            </ArtworkContainer>\n            <InfoContainer isFullscreen={isFullscreen}>\n               <SongTitle>{track.name}</SongTitle>\n               <ButtonContainer size={32}>\n                  {!(hasAudio && isPlaying) && (\n                     <Svg src={`${path}/play.svg`} onClick={this.resume} />\n                  )}\n                  {isPlaying && (\n                     <Svg src={`${path}/pause.svg`} onClick={this.pause} />\n                  )}\n                  <Svg src={`${path}/skip_next.svg`} onClick={this.nextSong} />\n               </ButtonContainer>\n            </InfoContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MiniControls);\n","export const toggleFullscreen = () => ({ type: 'TOGGLE_FULLSCREEN' });\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { constants } from '../../../../toolbox';\nimport { resume, pause, nextSong } from '../../../../audio/actions';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   margin-top: 16px;\n`;\n\nconst Title = styled.h3`\n   text-align: center;\n   margin: 0;\n`;\n\nconst Subtitle = styled.h3`\n   color: ${color.red[4]};\n   font-weight: normal;\n   text-align: center;\n   margin: 8px 0 0 0;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n      navState: state.navState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      resume: () => dispatch(resume()),\n      pause: () => dispatch(pause()),\n      nextSong: () => dispatch(nextSong()),\n   };\n};\n\nclass TrackInfo extends Component {\n   render() {\n      const { audioState } = this.props;\n      const { queue, inQueue, hasAudio, playlist, currentIndex } = audioState;\n      const track =\n         queue.length && inQueue\n            ? queue[0]\n            : hasAudio\n               ? playlist[currentIndex]\n               : {\n                    name: 'Apple Music.js',\n                    artist: 'Tanner Villarete',\n                    album: 'Cal Poly',\n                 };\n\n      return (\n         <Container>\n            <Title>{track.name}</Title>\n            <Subtitle>{`${track.artist} — ${track.album}`}</Subtitle>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackInfo);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { resume, pause, nextSong, prevSong } from '../../../../audio/actions';\n\nconst Container = styled.div`\n   display: flex;\n   justify-content: space-around;\n   align-items: center;\n   min-height: 14vh;\n   margin-top: 16px;\n`;\n\nconst Svg = styled.img`\n   height: 32px;\n   width: 32px;\n   margin: 0 8px;\n   cursor: pointer;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n      navState: state.navState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      resume: () => dispatch(resume()),\n      pause: () => dispatch(pause()),\n      nextSong: () => dispatch(nextSong()),\n      prevSong: () => dispatch(prevSong()),\n   };\n};\n\nclass TrackButtons extends Component {\n   resume = () => {\n      const { audioState } = this.props;\n      const { hasAudio } = audioState;\n\n      if (hasAudio) {\n         this.props.resume();\n      }\n   }\n\n   pause = () => {\n      const { audioState } = this.props;\n      const { hasAudio, isPlaying } = audioState;\n\n      if (hasAudio && isPlaying) {\n         this.props.pause();\n      }\n   }\n\n   nextSong = () => {\n      const { audioState } = this.props;\n      const { hasAudio } = audioState;\n\n      if (hasAudio) {\n         this.props.nextSong();\n      }\n   };\n\n   prevSong = () => {\n      const { audioState } = this.props;\n      const { hasAudio } = audioState;\n\n      if (hasAudio) {\n         this.props.prevSong();\n      }\n   };\n\n   render() {\n      const { audioState } = this.props;\n      const { hasAudio, isPlaying } = audioState;\n      const path = `images`;\n\n      return (\n         <Container>\n            <Svg src={`${path}/skip_back.svg`} onClick={this.prevSong} />\n            {!(!!hasAudio && !!isPlaying) && (\n               <Svg src={`${path}/play.svg`} onClick={this.resume} />\n            )}\n            {!!isPlaying && (\n               <Svg src={`${path}/pause.svg`} onClick={this.pause} />\n            )}\n            <Svg src={`${path}/skip_next.svg`} onClick={this.nextSong} />\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackButtons);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport Slider from 'react-rangeslider';\nimport 'react-rangeslider/lib/index.css';\nimport { changeVolume } from '../../../../../audio/actions';\nimport { constants } from '../../../../../toolbox';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   height: 48px;\n   width: 90%;\n   margin: auto;\n   display: flex;\n\n   .rangeslider-horizontal.time-slider,\n   .volume-slider {\n      height: 4px;\n      width: 90%;\n      margin: auto;\n      box-shadow: none;\n\n      .rangeslider__fill {\n         background: ${color.gray[6]};\n         box-shadow: none;\n      }\n\n      .rangeslider__handle {\n         width: 7px;\n         height: 7px;\n         box-shadow: none;\n         background: ${color.gray[6]};\n         border: none;\n         outline: none;\n\n         &::active {\n            height: 30px;\n            width: 30px;\n         }\n\n         &::after {\n            display: none;\n         }\n      }\n   }\n\n   .volume-slider .rangeslider__handle {\n      width: 30px;\n      height: 30px;\n      background: white;\n      border: 1px solid rgba(0, 0, 0, 0.12);\n      box-shadow: 0 3px 3px rgb(150, 150, 150);\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      changeVolume: volume => dispatch(changeVolume(volume)),\n   };\n};\n\nclass VolumeSlider extends Component {\n   handleChange = val => {\n      this.props.changeVolume(val / 100);\n   };\n\n   render() {\n      const { audioState } = this.props;\n      const { volume } = audioState;\n\n      return (\n         <Container>\n            <Slider\n               className=\"volume-slider\"\n               tooltip={false}\n               value={volume * 100}\n               onChange={this.handleChange}\n            />\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VolumeSlider);\n","import React, { Component } from 'react';\nimport styled, { css } from 'styled-components';\nimport { connect } from 'react-redux';\nimport { updateTime } from '../../../../audio/actions';\nimport { constants } from '../../../../toolbox';\nimport Slider from 'react-rangeslider';\nimport 'react-rangeslider/lib/index.css';\n\nconst { color } = constants;\n\nconst Container = styled.div`\n   position: relative;\n   display: flex;\n   flex-direction: column;\n   width: 90%;\n   margin: 3vh auto 1vh auto;\n   height: 5vh;\n\n   .rangeslider-horizontal.time-slider,\n   .scrubber {\n      height: 4px;\n      width: 90%;\n      margin: auto;\n      box-shadow: none;\n\n      .rangeslider__fill {\n         background: ${props =>\n            props.isChanging ? color.red[4] : color.gray[6]};\n         box-shadow: none;\n         transition: all 0.05s ease;\n      }\n\n      .rangeslider__handle {\n         width: 7px;\n         height: 7px;\n         box-shadow: none;\n         background: ${color.gray[6]};\n         border: none;\n         outline: none;\n\n         &::active {\n            height: 30px;\n            width: 30px;\n         }\n\n         &::after {\n            display: none;\n         }\n      }\n   }\n\n   .scrubber .rangeslider__handle {\n      width: 8px;\n      height: 8px;\n      background: #757778;\n      border: 2px solid transparent;\n      transition: all 0.05s ease;\n\n      ${props =>\n         props.isChanging &&\n         css`\n            height: 30px;\n            width: 30px;\n            background: ${color.red[4]};\n            border: 2px solid white;\n         `};\n   }\n`;\n\nconst TimeContainer = styled.div`\n   display: flex;\n   justify-content: space-between;\n   width: 90%;\n   margin: auto;\n`;\n\nconst Time = styled.h5`\n   font-weight: normal;\n   margin: 8px 0;\n   color: ${props => (props.isChanging ? color.red[4] : color.gray[6])};\n   transform: ${props => props.shift && 'translateY(10px)'};\n   transition: all 0.15s ease;\n`;\n\nexport function formatTime(seconds = 0, guide = seconds) {\n   let s = Math.floor(seconds % 60);\n   let m = Math.floor((seconds / 60) % 60);\n   let h = Math.floor(seconds / 3600);\n   const gm = Math.floor((guide / 60) % 60);\n   const gh = Math.floor(guide / 3600);\n\n   if (isNaN(seconds) || seconds === Infinity) {\n      h = m = s = '-';\n   }\n\n   h = h > 0 || gh > 0 ? `${h}:` : '';\n   m = `${(h || gm >= 10) && m < 10 ? `0${m}` : m}:`;\n   s = s < 10 ? `0${s}` : s;\n\n   return h + m + s;\n}\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      updateTime: info => dispatch(updateTime(info)),\n   };\n};\n\nclass Scrubber extends Component {\n   state = {\n      isChanging: false,\n      time: {\n         current: 0,\n         max: 0,\n      },\n   };\n\n   startChange = () => {\n      const { audioState } = this.props;\n      const { time } = audioState;\n\n      this.setState({\n         isChanging: true,\n         time: {\n            current: time.current || 0,\n            max: time.max || 0,\n         },\n      });\n   };\n\n   handleChange = val => {\n      this.setState({\n         time: {\n            ...this.state.time,\n            current: val,\n         },\n      });\n   };\n\n   endChange = val => {\n      this.setState({\n         transitioning: true,\n         isChanging: false,\n      });\n      const audio = document.getElementById('audio');\n      if (audio) {\n         audio.currentTime = this.state.time.current;\n      }\n      setTimeout(() => {\n         this.setState({\n            transitioning: false,\n         });\n         this.props.updateTime(this.state.time);\n      }, 1000);\n   };\n\n   componentDidUpdate() {}\n\n   render() {\n      const { audioState } = this.props;\n      const { isChanging, transitioning } = this.state;\n      const propTime = audioState.time;\n      const stateTime = this.state.time;\n      const time = isChanging || transitioning ? stateTime : propTime;\n      const range = Math.round(time.current / time.max * 100);\n\n      return (\n         <Container isChanging={isChanging}>\n            <Slider\n               className=\"scrubber\"\n               tooltip={false}\n               value={time.current || 0}\n               max={time.max || 1}\n               onChange={this.handleChange}\n               onChangeStart={this.startChange}\n               onChangeComplete={this.endChange}\n            />\n            <TimeContainer>\n               <Time isChanging={isChanging} shift={isChanging && range <= 8}>\n                  {formatTime(time.current)}\n               </Time>\n               <Time shift={isChanging && range >= 90}>\n                  -{formatTime((time.max) - (time.current))}\n               </Time>\n            </TimeContainer>\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Scrubber);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport MiniControls from './mini_controls';\nimport { toggleFullscreen } from '../../actions';\nimport { nextSong, pause, updateTime } from '../../../../audio/actions';\nimport TrackInfo from './track_info';\nimport TrackButtons from './track_buttons';\nimport VolumeSlider from './volume_slider';\nimport Scrubber from './scrubber';\n\nconst Container = styled.div`\n   position: fixed;\n   bottom: 0;\n   right: 0;\n   height: ${props => (props.isFullscreen ? '100%' : '64px')};\n   width: 100%;\n   max-width: 400px;\n   background: #fff;\n   transition: all 0.35s ease;\n\n   @media screen and (max-width: 750px) {\n      z-index: 0;\n      max-width: none;\n   }\n`;\n\nconst Svg = styled.img``;\n\nconst CloseControls = styled.div`\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   height: ${props => (props.hidden ? '0' : '48px')};\n   opacity: ${props => props.hidden && '0'};\n   pointer-events: ${props => props.hidden && 'none'};\n   transition: all 0.35s ease;\n   cursor: pointer;\n`;\n\nconst FullscreenControls = styled.div`\n   opacity: ${props => props.hide && 0};\n   transition: all 0.35s ease;\n   margin-top: 5vh;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n      navState: state.navState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      nextSong: () => dispatch(nextSong()),\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\n      pause: () => dispatch(pause()),\n      updateTime: info => dispatch(updateTime(info)),\n   };\n};\n\nclass Controls extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         volume: props.audioState.volume,\n         duration: null,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps, prevState) {\n      return {\n         volume: nextProps.volume,\n      };\n   }\n\n   handlePlay = () => {\n      if (this.audio.paused) {\n         clearInterval(this.playInterval);\n         const playPromise = this.audio.play();\n         playPromise.then(() => {\n            this.createTimeInterval();\n         });\n      }\n   };\n\n   handleSliderChange = e => {\n      clearInterval(this.playInterval);\n      this.audio.currentTime = e.target.value;\n      this.createTimeInterval();\n   };\n\n   createTimeInterval() {\n      this.playInterval = setInterval(() => {\n         if (this.audio) {\n            this.props.updateTime({\n               current: this.audio.currentTime,\n               max: this.audio.duration,\n            });\n         }\n      }, 1000);\n   }\n\n   handlePause() {\n      if (!this.audio.paused) {\n         this.audio.pause();\n         clearInterval(this.playInterval);\n      }\n   }\n\n   nextSong = () => {\n      this.props.nextSong();\n   };\n\n   changeVolume = val => {\n      console.log(val);\n   };\n\n   componentDidUpdate(nextProps) {\n      const { audioState, volume } = this.props;\n      const { isPlaying } = audioState;\n\n      if (this.audio && this.audio.volume !== volume) {\n         this.audio.volume = nextProps.audioState.volume;\n      }\n\n      if (isPlaying && this.audio) {\n         this.handlePlay();\n      } else if (!isPlaying && this.audio && this.audio.src) {\n         this.handlePause();\n      }\n   }\n\n   render() {\n      const { navState, audioState } = this.props;\n      const { isFullscreen } = navState;\n      const { queue, inQueue, playlist, currentIndex, volume } = audioState;\n      const track =\n         queue.length && inQueue\n            ? queue[0]\n            : !!playlist.length\n               ? playlist[currentIndex]\n               : null;\n\n      return (\n         <Container isFullscreen={isFullscreen}>\n            <CloseControls\n               hidden={!isFullscreen}\n               onClick={this.props.toggleFullscreen}>\n               <Svg src=\"images/chevron_wide.svg\" />\n            </CloseControls>\n            <MiniControls />\n            <FullscreenControls hide={!isFullscreen}>\n               <Scrubber />\n               <TrackInfo />\n               <TrackButtons />\n               <VolumeSlider />\n            </FullscreenControls>\n            {track && (\n               <audio\n                  ref={audio => {\n                     this.audio = audio;\n                  }}\n                  volume={volume}\n                  id=\"audio\"\n                  onEnded={this.nextSong}\n                  src={`https://tannerv.ddns.net/SpotiFree/${track.url}`}\n               />\n            )}\n         </Container>\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Controls);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { toggleFullscreen } from '../../actions';\nimport { constants } from '../../../../toolbox';\n\nconst { color, animation } = constants;\nconst { fadeIn, fadeOut } = animation;\n\nconst Container = styled.div`\n   position: fixed;\n   display: ${props => !props.isOpen && 'none'};\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: ${color.grayAlpha[4]};\n   cursor: pointer;\n   animation: ${props => (props.isClosing ? fadeOut : fadeIn)} 0.35s ease;\n`;\n\nconst mapStateToProps = state => {\n   return {\n      navState: state.navState,\n   };\n};\n\nconst mapDispatchToProps = dispatch => {\n   return {\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\n   };\n};\n\nclass Cover extends Component {\n   constructor(props) {\n      super(props);\n      const { navState } = props;\n      const { isFullscreen } = navState;\n\n      this.state = {\n         isOpen: isFullscreen,\n         isClosing: false,\n      };\n   }\n\n   static getDerivedStateFromProps(nextProps, prevState) {\n      return {\n         isOpen: nextProps.navState.isFullscreen,\n         isClosing: !nextProps.navState.isFullscreen && prevState.isOpen,\n      };\n   }\n\n   animateClosed() {\n      setTimeout(() => {\n         this.setState({\n            isOpen: false,\n            isClosing: false,\n         });\n      }, 330);\n   }\n\n   componentDidUpdate(nextProps) {\n      if (this.state.isClosing) {\n         this.animateClosed();\n      }\n   }\n\n   render() {\n      const { isOpen, isClosing } = this.state;\n      return (\n         <Container\n            isOpen={isOpen || isClosing}\n            isClosing={isClosing}\n            onClick={this.props.toggleFullscreen}\n         />\n      );\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cover);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport Controls from './components/controls';\nimport Cover from './components/controls/cover';\n\nconst OuterContainer = styled.div`\n   z-index: 50;\n   position: fixed;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   height: 64px;\n   display: flex;\n   justify-content: flex-start;\n   align-items: center;\n\n   @media screen and (max-width: 750px) {\n      height: 7em;\n      flex-direction: column-reverse;\n   }\n`;\n\nconst mapStateToProps = state => {\n   return {\n      audioState: state.audioState,\n      navState: state.navState,\n   }\n}\n\nclass BottomBar extends Component {\n   render() {\n      return (\n         <OuterContainer>\n            <Cover />\n            <Controls />\n         </OuterContainer>\n      );\n   }\n}\n\nexport default connect(mapStateToProps)(BottomBar)\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport WelcomeScreen from './components/welcome';\nimport ViewContainer from './views/view_container';\nimport Header from './components/header';\nimport PopupContainer from './popups';\nimport BottomBar from './components/bar';\n\nconst Container = styled.div`\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   display: flex;\n   flex-direction: column;\n`;\n\nexport default class MusicJS extends Component {\n   render() {\n      return (\n         <Container>\n            <WelcomeScreen />\n            <Header />\n            <ViewContainer />\n            <PopupContainer />\n            <BottomBar />\n         </Container>\n      );\n   }\n}\n","import React, { Component } from 'react';\nimport MusicJS from './js';\nimport { injectGlobal } from 'styled-components';\n\ninjectGlobal`\n   body {\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      -webkit-tap-highlight-color: rgba(0,0,0,0);\n   }\n`;\n\nclass App extends Component {\n   render() {\n      return (\n         <div className=\"App\">\n            <MusicJS />\n         </div>\n      );\n   }\n}\n\ndocument.addEventListener('touchstart', function() {}, true);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n   stack: [\n      {\n         name: 'Library',\n         props: {},\n      },\n   ],\n   popupStack: [],\n};\n\nconst viewReducer = (state = initialState, action) => {\n   switch (action.type) {\n      case 'PUSH_VIEW':\n         return {\n            ...state,\n            stack: state.stack.concat(action.view),\n         };\n      case 'POP_VIEW':\n         return {\n            ...state,\n            stack: state.stack.slice(0, state.stack.length - 1),\n         };\n      case 'PUSH_POPUP':\n         return {\n            ...state,\n            popupStack: state.popupStack.concat(action.popup),\n         };\n      case 'POP_POPUP':\n         return {\n            ...state,\n            popupStack: state.popupStack.slice(0, state.popupStack.length - 1),\n         };\n      default:\n         return state;\n   }\n};\n\nexport default viewReducer;\n","const initialState = {\n   data: {\n      artists: [],\n      albums: [],\n      playlists: {},\n      artistData: {},\n      albumData: {},\n   },\n};\n\nconst apiReducer = (state = initialState, action) => {\n   switch (action.type) {\n      case 'FETCH_ARTIST_LIST_SUCCESS':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               artists: action.artists,\n               artistData: action.artistData,\n            },\n         };\n      case 'FETCH_ARTIST_SUCCESS':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               artistData: {\n                  ...state.data.artistData,\n                  [action.name]: action.albums,\n               },\n               albumData: {\n                  ...state.data.albumData,\n                  ...action.albumData,\n               },\n            },\n         };\n      case 'FETCH_ALBUM_LIST_SUCCESS':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               albumData: {\n                  ...state.data.albumData,\n                  ...action.albumData,\n               },\n               albums: action.albums,\n            },\n         };\n      case 'FETCH_ALBUM_SUCCESS':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               albumData: {\n                  ...state.data.albumData,\n                  [action.album]: action.tracks,\n               },\n            },\n         };\n      case 'FETCH_PLAYLIST_LIST_SUCCESS':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               playlists: action.playlists,\n            },\n         };\n      case 'CREATE_PLAYLIST':\n         return {\n            ...state,\n            data: {\n               ...state.data,\n               playlists: action.playlists,\n            },\n         };\n      case 'UPDATE_PLAYLIST':\n         return {\n            ...state,\n            playlists: action.playlists,\n         };\n      default:\n         return state;\n   }\n};\n\nexport default apiReducer;\n","const initialState = {\n   isPlaying: false,\n   hasAudio: false,\n   currentIndex: 0,\n   playlist: [],\n   inQueue: false,\n   queue: [],\n   prevQueue: [],\n   time: {\n      current: null,\n      max: null\n   },\n   recents: localStorage.appleMusicRecents\n      ? JSON.parse(localStorage.appleMusicRecents)\n      : [],\n   volume: 0.5,\n};\n\nconst audioReducer = (state = initialState, action) => {\n   switch (action.type) {\n      case 'PLAY_SONG':\n         let recents = state.recents.filter(\n            (track, index) =>\n               track.album !== action.playlist[action.index].album && index < 7,\n         );\n         recents.splice(0, 0, action.playlist[action.index]);\n         localStorage.appleMusicRecents = JSON.stringify(recents);\n\n         return {\n            ...state,\n            isPlaying: true,\n            hasAudio: true,\n            playlist: action.playlist,\n            currentIndex: action.index,\n            recents,\n         };\n      case 'RESUME':\n         return {\n            ...state,\n            isPlaying: !!state.playlist.length || !!state.queue.length,\n         };\n      case 'PAUSE':\n         return {\n            ...state,\n            isPlaying: false,\n         };\n      case 'NEXT_SONG':\n         const newQueue = [...state.queue.slice(1, state.queue.length)];\n\n         return {\n            ...state,\n            hasAudio: state.currentIndex + 1 < state.playlist.length,\n            inQueue: state.queue.length,\n            queue: state.inQueue ? newQueue : state.queue,\n            isPlaying:\n               !!state.isPlaying &&\n               (state.currentIndex + 1 !== state.playlist.length ||\n                  !!state.queue.length),\n            currentIndex:\n               state.currentIndex +\n               (state.inQueue && state.queue.length ? 0 : 1),\n         };\n      case 'PREV_SONG':\n         return {\n            ...state,\n            inQueue: false,\n            queue: state.inQueue\n               ? [...state.queue.slice(1, state.queue.length)]\n               : state.queue,\n            currentIndex:\n               state.currentIndex > 0\n                  ? state.currentIndex - 1\n                  : state.currentIndex,\n         };\n      case 'ADD_TO_QUEUE':\n         return {\n            ...state,\n            hasAudio: true,\n            inQueue: !state.playlist.length,\n            prevQueue: state.queue,\n            queue: state.inQueue\n               ? [\n                    ...state.queue.slice(0, 1),\n                    action.track,\n                    ...state.queue.slice(2, state.length),\n                 ]\n               : [action.track, ...state.queue],\n            playlist: state.playlist,\n         };\n      case 'UPDATE_TIME':\n         return {\n         ...state,\n         time: {\n            ...action.info\n         }\n      }\n      case 'CHANGE_VOLUME':\n         return {\n            ...state,\n            volume: action.volume,\n         };\n      default:\n         return state;\n   }\n};\n\nexport default audioReducer;\n","const initialState = {\n   isFullscreen: false\n};\n\nconst navReducer = (state = initialState, action) => {\n   switch (action.type) {\n      case 'TOGGLE_FULLSCREEN':\n         return {\n            ...state,\n            isFullscreen: !state.isFullscreen\n         }\n      default:\n         return state;\n   }\n};\n\nexport default navReducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { devToolsEnhancer } from 'redux-devtools-extension';\nimport viewReducer from './views/reducer';\nimport apiReducer from './api/reducer';\nimport audioReducer from './audio/reducer';\nimport navReducer from './components/bar/reducer';\n\nconst rootReducer = combineReducers({\n   viewState: viewReducer,\n   apiState: apiReducer,\n   audioState: audioReducer,\n   navState: navReducer,\n});\n\nconst store = createStore(\n   rootReducer,\n   devToolsEnhancer(),\n   applyMiddleware(thunkMiddleware),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport { Provider } from 'react-redux';\nimport store from './js/rootReducer';\n\nReactDOM.render(\n   <Provider store={store}>\n      <App />\n   </Provider>,\n   document.getElementById('root')\n);\nregisterServiceWorker();\n"],"sourceRoot":""}