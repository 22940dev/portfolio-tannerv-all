(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(t,e,n){t.exports=n(41)},41:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(16),o=n.n(i),c=n(3),u=n(4),s=n(6),l=n(5),p=n(7),f=n(1),h=n(2),d=n(30);function v(){var t=Object(f.a)(["\n      100% {\n         transform: translateX(100vw);\n      }\n   "]);return v=function(){return t},t}function m(){var t=Object(f.a)(["\n      0% {\n         transform: translateX(100vw);\n      }\n   "]);return m=function(){return t},t}function b(){var t=Object(f.a)(["\n      100% {\n         transform: translateY(100vh);\n      }\n      "]);return b=function(){return t},t}function g(){var t=Object(f.a)(["\n      0% {\n         transform: translateY(100vh);\n      }\n   "]);return g=function(){return t},t}function O(){var t=Object(f.a)(["\n      100% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   "]);return O=function(){return t},t}function w(){var t=Object(f.a)(["\n      0% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   "]);return w=function(){return t},t}function y(){var t=Object(f.a)(["\n      100% {\n         opacity: 0;\n      }\n   "]);return y=function(){return t},t}function S(){var t=Object(f.a)(["\n      0% {\n         opacity: 0;\n      }\n   "]);return S=function(){return t},t}var j={blue:["#EBF4FB","#D6E8F7","#ADD2EF","#5CA4E0","#0071CE","#005091","#00325C"],blueAlpha:["rgba(0, 113, 206, 0.08)","rgba(0, 113, 206, 0.16)","rgba(0, 113, 206, 0.32)","rgba(0, 113, 206, 0.64)"],green:["#F2F9ED","#E4F3DC","#C9E7B9","#93D073","#57B524","#35820F","#195103"],greenAlpha:["rgba(87, 181, 36, 0.08)","rgba(87, 181, 36, 0.16)","rgba(87, 181, 36, 0.32)","rgba(87, 181, 36, 0.64)"],red:["#FDEEEC","#FBDED9","#F8BDB4","#F07B69","#f62a54","#A11601","#610B00"],redAlpha:["rgba(232, 48, 20, 0.08)","rgba(232, 48, 20, 0.16)","rgba(232, 48, 20, 0.32)","rgba(232, 48, 20, 0.64)"],yellow:["#FFFAEC","#FEF5D9","#FDECB3","#FBD966","#F9C310","#C27E00","#914400"],yellowAlpha:["rgba(249, 195, 16, 0.08)","rgba(249, 195, 16, 0.16)","rgba(249, 195, 16, 0.32)","rgba(249, 195, 16, 0.64)"],gray:["#FAFAFA","#F5F5F5","#EEEEEE","#E1E1E2","#BDBEBF","#9E9FA0","#757778","#636567","#424446","#212426"],grayAlpha:["rgba(0, 3, 6, 0.02)","rgba(0, 3, 6, 0.04)","rgba(0, 3, 6, 0.07)","rgba(0, 3, 6, 0.12)","rgba(0, 3, 6, 0.26)","rgba(0, 3, 6, 0.38)","rgba(0, 3, 6, 0.54)","rgba(0, 3, 6, 0.61)","rgba(0, 3, 6, 0.74)","rgba(0, 3, 6, 0.87)"],whiteAlpha:["rgba(255, 255, 255, 0.25)","rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.75)","rgba(255, 255, 255, 0.97)"],white:"#FFFFFF",black:"#000000"},x=(Object(h.d)(S()),Object(h.d)(y()),Object(h.d)(w()),Object(h.d)(O()),Object(h.d)(g()),Object(h.d)(b()),Object(h.d)(m()),Object(h.d)(v()),n(25)),k=n.n(x);function E(){var t=Object(f.a)(["\n   display: inline-block;\n   width: ","px;\n   height: ","px;\n   color: ",";\n   stroke-width: ",";\n"]);return E=function(){return t},t}var C=h.c.span(E(),function(t){return t.size},function(t){return t.size},function(t){return t.color},function(t){return t.strokeWidth}),T=function(t){return r.a.createElement(C,{className:t.className,size:t.size,onClick:t.onClick,color:t.color,strokeWidth:t.strokeWidth,dangerouslySetInnerHTML:{__html:k.a.icons[t.name].toSvg({width:"100%",height:"100%","stroke-width":"inherit"})}})};T.defaultProps={className:"",color:"currentColor",size:24,strokeWidth:2};var I=T;function A(){var t=Object(f.a)(["\n   max-height: 48px;\n"]);return A=function(){return t},t}function D(){var t=Object(f.a)(["\n   flex: 1;\n   margin: 0 0 0 4px;\n   font-size: 14px;\n   color: ",";\n"]);return D=function(){return t},t}function M(){var t=Object(f.a)(["\n   display: flex;\n   align-items: center;\n   justify-content: space-between;\n   padding: 0 ","px;\n   min-height: ","px;\n   background: ",";\n"]);return M=function(){return t},t}var F=j,P=h.c.div(M(),function(t){return t.hasImage?0:4},function(t){return t.hasImage?48:24},function(t){return t.highlighted&&"linear-gradient(to bottom,rgb(60, 184, 255) 0%,rgb(52, 122, 181) 100%)"}),L=h.c.h3(D(),function(t){return t.highlighted&&"white"}),_=h.c.img(A()),R=function(t){var e=t.highlighted,n=Object(d.a)(t,["highlighted"]);return r.a.createElement(P,{highlighted:e,hasImage:n.image},n.image&&r.a.createElement(_,{src:n.image}),r.a.createElement(L,{highlighted:e},n.children),e&&!n.hideArrow&&r.a.createElement(I,{name:"chevron-right",color:e?F.white:F.gray[3],size:20,strokeWidth:3}))},U=new function t(){var e=this;Object(c.a)(this,t),this.makeRequest=function(t){var e=t.url,n=t.data;return new Promise(function(t,a){fetch(e,n).then(function(e){e.json().then(function(n){e.status>=300&&a(n.message),t(n)})}).catch(function(t){a(Error(t))})})},this.fetchArtists=function(){return e.makeRequest({url:"".concat(e.url,"/artists"),data:{method:"GET"}})},this.fetchArtist=function(t){return e.makeRequest({url:"".concat(e.url,"/artist/").concat(t),data:{method:"GET"}})},this.fetchAlbums=function(){return e.makeRequest({url:"".concat(e.url,"/albums"),data:{method:"GET"}})},this.fetchAlbum=function(t){var n=t.album;return e.makeRequest({url:"".concat(e.url,"/album/").concat(n),data:{method:"GET"}})},this.url="http://tannerv.ddns.net:3000/api"},B=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).getArcToValue=function(t){var e,a,r=n.props.log?Math.log(Math.pow(t/n.props.min,n.angleArc))/Math.log(n.props.max/n.props.min):(t-n.props.min)*n.angleArc/(n.props.max-n.props.min);return a=n.props.clockwise?(e=n.startAngle-1e-5)+r+1e-5:(e=n.endAngle+1e-5)-r-1e-5,n.props.cursor&&(e=a-n.cursorExt,a+=n.cursorExt),{startAngle:e,endAngle:a,acw:!n.props.clockwise&&!n.props.cursor}},n.getCanvasScale=function(t){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(t.webkitBackingStorePixelRatio||1)},n.coerceToStep=function(t){var e=n.props.log?Math.pow(n.props.step,~~((Math.abs(t)<1?-.5:.5)+Math.log(t)/Math.log(n.props.step))):~~((t<0?-.5:.5)+t/n.props.step)*n.props.step;return e=Math.max(Math.min(e,n.props.max),n.props.min),isNaN(e)&&(e=0),Math.round(1e3*e)/1e3},n.eventToValue=function(t){var e=n.canvasRef.getBoundingClientRect(),a=t.clientX-e.left,r=t.clientY-e.top,i=Math.atan2(a-n.w/2,n.w/2-r)-n.angleOffset;n.props.clockwise||(i=n.angleArc-i-2*Math.PI),n.angleArc!==2*Math.PI&&i<0&&i>-.5?i=0:i<0&&(i+=2*Math.PI);var o=n.props.log?Math.pow(n.props.max/n.props.min,i/n.angleArc)*n.props.min:i*(n.props.max-n.props.min)/n.angleArc+n.props.min;return n.coerceToStep(o)},n.handleMouseDown=function(t){n.props.onChange(n.eventToValue(t)),document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp),document.addEventListener("keyup",n.handleEsc)},n.handleMouseMove=function(t){t.preventDefault(),n.props.onChange(n.eventToValue(t))},n.handleMouseUp=function(t){n.props.onChangeEnd(n.eventToValue(t)),document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),document.removeEventListener("keyup",n.handleEsc)},n.handleTouchStart=function(t){t.preventDefault(),n.touchIndex=t.targetTouches.length-1,n.props.onChange(n.eventToValue(t.targetTouches[n.touchIndex])),document.addEventListener("touchmove",n.handleTouchMove,{passive:!1}),document.addEventListener("touchend",n.handleTouchEnd),document.addEventListener("touchcancel",n.handleTouchEnd)},n.handleTouchMove=function(t){t.preventDefault(),n.props.onChange(n.eventToValue(t.targetTouches[n.touchIndex]))},n.handleTouchEnd=function(t){n.props.onChangeEnd(n.eventToValue(t)),document.removeEventListener("touchmove",n.handleTouchMove),document.removeEventListener("touchend",n.handleTouchEnd),document.removeEventListener("touchcancel",n.handleTouchEnd)},n.handleEsc=function(t){27===t.keyCode&&(t.preventDefault(),n.handleMouseUp())},n.handleTextInput=function(t){var e=Math.max(Math.min(+t.target.value,n.props.max),n.props.min)||n.props.min;n.props.onChange(e)},n.handleWheel=function(t){t.preventDefault(),t.deltaX>0||t.deltaY>0?n.props.onChange(n.coerceToStep(n.props.log?n.props.value*n.props.step:n.props.value+n.props.step)):(t.deltaX<0||t.deltaY<0)&&n.props.onChange(n.coerceToStep(n.props.log?n.props.value/n.props.step:n.props.value-n.props.step))},n.handleArrowKey=function(t){37===t.keyCode||40===t.keyCode?(t.preventDefault(),n.props.onChange(n.coerceToStep(n.props.log?n.props.value/n.props.step:n.props.value-n.props.step))):38!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),n.props.onChange(n.coerceToStep(n.props.log?n.props.value*n.props.step:n.props.value+n.props.step)))},n.inputStyle=function(){return{width:"".concat(n.w/2+4>>0,"px"),height:"".concat(n.w/3>>0,"px"),position:"absolute",verticalAlign:"middle",marginTop:"".concat(n.w/3>>0,"px"),marginLeft:"-".concat(3*n.w/4+2>>0,"px"),border:0,background:"none",font:"".concat(n.props.fontWeight," ").concat(n.w/n.digits>>0,"px ").concat(n.props.font),textAlign:"center",color:n.props.inputColor||n.props.fgColor,padding:"0px",WebkitAppearance:"none"}},n.renderCenter=function(){var t=n.props,e=t.displayCustom,a=t.displayInput,i=t.disableTextInput,o=t.readOnly,c=t.value;return a?r.a.createElement("input",{style:n.inputStyle(),type:"text",value:c,onChange:n.handleTextInput,onKeyDown:n.handleArrowKey,readOnly:o||i}):e&&"function"===typeof e?e():null},n.w=n.props.width||200,n.h=n.props.height||n.w,n.cursorExt=!0===n.props.cursor?.3:n.props.cursor/100,n.angleArc=n.props.angleArc*Math.PI/180,n.angleOffset=n.props.angleOffset*Math.PI/180,n.startAngle=1.5*Math.PI+n.angleOffset,n.endAngle=1.5*Math.PI+n.angleOffset+n.angleArc,n.digits=Math.max(String(Math.abs(n.props.min)).length,String(Math.abs(n.props.max)).length,2)+2,n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.drawCanvas(),this.props.readOnly||this.canvasRef.addEventListener("touchstart",this.handleTouchStart,{passive:!1})}},{key:"componentWillReceiveProps",value:function(t){t.width&&this.w!==t.width&&(this.w=t.width),t.height&&this.h!==t.height&&(this.h=t.height)}},{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentWillUnmount",value:function(){this.canvasRef.removeEventListener("touchstart",this.handleTouchStart)}},{key:"drawCanvas",value:function(){var t=this.canvasRef.getContext("2d"),e=this.getCanvasScale(t);this.canvasRef.width=this.w*e,this.canvasRef.height=this.h*e,t.scale(e,e),this.xy=this.w/2,this.lineWidth=this.xy*this.props.thickness,this.radius=this.xy-this.lineWidth/2,t.lineWidth=this.lineWidth,t.lineCap=this.props.lineCap,t.beginPath(),t.strokeStyle=this.props.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke();var n=this.getArcToValue(this.props.value);t.beginPath(),t.strokeStyle=this.props.fgColor,t.arc(this.xy,this.xy,this.radius,n.startAngle,n.endAngle,n.acw),t.stroke()}},{key:"render",value:function(){var t=this,e=this.props,n=e.canvasClassName,a=e.className,i=e.disableMouseWheel,o=e.readOnly,c=e.title,u=e.value;return r.a.createElement("div",{className:a,style:{width:this.w,height:this.h,display:"inline-block"},onWheel:o||i?null:this.handleWheel},r.a.createElement("canvas",{ref:function(e){t.canvasRef=e},className:n,style:{width:"100%",height:"100%"},onMouseDown:o?null:this.handleMouseDown,title:c?"".concat(c,": ").concat(u):u}),this.renderCenter())}}]),e}(r.a.Component);B.defaultProps={onChangeEnd:function(){},min:0,max:100,step:1,log:!1,width:200,height:200,thickness:.35,lineCap:"butt",bgColor:"#EEE",fgColor:"#EA2",inputColor:"",font:"Arial",fontWeight:"bold",clockwise:!0,cursor:!1,stopper:!0,readOnly:!1,disableTextInput:!1,displayInput:!0,angleArc:360,angleOffset:0,disableMouseWheel:!1,className:null,canvasClassName:null};var V=B,N=n(9);function W(){var t=Object(f.a)(["\n   max-height: 100%;\n   max-width: 100%;\n"]);return W=function(){return t},t}function q(){var t=Object(f.a)(["\n         margin-left: -80px;\n         transform: rotateY(-70deg) scale(1.5);\n         z-index: 0;\n      "]);return q=function(){return t},t}function H(){var t=Object(f.a)(["\n         transform: translateX(-10px) rotateY(-70deg) scale(1.5);\n         z-index: 1;\n      "]);return H=function(){return t},t}function z(){var t=Object(f.a)(["\n         transform: scale(1.5);\n         z-index: 2;\n      "]);return z=function(){return t},t}function X(){var t=Object(f.a)(["\n         transform: translateX(10px) rotateY(70deg) scale(1.5);\n         z-index: 1;\n      "]);return X=function(){return t},t}function Y(){var t=Object(f.a)(["\n         margin-right: -80px;\n         transform: rotateY(70deg) scale(1.5);\n         z-index: 0;\n      "]);return Y=function(){return t},t}function G(){var t=Object(f.a)(['\n   position: relative;\n   flex: 0 0 auto;\n   height: 6em;\n   width: 6em;\n   box-sizing: border-box;\n   transition: all 0.3s;\n   background: url("','");\n   background-size: contain;\n   -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent) , to(rgba(250, 250, 250, 0.1)));\n   transform: translate3d(0,0,0);\n\n   ',";\n\n   ",";\n\n\n   ",";\n\n   ",";\n\n   ",";\n"]);return G=function(){return t},t}var Q=h.c.div(G(),function(t){return t.img},function(t){return"left-left-of-center"===t.displayStyle&&Object(h.b)(Y())},function(t){return"left-of-center"===t.displayStyle&&Object(h.b)(X())},function(t){return"center"===t.displayStyle&&Object(h.b)(z())},function(t){return"right-of-center"===t.displayStyle&&Object(h.b)(H())},function(t){return"right-right-of-center"===t.displayStyle&&Object(h.b)(q())}),J=h.c.img(W()),K=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.index,a=this.displayStyle;return r.a.createElement(Q,{index:n,displayStyle:a},r.a.createElement(J,{src:"http://tannerv.ddns.net:12345/SpotiFree/"+e.artwork}))}},{key:"displayStyle",get:function(){var t=this.props,e=t.index,n=t.activeIndex;return e<n?e<n-1?"left-left-of-center":"left-of-center":e>n?e>n+1?"right-right-of-center":"right-of-center":"center"}}]),e}(a.Component),$=n(11),Z=n(10),tt=n(8),et=function(){return function(t){return U.fetchArtists().then(function(e){var n={};for(var a in e){n[e[a].artist]=[]}t({type:"UPDATE_ARTIST_LIST",artists:e,artistData:n})}).catch(function(t){console.log(t)})}},nt=function(t){var e=t.artist,n=t.album;return function(t){return U.fetchAlbum({artist:e,album:n}).then(function(e){t({type:"FETCH_ALBUM_SUCCESS",album:n,tracks:e})}).catch(function(t){console.log(t)})}};function at(){var t=Object(f.a)(["\n   text-align: center;\n   margin: 0;\n   font-size: 15px;\n"]);return at=function(){return t},t}function rt(){var t=Object(f.a)(["\n   position: relative;\n   display: flex;\n   align-items: center;\n   height: 11em;\n   transform-style: preserve-3d;\n   perspective: 500px;\n   transform: translateX(","px);\n   transition: all 0.3s;\n   opacity: ",";\n"]);return rt=function(){return t},t}function it(){var t=Object(f.a)(["\n   display: flex;\n   flex-direction: column;\n   height: 92%;\n   width: 100%;\n"]);return it=function(){return t},t}var ot=h.c.div(it()),ct=h.c.div(rt(),function(t){return 112-32*t.activeIndex},function(t){return t.isHidden&&0}),ut=h.c.h3(at()),st=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={hidden:!0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.apiState.albums;console.log(e),e.length||this.props.fetchAlbums(),setTimeout(function(){t.setState({hidden:!1})},300)}},{key:"render",value:function(){var t=this.props,e=t.apiState,n=t.activeIndex,a=e.albums,i=this.state.hidden;return r.a.createElement(ot,null,r.a.createElement(ct,{activeIndex:n,isHidden:i},a.map(function(t,e){return r.a.createElement(K,{key:"album-".concat(t.album),data:t,index:e,activeIndex:n})})),a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,null,a[n].album),r.a.createElement(ut,null,a[n].artist)))}}]),e}(a.Component);Object(N.b)(function(t){return{apiState:t.apiState}},function(t){return{fetchAlbums:function(){return t(function(t){return U.fetchAlbums().then(function(e){var n={},a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)n[o.value.album]=[]}catch(u){r=!0,i=u}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}t({type:"FETCH_ALBUM_LIST_SUCCESS",albumData:n,albums:e})}).catch(function(t){console.log(t)})})}}})(st);function lt(){var t=Object(f.a)(["\n         transform: translateX(110%);\n      "]);return lt=function(){return t},t}function pt(){var t=Object(f.a)(["\n   position: relative;\n   flex: 1;\n   transition: all 0.35s;\n   overflow: hidden;\n\n   > div {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n   }\n\n   ",";\n"]);return pt=function(){return t},t}function ft(){var t=Object(f.a)(["\n         transform: translateX(0);\n      "]);return ft=function(){return t},t}function ht(){var t=Object(f.a)(["\n         animation: slideOutToRight 0.35s;\n      "]);return ht=function(){return t},t}function dt(){var t=Object(f.a)(["\n         transform: translateX(-100%);\n      "]);return dt=function(){return t},t}function vt(){var t=Object(f.a)(["\n   position: absolute;\n   display: ",";\n   top: 20px;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   transition: all 0.35s;\n   animation: "," 0.35s;\n\n   ",";\n\n   ",";\n\n   ",";\n\n   @keyframes slideInFromRight {\n      0% {\n         transform: translateX(100%);\n      }\n   }\n\n   @keyframes slideOutToRight {\n      100% {\n         transform: translateX(100%);\n      }\n   }\n"]);return vt=function(){return t},t}function mt(){var t=Object(f.a)(["\n         transform: translateX(-110%);\n         box-shadow: none;\n\n         > div {\n            opacity: 0;\n         }\n      "]);return mt=function(){return t},t}function bt(){var t=Object(f.a)(["\n   z-index: 1;\n   position: relative;\n   flex: 1;\n   height: 100%;\n   background: white;\n   box-shadow: ",";\n   transition: all 0.35s;\n   overflow: hidden;\n\n   ",";\n"]);return bt=function(){return t},t}function gt(){var t=Object(f.a)(["\n         transform: translateX(100%);\n      "]);return gt=function(){return t},t}function Ot(){var t=Object(f.a)(["\n   position: relative;\n   display: flex;\n   height: 100%;\n   transition: all 0.35s;\n\n   ",";\n"]);return Ot=function(){return t},t}var wt=h.c.div(Ot(),function(t){return t.isHidden&&"full"===t.type&&Object(h.b)(gt())}),yt=h.c.div(bt(),function(t){return"split"===t.type&&"0 0 24px black"},function(t){return t.isHidden&&Object(h.b)(mt())}),St=h.c.div(vt(),function(t){return t.isHidden&&"none"},function(t){return!t.firstOfType&&"slideInFromRight"},function(t){return t.belowTopView&&Object(h.b)(dt())},function(t){return t.topOfStack&&t.exiting&&Object(h.b)(ht())},function(t){return t.secondFromTop&&t.exiting&&Object(h.b)(ft())}),jt=h.c.div(pt(),function(t){return t.isHidden&&Object(h.b)(lt())}),xt=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).state={viewStack:t.viewStack,exiting:!1},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"animateBack",value:function(){var t=this,e=this.props.viewStack;setTimeout(function(){t.setState({viewStack:e,exiting:!1})},350)}},{key:"componentDidUpdate",value:function(t,e){this.state.exiting&&this.animateBack()}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.hidden,a=t.preview,i=t.indexOffset,o=this.state,c=o.exiting,u=o.viewStack,s=a;return r.a.createElement(wt,{className:"view-manager",type:e,isHidden:n},r.a.createElement(yt,{type:e,isHidden:n},r.a.createElement(Pt,null),u.map(function(t,e){return r.a.createElement(St,{key:"view-".concat(e),index:e+i,firstOfType:0===e,exiting:c,belowTopView:e<=u.length-2,secondFromTop:e===u.length-2,topOfStack:e===u.length-1},r.a.createElement(t.component,Object.assign({index:e+i},t.props)))})),"split"===e&&r.a.createElement(jt,{className:"preview-stack",isHidden:n},s&&r.a.createElement(s,null)))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.viewStack,a=e.viewStack,r=n.length<a.length;return{exiting:r,viewStack:r?a:n}}}]),e}(a.Component);function kt(){var t=Object(f.a)(["\n   max-height: 14px;\n"]);return kt=function(){return t},t}function Et(){var t=Object(f.a)(["\n   display: flex;\n"]);return Et=function(){return t},t}function Ct(){var t=Object(f.a)(["\n   margin: 0;\n   font-size: 14px;\n"]);return Ct=function(){return t},t}function Tt(){var t=Object(f.a)(["\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding: 0 6px;\n   height: 20px;\n   background: linear-gradient(\n      to bottom,\n      rgba(255, 255, 255, 1) 0%,\n      rgba(246, 246, 246, 1) 47%,\n      rgba(237, 237, 237, 1) 100%\n   );\n"]);return Tt=function(){return t},t}var It=h.c.div(Tt()),At=h.c.h3(Ct()),Dt=h.c.div(Et()),Mt=h.c.img(kt()),Ft=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.viewState,n=t.audioState,a=e.viewStack,i=n.isPlaying,o=a[a.length-1].component.metadata.name;return r.a.createElement(It,null,r.a.createElement(At,null,o),r.a.createElement(Dt,null,i&&r.a.createElement(Mt,{src:"play.svg"})))}}]),e}(a.Component),Pt=Object(N.b)(function(t){return{viewState:t.viewState,audioState:t.audioState}})(Ft),Lt=function(t){var e=t.playlist,n=t.index;return function(t){t({type:"PLAY_SONG",playlist:e,index:n})}},_t=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).handlePlay=function(){n.audio.paused&&(clearInterval(n.playInterval),n.audio.play().then(function(){n.createTimeInterval()}))},n.state={volume:t.audioState.volume,duration:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"createTimeInterval",value:function(){var t=this;this.playInterval=setInterval(function(){t.audio&&t.props.updateTime({current:t.audio.currentTime,max:t.audio.duration})},1e3)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.audioState,a=e.volume,r=n.isPlaying;this.audio&&this.audio.volume!==a&&(this.audio.volume=t.audioState.volume),r&&this.audio?this.handlePlay():!r&&this.audio&&this.audio.src&&this.handlePause()}},{key:"render",value:function(){var t=this,e=this.props.audioState,n=e.queue,a=e.inQueue,i=e.playlist,o=e.currentIndex,c=e.volume,u=n.length&&a?n[0]:i.length?i[o]:null;return u?r.a.createElement("audio",{ref:function(e){t.audio=e},volume:c,id:"audio",onEnded:this.nextSong,src:"http://tannerv.ddns.net:12345/SpotiFree/".concat(u.url)}):null}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{volume:t.volume}}}]),e}(a.Component),Rt=Object(N.b)(function(t){return{audioState:t.audioState,navState:t.navState}},function(t){return{nextSong:function(){return t({type:"NEXT_SONG"})},pause:function(){return t({type:"PAUSE"})},updateTime:function(e){return t(function(t){return{type:"UPDATE_TIME",info:t}}(e))}}})(_t),Ut=function(t){return{type:"PUSH_VIEW",view:t}};function Bt(){var t=Object(f.a)(["\n   position: absolute;\n   margin: ",";\n   top: ",";\n   bottom: ",";\n   left: ",";\n   right: ",";\n   user-select: none;\n   pointer-events: none;\n   max-height: 13px;\n"]);return Bt=function(){return t},t}function Vt(){var t=Object(f.a)(["\n   position: absolute;\n   height: 36%;\n   width: 36%;\n   border-radius: 50%;\n   box-shadow: inset 0 1em 3em #bfbfbf;\n\n   :active {\n      background: ",";\n   }\n"]);return Vt=function(){return t},t}function Nt(){var t=Object(f.a)(["\n   position: relative;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   height: 14em;\n   width: 14em;\n   margin: 3.5em auto;\n"]);return Nt=function(){return t},t}var Wt=j,qt=h.c.div(Nt()),Ht=h.c.div(Vt(),Wt.gray[2]),zt=h.c.img(Bt(),function(t){return t.margin},function(t){return t.top},function(t){return t.bottom},function(t){return t.left},function(t){return t.right}),Xt=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).select=function(){n.props.select(n.scrollIndex)},n.handleScroll=function(t){var e=n.state.count;Math.abs(t-e)>5||0===Math.abs(t-e)||(t>e||t<e&&100===e?(n.setState({scrolling:!0}),n.props.scrollRight()):(t<e||t>e&&0===e)&&(n.setState({scrolling:!0}),n.props.scrollLeft()),n.setState({count:t}))},n.handlePlayPause=function(){var t=n.props.audioState,e=t.hasAudio,a=t.isPlaying;e&&(a?n.props.pause():n.props.resume())},n.handleWheelClick=function(t,e){var a,r=null;if(e){var i=t.target.getBoundingClientRect();a=t.targetTouches[0].pageX-i.left,r=t.targetTouches[0].pageY-i.top}else a=t.offsetX,r=t.offsetY;a>=60&&a<130?r<40&&n.props.popView():r>=80&&r<120&&(a>=160?n.props.nextSong():a<90&&n.props.prevSong())},n.handleMouseDown=function(t){n.setState({tempScrollIndex:n.scrollIndex}),n.lastMove=t},n.state={count:0,viewStack:t.viewState.viewStack,tempScrollIndex:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=document.querySelector(".scrollwheel");e.title="",e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleMouseDown),e.addEventListener("touchmove",function(e){t.lastMove=e}),e.addEventListener("mouseup",function(e){t.state.tempScrollIndex===t.scrollIndex&&t.handleWheelClick(e),t.setState({tempScrollIndex:null})}),e.addEventListener("touchend",function(e){t.state.tempScrollIndex===t.scrollIndex&&t.handleWheelClick(t.lastMove,!0),t.setState({tempScrollIndex:null}),t.lastMove=null})}},{key:"render",value:function(){return r.a.createElement(qt,null,r.a.createElement(zt,{top:"24px",margin:"0 auto",src:"menu.svg"}),r.a.createElement(zt,{right:"24px",margin:"auto 0",src:"fast_forward.svg"}),r.a.createElement(zt,{left:"24px",margin:"auto 0",src:"rewind.svg"}),r.a.createElement(zt,{bottom:"24px",margin:"0 auto",src:"play_pause.svg"}),r.a.createElement(Ht,{onClick:this.select}),r.a.createElement(V,{value:this.state.count,min:0,max:100,step:5,fgColor:"transparent",bgColor:Wt.white,thickness:.6,displayInput:!1,canvasClassName:"scrollwheel",onChange:this.handleScroll}))}},{key:"scrollIndex",get:function(){var t=this.props.viewState.viewStack;return t[t.length-1].props.scrollIndex}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.viewState.viewStack,a=e.viewStack,r=n[n.length-1].props.scrollIndex;return Object(tt.a)({},n.length!=a.length&&{count:5*r},{viewStack:n})}}]),e}(a.Component),Yt=Object(N.b)(function(t){return{viewState:t.viewState,audioState:t.audioState}},function(t){return{scrollRight:function(){return t({type:"SCROLL_RIGHT"})},scrollLeft:function(){return t({type:"SCROLL_LEFT"})},popView:function(){return t({type:"POP_VIEW"})},select:function(e){return t(function(t){return{type:"SELECT",index:t}}(e))},nextSong:function(){return t({type:"NEXT_SONG"})},prevSong:function(){return t({type:"PREV_SONG"})},pause:function(){return t({type:"PAUSE"})},resume:function(){return t({type:"RESUME"})}}})(Xt);function Gt(){var t=Object(f.a)(["\n   flex: 1;\n   background: green;\n"]);return Gt=function(){return t},t}var Qt=h.c.div(Gt());function Jt(){var t=Object(f.a)(["\n   background: white;\n"]);return Jt=function(){return t},t}var Kt=h.c.div(Jt()),$t=[],Zt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={artists:[],scrollOffset:0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.apiState.artists;0===t.length?this.props.fetchArtists():$t=t.map(function(t){return t.artist})}},{key:"componentDidUpdate",value:function(){var t=this.state.scrollOffset;document.getElementById("coverFlowContainer").scrollTop=10*t}},{key:"render",value:function(){return r.a.createElement(Kt,{id:"coverFlowContainer"})}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.apiState,a=t.scrollIndex,r=e.scrollOffset,i=n.artists;return{artists:$t=i.map(function(t){return t.artist}),scrollOffset:a<r+9?r-1:a>r+9?r+1:r}}},{key:"metadata",get:function(){return{name:"Cover Flow",preview:Qt,sections:$t}}}]),e}(a.Component),te=Object(N.b)(function(t){return{viewState:t.viewState,apiState:t.apiState}},function(t){return{fetchArtists:function(){return t(et())}}})(Zt);function ee(){var t=Object(f.a)(["\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n"]);return ee=function(){return t},t}var ne=h.c.div(ee()),ae=Object(N.b)(function(t){return{viewState:t.viewState}})(function(t){var e=t.viewState,n=e.viewStack,a=e.viewStack.filter(function(t){return"split"===t.component.metadata.viewType}),i=a[a.length-1],o=i.props.scrollIndex,c=null;try{c=i.component.metadata.sections[o].metadata.preview}catch(u){console.log("This selection has no preview")}return r.a.createElement(ne,{className:"split-view-container"},r.a.createElement(xt,{hidden:"split"!==n[n.length-1].component.metadata.viewType,type:"split",viewStack:a,preview:c,indexOffset:0}))});function re(){var t=Object(f.a)(["\n   z-index: 3;\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   transform: translateX(",");\n   transition: all 0.35s;\n"]);return re=function(){return t},t}var ie=h.c.div(re(),function(t){return t.isHidden&&"100%"}),oe=function(t){return t.filter(function(t){return"full"===t.component.metadata.viewType})},ce=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).state={viewStack:oe(t.viewState.viewStack),exiting:!1},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"animateBack",value:function(){var t=this,e=oe(this.props.viewState.viewStack);setTimeout(function(){t.setState({viewStack:e,exiting:!1})},350)}},{key:"componentDidUpdate",value:function(){this.state.exiting&&this.animateBack()}},{key:"render",value:function(){var t=this.state.viewStack;return r.a.createElement(ie,{className:"full-view-container",isHidden:0===t.length||this.state.exiting},r.a.createElement(xt,{type:"full",viewStack:t,indexOffset:this.splitViews.length}))}},{key:"splitViews",get:function(){return this.props.viewState.viewStack.filter(function(t){return"split"===t.component.metadata.viewType})}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=oe(t.viewState.viewStack),a=e.viewStack,r=0===n.length&&n.length<a.length;return{exiting:r,viewStack:r?a:n}}}]),e}(a.Component),ue=Object(N.b)(function(t){return{viewState:t.viewState}})(ce);function se(){var t=Object(f.a)(["\n   position: relative;\n   display: flex;\n   height: 40%;\n   margin: 24px;\n   border: 4px solid black;\n   background: white;\n   border-radius: 8px;\n   overflow: hidden;\n   animation: fadeFromBlack 0.5s;\n\n   > div {\n      user-select: none;\n   }\n\n   @keyframes fadeFromBlack {\n      0% {\n         filter: brightness(0);\n      }\n   }\n"]);return se=function(){return t},t}function le(){var t=Object(f.a)(["\n   position: relative;\n   height: 38em;\n   max-height: 100%;\n   width: 23em;\n   border-radius: 30px;\n   border: 1px solid gray;\n   background: ",";\n   box-shadow: inset 0 0 2.4em #555;\n\n   @media screen and (max-width: 800px) and (max-height: 800px) {\n      height: 100vh;\n      width: 100vw;\n      border: none;\n      border-radius: 0;\n   }\n"]);return le=function(){return t},t}function pe(){var t=Object(f.a)(["\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   background: black;\n"]);return pe=function(){return t},t}var fe=j,he=h.c.div(pe()),de=h.c.div(le(),fe.gray[3]),ve=h.c.div(se()),me=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(he,null,r.a.createElement(de,null,r.a.createElement(ve,null,r.a.createElement(te,null),r.a.createElement(ae,null),r.a.createElement(ue,null),r.a.createElement(Rt,null)),r.a.createElement(Yt,null)))}}]),e}(a.Component);function be(){var t=Object(f.a)(['\n   body {\n      height: 100%;\n      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n   }\n']);return be=function(){return t},t}var ge=Object(h.a)(be()),Oe=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(ge,null))}}]),e}(a.Component),we=n(13),ye=n(27),Se=n(28);function je(){var t=Object(f.a)(["\n   flex: 1;\n   background: red;\n"]);return je=function(){return t},t}var xe=h.c.div(je());function ke(){var t=Object(f.a)(["\n   background: white;\n"]);return ke=function(){return t},t}var Ee=h.c.div(ke()),Ce=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){var t=this.props,n=t.viewState,a=t.index,r=n.selected,i=n.viewStack;if(r&&a===i.length-1){var o=this.props.scrollIndex;this.props.pushView({component:e.metadata.sections[o],props:{}})}}},{key:"render",value:function(){var t=this.props.scrollIndex,n=e.metadata.sections;return r.a.createElement(Ee,null,n.map(function(e,n){var a=e.metadata.name,i=n===t;return r.a.createElement(R,{highlighted:i,key:"section-".concat(e,"-").concat(n)},a)}))}}],[{key:"metadata",get:function(){return{name:"Music",viewType:"split",preview:xe,sections:[te,Be,Je]}}}]),e}(a.Component),Te=Object(N.b)(function(t){return{viewState:t.viewState}},function(t){return{pushView:function(e){return t(Ut(e))}}})(Ce);function Ie(){var t=Object(f.a)(["\n   flex: 1;\n   background: blue;\n"]);return Ie=function(){return t},t}var Ae=h.c.div(Ie());function De(){var t=Object(f.a)(["\n   background: white;\n"]);return De=function(){return t},t}var Me=h.c.div(De()),Fe=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props.scrollIndex,n=e.metadata.sections;return r.a.createElement(Me,null,n.map(function(e,n){var a=e.metadata.name,i=n===t;return r.a.createElement(R,{highlighted:i,key:"section-".concat(e,"-").concat(n)},a)}))}}],[{key:"metadata",get:function(){return{name:"Videos",viewType:"split",preview:Ae,sections:[]}}}]),e}(a.Component),Pe=Object(N.b)(function(t){return{viewState:t.viewState}})(Fe);function Le(){var t=Object(f.a)(["\n   background: white;\n"]);return Le=function(){return t},t}var _e=h.c.div(Le()),Re=[],Ue=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={artists:[],scrollOffset:0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.apiState.artists;0===t.length?this.props.fetchArtists():Re=t.map(function(t){return t.artist})}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.viewState,n=t.scrollIndex,a=t.index,r=e.selected,i=e.viewStack,o=this.state.scrollOffset;document.getElementById("artistsContainer").scrollTop=10*o,r&&a===i.length-1&&this.props.pushView({component:He,props:{name:Re[n]}})}},{key:"render",value:function(){var t=this.props.scrollIndex,n=e.metadata.sections;return r.a.createElement(_e,{id:"artistsContainer"},n&&n.map(function(e,n){var a=n===t;return r.a.createElement(R,{highlighted:a,key:"artist-".concat(e,"-").concat(n)},e)}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.apiState,a=e.scrollOffset,r=n.artists,i=t.scrollIndex;return{artists:Re=r.map(function(t){return t.artist}),scrollOffset:i<a+9?a-1:i>a+9?a+1:a}}},{key:"metadata",get:function(){return{name:"Artists",viewType:"full",sections:Re}}}]),e}(a.Component),Be=Object(N.b)(function(t){return{viewState:t.viewState,apiState:t.apiState}},function(t){return{fetchArtists:function(){return t(et())},pushView:function(e){return t(Ut(e))}}})(Ue);function Ve(){var t=Object(f.a)(["\n   background: white;\n"]);return Ve=function(){return t},t}var Ne=h.c.div(Ve()),We=[],qe=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={albums:[],scrollOffset:0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.apiState,n=t.name,a=e.artistData,r=this.state.albums;0===a[n].length?this.props.fetchArtist(n):We=r.map(function(t){return t.album})}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.viewState,n=t.scrollIndex,a=t.index,r=t.name,i=e.selected,o=e.viewStack;i&&a===o.length-1&&this.props.pushView({component:en,props:{artist:r,name:We[n]}})}},{key:"render",value:function(){var t=this.props,e=t.scrollIndex,n=t.apiState,a=t.name,i=n.artistData[a];return r.a.createElement(Ne,null,i&&i.map(function(t,n){var a="http://tannerv.ddns.net:12345/SpotiReact/".concat(t.artwork),i=n===e;return r.a.createElement(R,{highlighted:i,image:a,key:"album-".concat(t.album,"-").concat(n)},t.album)}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.apiState,a=t.name,r=e.scrollOffset,i=n.artistData,o=t.scrollIndex;return{albums:We=i[a].map(function(t){return t.album}),scrollOffset:o<r+9?r-1:o>r+9?r+1:r}}},{key:"metadata",get:function(){return{name:"Artist",viewType:"full",sections:We}}}]),e}(a.Component),He=Object(N.b)(function(t){return{viewState:t.viewState,apiState:t.apiState}},function(t){return{fetchArtist:function(e){return t((n=e,function(t){return U.fetchArtist(n).then(function(e){var a={};for(var r in e)a[e[r].album]=[];t({type:"FETCH_ARTIST_SUCCESS",name:n,albums:e,albumData:a})}).catch(function(t){console.log(t)})}));var n},pushView:function(e){return t(Ut(e))}}})(qe);function ze(){var t=Object(f.a)(["\n   flex: 1;\n   background: blue;\n"]);return ze=function(){return t},t}var Xe=h.c.div(ze());function Ye(){var t=Object(f.a)(["\n   background: white;\n"]);return Ye=function(){return t},t}var Ge=h.c.div(Ye()),Qe=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props.scrollIndex,n=e.metadata.sections;return r.a.createElement(Ge,null,n.map(function(e,n){var a=e.metadata.name,i=n===t;return r.a.createElement(R,{highlighted:i,key:"section-".concat(e,"-").concat(n)},a)}))}}],[{key:"metadata",get:function(){return{name:"Albums",viewType:"split",preview:Xe,sections:[]}}}]),e}(a.Component),Je=Object(N.b)(function(t){return{viewState:t.viewState}})(Qe);function Ke(){var t=Object(f.a)(["\n   background: white;\n"]);return Ke=function(){return t},t}var $e=h.c.div(Ke()),Ze=[],tn=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={albums:[],scrollOffset:0,audio:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.apiState,n=t.artist,a=t.name,r=e.albumData;r[a]&&0!==r[a].length?Ze=r[a].map(function(t){return t.name}):this.props.fetchAlbum(n,a)}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.viewState,n=t.scrollIndex,a=t.index,r=e.selected,i=e.viewStack;r&&a===i.length-1&&(this.props.pushView({component:yn,props:{}}),this.props.playSong({playlist:Ze,index:n}))}},{key:"render",value:function(){var t=this.props,e=t.scrollIndex,n=t.apiState,a=t.name,i=n.albumData[a];return r.a.createElement($e,{id:"artistsContainer"},i&&i.map(function(t,n){var a=n===e;return r.a.createElement(R,{highlighted:a,hideArrow:!0,key:"track-".concat(t.name,"-").concat(n)},t.name)}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.apiState,a=t.name,r=e.scrollOffset,i=n.albumData,o=t.scrollIndex;return Ze=i[a],{scrollOffset:o<r+9?r-1:o>r+9?r+1:r}}},{key:"metadata",get:function(){return{name:"Album",viewType:"full",sections:Ze}}}]),e}(a.Component),en=Object(N.b)(function(t){return{viewState:t.viewState,apiState:t.apiState,audioState:t.audioState}},function(t){return{pushView:function(e){return t(Ut(e))},fetchAlbum:function(e,n){return t(nt({artist:e,album:n}))},playSong:function(e){return t(Lt(e))}}})(tn);function nn(){var t=Object(f.a)(["\n   height: 3.5em;\n"]);return nn=function(){return t},t}function an(){var t=Object(f.a)(["\n   font-size: 13px;\n   margin: 2px 0;\n   color: ",";\n"]);return an=function(){return t},t}function rn(){var t=Object(f.a)(["\n   font-size: 15px;\n   margin: 2px 0;\n"]);return rn=function(){return t},t}function on(){var t=Object(f.a)(["\n   flex: 1;\n   height: 6em;\n   margin: auto 0;\n"]);return on=function(){return t},t}function cn(){var t=Object(f.a)(["\n   height: 100%;\n   width: 100%;\n   transform: rotateY(18deg);\n"]);return cn=function(){return t},t}function un(){var t=Object(f.a)(["\n   height: 8em;\n   width: 9em;\n   margin: auto 12px auto 8px;\n   -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(250, 250, 250, 0.1)));\n   transform-style: preserve-3d;\n   perspective: 500px;\n"]);return un=function(){return t},t}function sn(){var t=Object(f.a)(["\n   display: flex;\n   flex: 1;\n"]);return sn=function(){return t},t}function ln(){var t=Object(f.a)(["\n   display: flex;\n   flex-direction: column;\n   height: 100%;\n   background: white;\n"]);return ln=function(){return t},t}var pn=j,fn=h.c.div(ln()),hn=h.c.div(sn()),dn=h.c.div(un()),vn=h.c.img(cn()),mn=h.c.div(on()),bn=h.c.h2(rn()),gn=h.c.h3(an(),pn.gray[8]),On=h.c.div(nn()),wn=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={scrollOffset:0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){var t=this.props,e=t.viewState,n=(t.scrollIndex,t.index,e.selected),a=e.viewStack;n&&a.length}},{key:"render",value:function(){var t=this.props,e=(t.scrollIndex,t.audioState),n=e.playlist,a=e.currentIndex,i=n[a],o=i.name,c=i.artist,u=i.album,s=i.artwork,l=(i.url,"http://tannerv.ddns.net:12345/SpotiReact/".concat(s));return r.a.createElement(fn,null,r.a.createElement(hn,null,r.a.createElement(dn,null,r.a.createElement(vn,{src:l})),r.a.createElement(mn,null,r.a.createElement(bn,null,o),r.a.createElement(gn,null,c),r.a.createElement(gn,null,u),r.a.createElement(gn,null,a+1," of ",n.length))),r.a.createElement(On,null))}}],[{key:"metadata",get:function(){return{name:"Now Playing",viewType:"full",sections:new Array(100)}}}]),e}(a.Component),yn=Object(N.b)(function(t){return{viewState:t.viewState,apiState:t.apiState,audioState:t.audioState}},function(t){return{pushView:function(e){return t(Ut(e))},fetchAlbum:function(e,n){return t(nt({artist:e,album:n}))},playSong:function(e){return t(Lt(e))}}})(wn);function Sn(){var t=Object(f.a)(["\n   flex: 1;\n   background: url('image.png') no-repeat center;\n   animation: kenBurns 5s infinite;\n\n   @keyframes kenBurns {\n      0% {\n         -webkit-transform-origin: bottom left;\n         -moz-transform-origin: bottom left;\n         -ms-transform-origin: bottom left;\n         -o-transform-origin: bottom left;\n         transform-origin: bottom left;\n         transform: scale(1);\n         -ms-transform: scale(1);\n         -webkit-transform: scale(1);\n         -o-transform: scale(1);\n         -moz-transform: scale(1);\n      }\n      100% {\n         transform: scale(1.2);\n         -ms-transform: scale(1.2);\n         -webkit-transform: scale(1.2);\n         -o-transform: scale(1.2);\n         -moz-transform: scale(1.2);\n      }\n   }\n"]);return Sn=function(){return t},t}var jn=h.c.div(Sn());function xn(){var t=Object(f.a)(["\n   background: white;\n"]);return xn=function(){return t},t}var kn=h.c.div(xn()),En=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){var t=this.props,n=t.viewState,a=t.scrollIndex,r=t.index,i=n.selected,o=n.viewStack,c=e.metadata.sections;i&&r===o.length-1&&this.props.pushView({component:c[a],props:{hi:!0}})}},{key:"render",value:function(){var t=this.props.scrollIndex,n=e.metadata.sections;return r.a.createElement(kn,null,n.map(function(e,n){var a=e.metadata.name,i=n===t;return r.a.createElement(R,{highlighted:i,key:"section-".concat(e,"-").concat(n)},a)}))}}],[{key:"metadata",get:function(){return{component:e,name:"iPod",viewType:"split",preview:jn,sections:[Te,Pe]}}}]),e}(a.Component),Cn={viewStack:[{component:Object(N.b)(function(t){return{viewState:t.viewState}},function(t){return{pushView:function(e){return t(Ut(e))}}})(En),full_width:!1,props:{scrollIndex:0}}],selected:!1},Tn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,e=arguments.length>1?arguments[1]:void 0,n=t.viewStack.length-1,a=t.viewStack[n],r=t.viewStack[n].props.scrollIndex,i=a.component.metadata.sections,o=null;switch(e.type){case"PUSH_VIEW":return Object(tt.a)({},t,{viewStack:[].concat(Object(Z.a)(t.viewStack),[Object(tt.a)({},e.view,{props:Object(tt.a)({},e.view.props,{scrollIndex:0})})]),selected:!1});case"POP_VIEW":return t.viewStack.length>1?Object(tt.a)({},t,{viewStack:t.viewStack.slice(0,-1),selected:!1}):t;case"SCROLL_RIGHT":return o=a,r<=i.length-2&&o.props.scrollIndex++,Object(tt.a)({},t,{viewStack:[].concat(Object(Z.a)(t.viewStack.slice(0,-1)),[o])});case"SCROLL_LEFT":return o=a,r>0&&o.props.scrollIndex--,Object(tt.a)({},t,{viewStack:[].concat(Object(Z.a)(t.viewStack.slice(0,-1)),[o])});case"SELECT":return Object(tt.a)({},t,{selected:!0});default:return t}},In={artists:[],albums:[],playlists:{},artistData:{},albumData:{}},An=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_ARTIST_LIST":return Object(tt.a)({},t,{artists:e.artists,artistData:e.artistData});case"FETCH_ARTIST_SUCCESS":return Object(tt.a)({},t,{artistData:Object(tt.a)({},t.artistData,Object($.a)({},e.name,e.albums)),albumData:Object(tt.a)({},t.albumData,e.albumData)});case"FETCH_ALBUM_LIST_SUCCESS":return Object(tt.a)({},t,{albumData:Object(tt.a)({},t.albumData,e.albumData),albums:e.albums});case"FETCH_ALBUM_SUCCESS":return Object(tt.a)({},t,{albumData:Object(tt.a)({},t.albumData,Object($.a)({},e.album,e.tracks))});case"FETCH_PLAYLIST_LIST_SUCCESS":case"CREATE_PLAYLIST":case"UPDATE_PLAYLIST":return Object(tt.a)({},t,{playlists:e.playlists});default:return t}},Dn={isPlaying:!1,hasAudio:!1,currentIndex:0,playlist:[],inQueue:!1,queue:[],prevQueue:[],time:{current:null,max:null},recents:localStorage.appleMusicRecents?JSON.parse(localStorage.appleMusicRecents):[],volume:.5},Mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PLAY_SONG":var n=t.recents.filter(function(t,n){return t.album!==e.playlist[e.index].album&&n<7});return n.splice(0,0,e.playlist[e.index]),localStorage.appleMusicRecents=JSON.stringify(n),Object(tt.a)({},t,{isPlaying:!0,hasAudio:!0,playlist:e.playlist,currentIndex:e.index,recents:n});case"RESUME":return Object(tt.a)({},t,{isPlaying:!!t.playlist.length||!!t.queue.length});case"PAUSE":return Object(tt.a)({},t,{isPlaying:!1});case"NEXT_SONG":var a=Object(Z.a)(t.queue.slice(1,t.queue.length));return Object(tt.a)({},t,{hasAudio:t.currentIndex+1<t.playlist.length,inQueue:t.queue.length,queue:t.inQueue?a:t.queue,isPlaying:!!t.isPlaying&&(t.currentIndex+1!==t.playlist.length||!!t.queue.length),currentIndex:t.currentIndex+(t.inQueue&&t.queue.length?0:1)});case"PREV_SONG":return Object(tt.a)({},t,{inQueue:!1,queue:t.inQueue?Object(Z.a)(t.queue.slice(1,t.queue.length)):t.queue,currentIndex:t.currentIndex>0?t.currentIndex-1:t.currentIndex});case"ADD_TO_QUEUE":return Object(tt.a)({},t,{hasAudio:!0,inQueue:!t.playlist.length,prevQueue:t.queue,queue:t.inQueue?[].concat(Object(Z.a)(t.queue.slice(0,1)),[e.track],Object(Z.a)(t.queue.slice(2,t.length))):[e.track].concat(Object(Z.a)(t.queue)),playlist:t.playlist});case"UPDATE_TIME":return Object(tt.a)({},t,{time:Object(tt.a)({},e.info)});case"CHANGE_VOLUME":return Object(tt.a)({},t,{volume:e.volume});default:return t}},Fn=Object(we.createStore)(Object(we.combineReducers)({viewState:Tn,apiState:An,audioState:Mn}),Object(ye.composeWithDevTools)(Object(we.applyMiddleware)(Se.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N.a,{store:Fn},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.3072ab5c.chunk.js.map