(this["webpackJsonpipod-classic"]=this["webpackJsonpipod-classic"]||[]).push([[0],{66:function(e,t,n){"use strict";n.r(t);var i,r,a,c,o,s,u,l,d,b,p,f,j,h,v,x,O,g,m,w,k,y,S,C,L,M,P,T,I,A,E,z,N,H,F,_,V,U,X,B,W,R,D,G,Y=n(33),Z=n.n(Y),K=n(3),Q=n(1),J=n(7),q=n(0),$=function(){return Object(q.jsxs)("svg",{width:"95",height:"124",viewBox:"0 0 95 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(q.jsx)("path",{d:"M4 2L92 2",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M16 14L80 14",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4H4V12V64V104H16H80H91V64V12V4H80H16ZM80 12H16V64H80V12Z",fill:"#C4C4C4"}),Object(q.jsx)("rect",{x:"16",y:"16",width:"64",height:"48",fill:"#CBCCFE"}),Object(q.jsx)("path",{d:"M93 104L93 3.99999",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M2 104L2 4",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M14 64L14 16",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M82 64L82 16",stroke:"white",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M30 32V24",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M66 32V24",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M50 44L50 24",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M49 42H44",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M60 54H36",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M64 58H60",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M36 58H32",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("path",{d:"M80 86H48",stroke:"black",strokeWidth:"4"}),Object(q.jsx)("g",{filter:"url(#filter0_d)",children:Object(q.jsx)("path",{d:"M20 94H12",stroke:"#18AB1C",strokeWidth:"4"})}),Object(q.jsx)("g",{filter:"url(#filter1_d)",children:Object(q.jsx)("path",{d:"M20 98H12",stroke:"#BF4131",strokeWidth:"4"})}),Object(q.jsx)("path",{d:"M80 90H48",stroke:"white",strokeWidth:"4"}),Object(q.jsx)("rect",{x:"4",y:"104",width:"88",height:"20",fill:"black"}),Object(q.jsx)("rect",{x:"8",y:"108",width:"44",height:"4",fill:"#575757"}),Object(q.jsx)("rect",{x:"44",y:"108",width:"44",height:"4",fill:"#222222"}),Object(q.jsx)("rect",{x:"64",y:"112",width:"24",height:"4",fill:"#222222"}),Object(q.jsx)("rect",{x:"76",y:"116",width:"12",height:"4",fill:"#222222"}),Object(q.jsx)("rect",{x:"8",y:"112",width:"32",height:"4",fill:"#575757"}),Object(q.jsx)("rect",{x:"8",y:"116",width:"44",height:"4",fill:"#575757"}),Object(q.jsx)("rect",{x:"40",y:"112",width:"24",height:"4",fill:"#444444"}),Object(q.jsx)("path",{d:"M16 66L80 66",stroke:"white",strokeWidth:"4"}),Object(q.jsxs)("defs",{children:[Object(q.jsxs)("filter",{id:"filter0_d",x:"4",y:"84",width:"24",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(q.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(q.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(q.jsx)("feOffset",{}),Object(q.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(q.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.690196 0 0 0 0 0.952941 0 0 0 0 0.658824 0 0 0 1 0"}),Object(q.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(q.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),Object(q.jsxs)("filter",{id:"filter1_d",x:"4",y:"88",width:"24",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(q.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(q.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(q.jsx)("feOffset",{}),Object(q.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(q.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.964706 0 0 0 0 0.745098 0 0 0 0 0.72549 0 0 0 1 0"}),Object(q.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(q.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})]})]})},ee=n(4),te={XS:{MediaQuery:"@media (min-width: 0)",Size:{Min:0,Max:575},ContainerMaxWidth:"100%"},SM:{MediaQuery:"@media (max-width: 576px)",Size:{Min:576,Max:767},ContainerMaxWidth:"540px"},MD:{MediaQuery:"@media (min-width: 768px)",Size:{Min:768,Max:991},ContainerMaxWidth:"720px"},LG:{MediaQuery:"@media (min-width: 992px)",Size:{Min:992,Max:1199},ContainerMaxWidth:"960px"},XL:{MediaQuery:"@media (min-width: 1200px)",Size:{Min:1200,Max:null},ContainerMaxWidth:"1140px"}},ne={XXXL:"8rem",XXL:"4rem",XL:"2rem",LG:"1.5rem",MD:"1rem",SM:"0.75rem",XS:"0.5rem",XXS:"0.25rem"},ie=ee.c.div(i||(i=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n"]))),re=ee.c.p(r||(r=Object(K.a)(["\n  margin-top: ",";\n  font-size: 14px;\n  max-width: 180px;\n  color: rgb(100, 100, 100);\n"])),ne.MD),ae="Something went wrong",ce=function(e){var t=e.message,n=e.showImage,i=void 0===n||n;return Object(q.jsx)(ie,{children:Object(q.jsxs)("div",{children:[i&&Object(q.jsx)($,{}),Object(q.jsx)(re,{children:null!==t&&void 0!==t?t:ae})]})})},oe=n(68),se=n(11),ue=n(5),le=n.n(ue),de=n(8),be=n(6),pe=n(37),fe=function(e,t){if(t)return t.replace("{w}","".concat(e)).replace("{h}","".concat(e))},je=function(e){var t,n,i,r,a,c,o,s,u,l,d,b;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"Unknown name",url:null!==(i=e.href)&&void 0!==i?i:"",artwork:{url:null!==(r=fe(100,null===(a=e.attributes)||void 0===a||null===(c=a.artwork)||void 0===c?void 0:c.url))&&void 0!==r?r:""},albumName:null===(o=e.attributes)||void 0===o?void 0:o.albumName,artistName:null===(s=e.attributes)||void 0===s?void 0:s.artistName,duration:null!==(u=null===(l=e.attributes)||void 0===l?void 0:l.durationInMillis)&&void 0!==u?u:0,trackNumber:null!==(d=null===(b=e.attributes)||void 0===b?void 0:b.trackNumber)&&void 0!==d?d:0}},he=function(e){var t,n,i,r,a,c,o,s,u,l,d,b,p;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"\u2013",url:null!==(i=e.href)&&void 0!==i?i:"",curatorName:null!==(r=null===(a=e.attributes)||void 0===a?void 0:a.curatorName)&&void 0!==r?r:"",artwork:{url:null!==(c=fe(100,null===(o=e.attributes)||void 0===o||null===(s=o.artwork)||void 0===s?void 0:s.url))&&void 0!==c?c:""},description:null===(u=e.attributes)||void 0===u||null===(l=u.description)||void 0===l?void 0:l.standard,songs:null!==(d=null===(b=e.relationships)||void 0===b||null===(p=b.tracks)||void 0===p?void 0:p.data.map(je))&&void 0!==d?d:[]}},ve=function(e){var t,n,i;return{id:e.id,name:e.name,curatorName:null!==(t=e.owner.display_name)&&void 0!==t?t:"",url:e.uri,artwork:{url:null!==(n=null===(i=e.images[0])||void 0===i?void 0:i.url)&&void 0!==n?n:""},description:e.description?Object(pe.decode)(e.description):"",songs:[]}},xe=function(e){var t,n,i,r;return{id:e.uri,name:e.name,curatorName:null!==(t=e.owner.display_name)&&void 0!==t?t:"",url:e.uri,artwork:{url:null!==(n=null===(i=e.images[0])||void 0===i?void 0:i.url)&&void 0!==n?n:""},description:null!==(r=e.description)&&void 0!==r?r:"",songs:e.tracks.items.map((function(e){return function(e){var t,n;return{id:e.id,name:e.name,url:e.uri,artwork:{url:null!==(t=null===(n=e.album.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},albumName:e.album.name,artistName:e.artists.map((function(e){return e.name})).join(", "),duration:e.duration_ms,trackNumber:e.track_number}}(e.track)}))}},Oe=function(e,t){var n,i,r,a,c,o,s,u,l;return{id:e.id,name:null!==(n=null===(i=e.attributes)||void 0===i?void 0:i.name)&&void 0!==n?n:"\u2013",artistName:null===(r=e.attributes)||void 0===r?void 0:r.artistName,url:null!==(a=e.href)&&void 0!==a?a:"",artwork:{url:null!==(c=fe(null!==t&&void 0!==t?t:100,null===(o=e.attributes)||void 0===o||null===(s=o.artwork)||void 0===s?void 0:s.url))&&void 0!==c?c:""},songs:null!==(u=null===(l=e.relationships)||void 0===l?void 0:l.tracks.data.map(je))&&void 0!==u?u:[]}},ge=function(e){var t,n;return{id:e.id,name:e.name,artistName:e.artists.map((function(e){return e.name})).join(", "),url:e.uri,artwork:{url:null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},songs:[]}},me=function(e){var t,n;return{id:e.id,name:e.name,artistName:e.artists.map((function(e){return e.name})).join(", "),url:e.uri,artwork:{url:null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},songs:e.tracks.items.map((function(e){return function(e){return{id:e.id,name:e.name,url:e.uri,artistName:e.artists.map((function(e){return e.name})).join(", "),duration:e.duration_ms,trackNumber:e.track_number}}(e)}))}},we=function(e){var t,n,i,r,a,c,o;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"\u2013",url:null!==(i=null===(r=e.attributes)||void 0===r?void 0:r.url)&&void 0!==i?i:"",albums:null!==(a=null===(c=e.relationships)||void 0===c||null===(o=c.albums)||void 0===o?void 0:o.data.map(Oe))&&void 0!==a?a:[]}},ke=function(e){var t;return{id:e.id,name:e.name,url:e.uri,artwork:{url:null===(t=e.images[0])||void 0===t?void 0:t.url}}},ye=function(e){var t;return{albumName:e.albumName,artistName:e.artistName,artwork:{url:null!==(t=fe(100,e.artworkURL))&&void 0!==t?t:""},duration:e.playbackDuration,id:e.id,name:e.title,trackNumber:e.trackNumber,url:""}},Se=function(e){var t,n,i,r=e.track_window.current_track;return{albumName:r.album.name,artistName:r.artists.map((function(e){return e.name})).join(", "),artwork:{url:null!==(t=null===(n=r.album.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},duration:e.duration,id:null!==(i=r.id)&&void 0!==i?i:"",name:r.name,trackNumber:0,url:r.uri}},Ce={isPlaying:!1,isPaused:!1,isLoading:!1,currentTime:0,timeRemaining:0,percent:0,duration:0},Le=Object(Q.createContext)({}),Me=function(e){var t=e.children,n=Ji(),i=n.service,r=n.isSpotifyAuthorized,a=n.isAppleAuthorized,c=Wi(),o=c.spotifyPlayer,s=c.accessToken,u=c.deviceId,l=Ee().music,d=Object(Q.useState)(.5),b=Object(J.a)(d,2),p=b[0],f=b[1],j=Object(Q.useState)(),h=Object(J.a)(j,2),v=h[0],x=h[1],O=Object(Q.useState)(Ce),g=Object(J.a)(O,2),m=g[0],w=g[1],k=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(t){var n,i,r,c,o,s,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Unable to play: Not authorized");case 2:return s=null===(n=t.playlist)||void 0===n||null===(i=n.songs)||void 0===i?void 0:i.map((function(e){return e.id})),u=Object.fromEntries(Object.entries({album:null===(r=t.album)||void 0===r?void 0:r.id,songs:null!==s&&void 0!==s?s:null===(c=t.songs)||void 0===c?void 0:c.map((function(e){return e.url})),song:null===(o=t.song)||void 0===o?void 0:o.id,startPosition:t.startPosition}).filter((function(e){var t=Object(J.a)(e,2);t[0];return void 0!==t[1]}))),e.next=6,l.setQueue(Object(be.a)({},u));case 6:return e.next=8,l.play();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,l]),y=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(t){var n,i,a,c,o,l,d,b,p,f;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Unable to play: Not authorized");case 2:return f=[].concat(Object(se.a)(null!==(n=null===(i=t.album)||void 0===i||null===(a=i.songs)||void 0===a?void 0:a.map((function(e){return e.url})))&&void 0!==n?n:[]),Object(se.a)(null!==(c=null===(o=t.playlist)||void 0===o||null===(l=o.songs)||void 0===l?void 0:l.map((function(e){return e.url})))&&void 0!==c?c:[]),Object(se.a)(null!==(d=null===(b=t.songs)||void 0===b?void 0:b.map((function(e){return e.url})))&&void 0!==d?d:[]),[null===(p=t.song)||void 0===p?void 0:p.url]).filter((function(e){return!!e})),w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!0})})),e.next=6,fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(u),{method:"PUT",body:JSON.stringify({uris:f,offset:{position:t.startPosition}}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 6:w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,u,r]),S=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next="apple"===e.t0?3:"spotify"===e.t0?4:5;break;case 3:return e.abrupt("return",k(t));case 4:return e.abrupt("return",y(t));case 5:throw new Error("Unable to play: service not specified");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,y,i]),C=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next="apple"===e.t0?3:"spotify"===e.t0?4:5;break;case 3:return e.abrupt("return",o.pause());case 4:return e.abrupt("return",l.pause());case 5:throw new Error("Unable to play: service not specified");case 6:case"end":return e.stop()}}),e)}))),[l,i,o]),L=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:e.t0=i,e.next="apple"===e.t0?5:"spotify"===e.t0?7:9;break;case 5:return l.isPlaying?l.pause():l.isPlaying||l.play(),e.abrupt("break",10);case 7:return o.togglePlay(),e.abrupt("break",10);case 9:throw new Error("Unable to play: service not specified");case 10:case"end":return e.stop()}}),e)}))),[l,v,i,o]),M=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!0})})),e.t0=i,e.next="apple"===e.t0?6:"spotify"===e.t0?10:13;break;case 6:if(!l.nowPlayingItem){e.next=9;break}return e.next=9,l.skipToNextItem();case 9:return e.abrupt("break",14);case 10:return e.next=12,o.nextTrack();case 12:return e.abrupt("break",14);case 13:throw new Error("Unable to play: service not specified");case 14:w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!1})}));case 15:case"end":return e.stop()}}),e)}))),[l,v,i,o]),P=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!0})})),e.t0=i,e.next="apple"===e.t0?6:"spotify"===e.t0?10:13;break;case 6:if(!l.nowPlayingItem){e.next=9;break}return e.next=9,l.skipToPreviousItem();case 9:return e.abrupt("break",14);case 10:return e.next=12,o.previousTrack();case 12:return e.abrupt("break",14);case 13:throw new Error("Unable to play: service not specified");case 14:w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isLoading:!1})}));case 15:case"end":return e.stop()}}),e)}))),[l,v,i,o]),T=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==i||!l.nowPlayingItem){e.next=4;break}t=ye(l.nowPlayingItem),e.next=9;break;case 4:if("spotify"!==i){e.next=9;break}return e.next=7,o.getCurrentState();case 7:(n=e.sent)&&(t=Se(n));case 9:x(t);case 10:case"end":return e.stop()}}),e)}))),[l,i,o]),I=Object(Q.useCallback)((function(e){var t=e.state,n=!1,i=!1,r=!1;switch(t){case MusicKit.PlaybackStates.playing:i=!0;break;case MusicKit.PlaybackStates.paused:r=!0;break;case MusicKit.PlaybackStates.loading:case MusicKit.PlaybackStates.waiting:case MusicKit.PlaybackStates.stalled:n=!0}w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isPlaying:i,isPaused:r,isLoading:n})})),T()}),[T]),A=Object(Q.useCallback)((function(e){e.disallows.resuming?w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isPlaying:!0,isPaused:!1,isLoading:!1})})):e.paused&&w((function(e){return Object(be.a)(Object(be.a)({},e),{},{isPlaying:!1,isPaused:!0,isLoading:!1})})),T()}),[T]),E=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var t,n,r,a,c,s,u,d;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==i){e.next=4;break}w((function(e){return Object(be.a)(Object(be.a)({},e),{},{currentTime:l.currentPlaybackTime,timeRemaining:l.currentPlaybackTimeRemaining,percent:100*l.currentPlaybackProgress,duration:l.currentPlaybackDuration})})),e.next=24;break;case 4:if("spotify"!==i){e.next=24;break}return e.next=7,o.getCurrentState();case 7:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==t;case 11:if(!e.t0){e.next=15;break}e.t2=t,e.next=16;break;case 15:e.t2={};case 16:n=e.t2,r=n.position,a=n.duration,u=(s=(null!==a&&void 0!==a?a:0)/1e3)-(c=(null!==r&&void 0!==r?r:0)/1e3),d=Math.round(c/s*100),w((function(e){return Object(be.a)(Object(be.a)({},e),{},{currentTime:c,timeRemaining:u,percent:d,duration:s})}));case 24:case"end":return e.stop()}}),e)}))),[l,i,o]),z=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==i){e.next=5;break}return e.next=3,l.player.seekToTime(t);case 3:e.next=8;break;case 5:if("spotify"!==i){e.next=8;break}return e.next=8,o.seek(1e3*t);case 8:E();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,i,o,E]),N=Object(Q.useCallback)((function(e){r&&o.setVolume(e),a&&(l.volume=e),localStorage.setItem(Ki,"".concat(e)),f(e)}),[a,r,l,o]);return Ve("playpauseclick",(function(){L()})),Ve("forwardclick",(function(){M()})),Ve("backwardclick",(function(){P()})),Ne("playbackStateDidChange",I),Ne("queuePositionDidChange",T),Object(Q.useEffect)((function(){if(r){var e;o.addListener("player_state_changed",A);var t=parseFloat(null!==(e=localStorage.getItem(Ki))&&void 0!==e?e:"0.5");return N(t),function(){return o.removeListener("player_state_changed",A)}}}),[N,A,r,o]),Object(Q.useEffect)((function(){if(a){var e,t=parseFloat(null!==(e=localStorage.getItem(Ki))&&void 0!==e?e:"0.5");N(t)}}),[N,a]),Object(q.jsx)(Le.Provider,{value:{playbackInfo:m,nowPlayingItem:v,volume:p,play:S,pause:C,seekToTime:z,setVolume:N,updateNowPlayingItem:T,updatePlaybackInfo:E},children:t})},Pe=function(){var e=Object(Q.useContext)(Le);return Object(be.a)({},e)},Te=function(){var e=Pe(),t=e.volume,n=e.setVolume,i=Object(Q.useState)(!1),r=Object(J.a)(i,2),a=r[0],c=r[1],o=Object(Q.useState)(!0),s=Object(J.a)(o,2),u=s[0],l=s[1],d=Object(Q.useRef)();er((function(){return function(){d.current&&clearTimeout(d.current)}}));var b=Object(Q.useCallback)((function(e){!e&&d.current?(c(!1),l(!1),clearTimeout(d.current)):(c(!1),l(!0),clearTimeout(d.current))}),[]),p=Object(Q.useCallback)((function(){u&&(c(!0),d.current&&clearTimeout(d.current),d.current=setTimeout((function(){c(!1)}),3e3))}),[u]),f=Object(Q.useCallback)((function(){if(p(),1!==t&&u){var e=Math.min(t+.04,1);n(e)}}),[p,t,u,n]),j=Object(Q.useCallback)((function(){if(p(),u){var e=Math.max(t-.04,.01);n(e)}}),[p,t,u,n]);return Ve("forwardscroll",f),Ve("backwardscroll",j),Ve("wheelclick",(function(){return c(!1)})),{setEnabled:b,volume:t,active:a}},Ie="eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlJHWFFEWThYM0MifQ.eyJpYXQiOjE2MTY4ODQ1MDksImV4cCI6MTYzMjQzNjUwOSwiaXNzIjoiRzZIM0NLV005QyJ9.z7NS-8962oumCEaYOUMJfzonO2Y2tAWb_vAF_wwOkDqU8BoWTo6xDg5uG8ZvFeFpMqRoMbBaB_Mr4sxpvJzjPg",Ae=Object(Q.createContext)({}),Ee=function(){var e=window.MusicKit,t=Ji(),n=t.setIsAppleAuthorized,i=t.isSpotifyAuthorized,r=t.setService,a=Object(Q.useContext)(Ae),c=a.isConfigured,o=a.hasDevToken,s=Object(Q.useMemo)((function(){return c&&o?window.MusicKit.getInstance():{}}),[o,c]),u=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.isAuthorized){e.next=3;break}return e.next=3,s.authorize();case 3:r("apple");case 4:case"end":return e.stop()}}),e)}))),[s,r]),l=Object(Q.useCallback)((function(){s.unauthorize(),n(!1),r(i?"spotify":void 0)}),[i,s,n,r]);return{isConfigured:c,hasDevToken:o,musicKit:e,music:s,signIn:u,signOut:l}},ze=function(e){var t=e.children,n=window.MusicKit,i=Object(Q.useState)(!1),r=Object(J.a)(i,2),a=r[0],c=r[1],o=Object(Q.useState)(!1),s=Object(J.a)(o,2),u=s[0],l=s[1],d=Ji(),b=d.setIsAppleAuthorized,p=d.setService,f=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var t,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.configure({developerToken:null!==(t=Ie)?t:void 0,app:{name:"iPod.js",build:"1.0"}});case 3:(i=e.sent)&&c(!0),i.isAuthorized&&b(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[n,b]);return Object(Q.useEffect)((function(){u||f()}),[f,u]),Ne("userTokenDidChange",(function(e){e.userToken?(b(!0),p("apple")):(b(!1),p(void 0))})),Ve("musickitconfigured",(function(){l(!0)})),Object(q.jsx)(Ae.Provider,{value:{musicKit:n,isConfigured:u,hasDevToken:a},children:u?t:Object(q.jsx)(ce,{message:"Missing Apple developer token"})})},Ne=function(e,t){Object(Q.useEffect)((function(){var n=window.MusicKit;if(!n.errors.length){var i=n.getInstance();if(i)return i.addEventListener(e,t),function(){i.removeEventListener(e,t)}}}),[t,e])},He=n(38),Fe=n.n(He),_e=function(){var e=Ee().music,t=Object(Q.useCallback)(function(){var t=Object(de.a)(le.a.mark((function t(n){var i,r,a,c,o,s,u,l,d;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.endpoint,r=n.inLibrary,a=void 0!==r&&r,c=n.params,o=void 0===c?{}:c,s=a?"/v1/me/library/".concat(i):"/v1/catalog/{{storefrontId}}/".concat(i),u=Fe.a.stringify(o),l="".concat(s,"?").concat(u),t.prev=4,t.next=7,e.api.music(l);case 7:return d=t.sent,t.abrupt("return",d.data);case 11:throw t.prev=11,t.t0=t.catch(4),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),[e.api]);return{fetchAlbums:Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({endpoint:"/albums",inLibrary:!0,params:{limit:100}});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.data.map((function(e){return Oe(e,300)})));case 5:case"end":return e.stop()}}),e)}))),[t]),fetchAlbum:Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(n){var i,r,a=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>1&&void 0!==a[1]&&a[1],e.next=3,t({endpoint:"albums/".concat(n),inLibrary:i});case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",Oe(r.data[0]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),fetchArtists:Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({endpoint:"/artists",inLibrary:!0});case 2:return n=e.sent,e.abrupt("return",n.data.map(we));case 4:case"end":return e.stop()}}),e)}))),[t]),fetchArtistAlbums:Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(n){var i,r,a=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>1&&void 0!==a[1]&&a[1],e.next=3,t({endpoint:"/artists/".concat(n,"/albums"),inLibrary:i});case 3:return r=e.sent,e.abrupt("return",r.data.map((function(e){return Oe(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),fetchPlaylists:Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({endpoint:"/playlists",params:{limit:100},inLibrary:!0});case 2:return n=e.sent,e.abrupt("return",n.data.map(he));case 4:case"end":return e.stop()}}),e)}))),[t]),fetchPlaylist:Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(n){var i,r,a=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>1&&void 0!==a[1]&&a[1],e.next=3,t({endpoint:"/playlists/".concat(n),params:{include:"tracks"},inLibrary:i});case 3:return r=e.sent,e.abrupt("return",he(r.data[0]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}},Ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=Object(Q.useRef)();Object(Q.useEffect)((function(){i.current=t}),[e,t]),Object(Q.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return i&&i.current&&i.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])},Ue=function(e){var t=Ii(),n=t.windowStack,i=t.hideWindow,r=Object(Q.useCallback)((function(){n[n.length-1].id===e&&i()}),[i,e,n]);Ve("menuclick",r)},Xe=ee.c.div(a||(a=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Be=ee.c.img(c||(c=Object(K.a)(["\n  height: ",";\n  width: auto;\n  margin: ",";\n"])),ne.XL,ne.XS),We=ee.c.div(o||(o=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: "," "," 0;\n"])),ne.MD,ne.MD),Re=ee.c.h3(s||(s=Object(K.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 900;\n"]))),De=ee.c.h3(u||(u=Object(K.a)(["\n  margin: 0 0 ",";\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n"])),ne.MD),Ge=ee.c.div(l||(l=Object(K.a)(["\n  flex: 1;\n"]))),Ye=function(){Ue(ki.about.id);var e=[{type:"Link",label:"GitHub Repo",url:"https://github.com/tvillarete/ipod-classic-js"},{type:"Link",label:"My Website",url:"http://tannerv.com"},{type:"Link",label:"LinkedIn",url:"https://linkedin.com/in/tvillarete"}],t=Mi(ki.about.id,e),n=Object(J.a)(t,1)[0];return Object(q.jsx)(Xe,{children:Object(q.jsxs)(Ge,{children:[Object(q.jsxs)(We,{children:[Object(q.jsx)(Be,{alt:"iPod",src:"ipod_logo.svg"}),Object(q.jsx)(Re,{children:"iPod.js"})]}),Object(q.jsxs)(De,{children:["Made with"," ",Object(q.jsx)("span",{"aria-label":"heart",role:"img",children:"\u2764\ufe0f"})," ","by Tanner Villarete"]}),Object(q.jsx)(br,{options:e,activeIndex:n})]})})},Ze={variants:{closed:{x:"100%"},open:{x:0,transition:{duration:.3,type:"tween"}},closing:{x:"100%",transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Ke={variants:{closed:{y:"110%"},open:{y:0,transition:{duration:.3,type:"tween"}},closing:{y:"110%",transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Qe={variants:{closed:{scale:.6,opacity:0},open:{scale:1,opacity:1,transition:{duration:.3,type:"spring"}},closing:{scale:.6,opacity:0,transition:{duration:.3,type:"spring"}}},initial:"closed",animate:"open",exit:"closing"},Je={variants:{closed:{opacity:0},open:{opacity:1},closing:{opacity:0,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},qe={variants:{closed:{opacity:0,scale:.3},open:{opacity:1,scale:1,transition:{duration:.5,type:"tween"}},closing:{opacity:0,scale:.3,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},$e={variants:{closed:{x:"130%",opacity:0},open:{x:0,opacity:1,transition:{duration:.4,type:"tween"}},closing:{x:"130%",opacity:0,transition:{duration:.4,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},et={variants:{closed:{},open:{},closing:{opacity:0,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},tt=n(67),nt=n(14),it=function(e,t){if(t)return t.replace("{w}","".concat(e)).replace("{h}","".concat(e))},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),c=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||c>0?"".concat(r,":"):"")+(i="".concat((r||a>=10)&&i<10?"0".concat(i):i,":"))+(n=n<10?"0".concat(n):n)},at=function(e,t){var n=window.MusicKit.getInstance();return[{type:"Action",label:"Play Next",onSelect:function(){return n.playNext(Object(nt.a)({},e,t))}},{type:"Action",label:"Play Later",onSelect:function(){return n.playLater(Object(nt.a)({},e,t))}}]},ct=ee.c.div(d||(d=Object(K.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: -28%;\n  bottom: -50%;\n  left: -50%;\n  right: -50%;\n  border: 1px solid lightgray;\n  background: white;\n  transform: rotateY(180deg);\n"]))),ot=ee.c.div(b||(b=Object(K.a)(["\n  padding: 4px 8px;\n  background: linear-gradient(180deg, #6585ad 0%, #789ab3 100%);\n  border-bottom: 1px solid #6d87a3;\n"]))),st=ee.c.h3(p||(p=Object(K.a)(["\n  font-size: 16px;\n  margin: 0;\n  color: white;\n"]))),ut=Object(ee.c)(st)(f||(f=Object(K.a)(["\n  font-size: 14px;\n"]))),lt=ee.c.div(j||(j=Object(K.a)(["\n  position: relative;\n  flex: 1;\n  overflow: auto;\n"]))),dt=function(e){var t=e.albumId,n=e.setPlayingAlbum,i=$i({name:"album",id:t,inLibrary:!0}),r=i.data,a=i.isLoading,c=Object(Q.useMemo)((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.songs.map((function(e,t){return{type:"Song",label:e.name,queueOptions:{album:r,startPosition:t}}})))&&void 0!==e?e:[]}),[r]),o=Mi(yi.coverFlow.id,c),s=Object(J.a)(o,1)[0];return Ve("centerclick",(function(){return n(!0)})),Object(q.jsx)(ct,{children:a?Object(q.jsx)(sa,{}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(ot,{children:[Object(q.jsx)(st,{children:null===r||void 0===r?void 0:r.name}),Object(q.jsx)(ut,{children:null===r||void 0===r?void 0:r.artistName})]}),Object(q.jsx)(lt,{children:Object(q.jsx)(br,{activeIndex:s,options:c})})]})})},bt=ee.c.div.attrs((function(e){return{style:{background:"transparent",backgroundSize:"cover"}}}))(h||(h=Object(K.a)(["\n  z-index: ",";\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: transform 0.25s, opacity 0.35s, background 0.35s;\n  transform-style: preserve-3d;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(240, 240, 240, 0.2)));\n  opacity: ",";\n\n  ",";\n\n  ",";\n"])),(function(e){return 1-Math.abs(e.index-e.activeIndex)}),(function(e){return e.isHidden&&0}),(function(e){return e.isActive&&Object(ee.b)(v||(v=Object(K.a)(["\n      transition: transform 0.3s, opacity 0.35s, background 0.35s;\n      transform: translate3d(","px, 4px, 20px)\n        ",";\n\n      ",";\n\n      ",";\n    "])),e.midpoint.x-60,e.isSelected&&"rotateY(-180deg) translateY(10%) scale(0.96)",e.isSelected&&Object(ee.b)(x||(x=Object(K.a)(["\n        transition: transform 0.5s, opacity 0.35s, background 0.35s;\n        -webkit-box-reflect: none;\n\n        "," {\n          opacity: 0;\n        }\n      "])),pt),e.isPlaying&&Object(ee.b)(O||(O=Object(K.a)(["\n        transform: translate(","px, -10px) rotateY(18deg);\n\n        "," {\n          opacity: 1;\n        }\n      "])),e.midpoint.x/6,pt))}),(function(e){return!e.isActive&&Object(ee.b)(g||(g=Object(K.a)(["\n      transform: translateX(","px) scale(1.1) translateZ(-65px)\n        rotateY(",");\n    "])),e.offset,e.index<e.activeIndex?"70deg":"-70deg")})),pt=ee.c.img(m||(m=Object(K.a)(["\n  z-index: 0;\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: opacity 0.5s;\n"]))),ft=Object(ee.c)(tt.a.div)(w||(w=Object(K.a)(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),jt=function(e){var t,n=e.album,i=e.midpoint,r=e.index,a=e.activeIndex,c=e.isSelected,o=e.playingAlbum,s=e.setPlayingAlbum,u=r>a-15&&r<a+15,l=r===a,d=function(e,t){return 0===e?0:t-46+48*e+(e<0?-48:24)}(r-a,i.x),b=!l&&o;return u?Object(q.jsxs)(bt,{isActive:l,isSelected:c,isHidden:b,midpoint:i,offset:d,index:r,activeIndex:a,isPlaying:c&&o,children:[Object(q.jsx)(pt,{src:it(300,null===(t=n.artwork)||void 0===t?void 0:t.url)}),Object(q.jsx)(oe.a,{children:c&&!o&&Object(q.jsx)(ft,Object(be.a)(Object(be.a)({},qe),{},{children:Object(q.jsx)(dt,{albumId:n.id,setPlayingAlbum:s})}))})]}):null},ht=ee.c.div(k||(k=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),vt=ee.c.div(y||(y=Object(K.a)(["\n  z-index: 2;\n  position: relative;\n  display: flex;\n  flex-wrap: nowrap;\n  flex: 1;\n  padding-top: 8%;\n  -webkit-overflow-scrolling: touch; /* [3] */\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  perspective: 500px;\n"]))),xt=Object(ee.c)(tt.a.div)(S||(S=Object(K.a)(["\n  z-index: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30%;\n"]))),Ot=Object(ee.c)(tt.a.div)(C||(C=Object(K.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 20px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),gt=ee.c.h3(L||(L=Object(K.a)(["\n  margin: 0;\n  font-size: 16px;\n  text-align: center;\n\n  :first-of-type {\n    margin-top: 24px;\n  }\n"]))),mt=function(e){var t,n=e.albums,i=Object(Q.useState)(0),r=Object(J.a)(i,2),a=r[0],c=r[1],o=Object(Q.useState)({x:0,y:0}),s=Object(J.a)(o,2),u=s[0],l=s[1],d=Object(Q.useRef)(null),b=Object(Q.useState)(),p=Object(J.a)(b,2),f=p[0],j=p[1],h=Object(Q.useState)(!1),v=Object(J.a)(h,2),x=v[0],O=v[1],g=Ii().hideWindow,m=Object(Q.useCallback)((function(){if(!f){var e=n[a];j(e)}}),[a,n,f]),w=Object(Q.useCallback)((function(){f&&x?O(!1):f?j(void 0):g()}),[g,x,f]),k=Object(Q.useCallback)((function(){a<n.length-1&&!f&&!x&&c(a+1)}),[a,n.length,x,f]),y=Object(Q.useCallback)((function(){a>0&&!f&&!x&&c(a-1)}),[a,x,f]),S=Object(Q.useCallback)((function(){if(d.current){var e=d.current.getBoundingClientRect(),t=e.width,n=e.height;l({x:t/2,y:n/2})}}),[]);return Object(Q.useEffect)(S,[S]),Ve("centerclick",m),Ve("menuclick",w),Ve("forwardscroll",k),Ve("backwardscroll",y),Object(q.jsxs)(ht,{children:[Object(q.jsx)(vt,{ref:d,children:n.map((function(e,t){return Object(q.jsx)(jt,{index:t,activeIndex:a,midpoint:u,album:e,playingAlbum:x,isSelected:!!f&&e.id===f.id,setPlayingAlbum:O},"cf-artwork-".concat(e.id))}))}),Object(q.jsxs)(oe.a,{children:[n.length&&!x&&Object(q.jsx)(xt,Object(be.a)(Object(be.a)({},Je),{},{children:Object(q.jsx)(gt,{children:null===(t=n[a])||void 0===t?void 0:t.name})})),x&&Object(q.jsx)(Ot,Object(be.a)(Object(be.a)({},Je),{},{children:Object(q.jsx)(va,{hideArtwork:!0,onHide:w})}))]})]})},wt=ee.c.div(M||(M=Object(K.a)(["\n  flex: 1;\n"]))),kt=function(){var e=Ii().hideWindow,t=Ji().isAuthorized,n=$i({name:"albums",artworkSize:350}),i=n.data,r=n.isLoading,a=Object(Q.useCallback)((function(){t&&!r||e()}),[e,t,r]);return Ve("menuclick",a),Object(q.jsx)(wt,{children:r?Object(q.jsx)(sa,{backgroundColor:"white"}):t?Object(q.jsx)(mt,{albums:null!==i&&void 0!==i?i:[]}):Object(q.jsx)(xr,{message:"Sign in to view Cover Flow"})})},yt=Object(ee.c)(tt.a.div)(P||(P=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),St=ee.c.img(T||(T=Object(K.a)(["\n  height: 6em;\n  width: 6em;\n  margin: ",";\n"])),ne.XS),Ct=ee.c.h3(I||(I=Object(K.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Lt=function(){return Object(q.jsxs)(yt,{children:[Object(q.jsx)(St,{src:"dice.svg"}),Object(q.jsx)(Ct,{children:"Games"})]})},Mt=Object(ee.c)(tt.a.div)(A||(A=Object(K.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),Pt=function(){var e=Ji(),t=e.isSpotifyAuthorized,n=e.isAppleAuthorized,i=$i({name:"albums",artworkSize:400}),r=i.data,a=i.isLoading,c=i.hasError,o=Object(Q.useMemo)((function(){return r&&!c?r.map((function(e){var t,n;return null!==(t=null===(n=e.artwork)||void 0===n?void 0:n.url)&&void 0!==t?t:""})):[]}),[r,c]);return Object(q.jsx)(Mt,Object(be.a)(Object(be.a)({},$e),{},{children:a?Object(q.jsx)(sa,{backgroundColor:"linear-gradient(180deg, #B1B5C0 0%, #686E7A 100%)"}):t||n?Object(q.jsx)(ca,{urls:o}):Object(q.jsx)(xr,{message:"Sign in to view your library"})}))},Tt=Object(ee.c)(tt.a.div)(E||(E=Object(K.a)(["\n  height: 100%;\n"]))),It=ee.c.img(z||(z=Object(K.a)(["\n  height: 100%;\n  width: auto;\n"]))),At=function(){var e,t=Pe().nowPlayingItem;return t?Object(q.jsx)(Tt,{children:Object(q.jsx)(It,{src:it(300,null===(e=t.artwork)||void 0===e?void 0:e.url),alt:"now playing artwork"})}):null},Et=Object(ee.c)(tt.a.div)(N||(N=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),zt=ee.c.img(H||(H=Object(K.a)(["\n  height: 6em;\n  width: 6em;\n  margin: ",";\n"])),ne.XS),Nt=ee.c.h3(F||(F=Object(K.a)(["\n  margin: 4px 0 0;\n  font-size: 16px;\n  font-weight: 600;\n"]))),Ht=Object(ee.c)(Nt)(_||(_=Object(K.a)(["\n  font-size: 14px;\n  font-weight: 400;\n"]))),Ft={spotify:"Spotify",apple:"Apple Music",none:"None",selected:"Selected service"},_t=function(){var e=Ji().service,t="spotify"===e?"spotify_icon.svg":"apple_music_icon.svg",n=Ft[null!==e&&void 0!==e?e:"none"];return Object(q.jsxs)(Et,{children:[Object(q.jsx)(zt,{src:t}),Object(q.jsx)(Nt,{children:n}),Object(q.jsx)(Ht,{children:Ft.selected})]})},Vt=Object(ee.c)(tt.a.div)(V||(V=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),Ut=ee.c.img(U||(U=Object(K.a)(["\n  height: 4em;\n  width: 4em;\n  margin: ",";\n"])),ne.XS),Xt=ee.c.h3(X||(X=Object(K.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Bt=ee.c.h3(B||(B=Object(K.a)(["\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n"]))),Wt=function(){return Object(q.jsxs)(Vt,{children:[Object(q.jsx)(Ut,{src:"react_logo.svg"}),Object(q.jsx)(Xt,{children:"iPod.js"}),Object(q.jsx)(Bt,{children:"by Tanner V"})]})},Rt=Object(ee.c)(tt.a.div)(W||(W=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n"]))),Dt=ee.c.img(R||(R=Object(K.a)(["\n  height: 100%;\n  width: 100%;\n"]))),Gt=function(){return Object(q.jsx)(Rt,{children:Object(q.jsx)(Dt,{src:"themes_preview.png"})})};!function(e){e.MUSIC="music",e.GAMES="games",e.SETTINGS="settings",e.NOW_PLAYING="nowPlaying",e.SERVICE="service",e.THEME="theme"}(G||(G={}));var Yt=(D={},Object(nt.a)(D,G.MUSIC,(function(){return Object(q.jsx)(Pt,{})})),Object(nt.a)(D,G.GAMES,(function(){return Object(q.jsx)(Lt,{})})),Object(nt.a)(D,G.SETTINGS,(function(){return Object(q.jsx)(Wt,{})})),Object(nt.a)(D,G.NOW_PLAYING,(function(){return Object(q.jsx)(At,{})})),Object(nt.a)(D,G.SERVICE,(function(){return Object(q.jsx)(_t,{})})),Object(nt.a)(D,G.THEME,(function(){return Object(q.jsx)(Gt,{})})),D),Zt="Now Playing",Kt=function(){var e=Ji().isAuthorized,t=Ee().signIn,n=Pe().nowPlayingItem,i=Wi().signIn,r=Ii(),a=r.showWindow,c=r.windowStack,o=Object(Q.useMemo)((function(){return[{type:"View",label:"Cover Flow",viewId:ki.coverFlow.id,component:function(){return Object(q.jsx)(kt,{})},preview:G.MUSIC},{type:"View",label:"Music",viewId:ki.music.id,component:function(){return Object(q.jsx)(Qt,{})},preview:G.MUSIC},{type:"View",label:"Games",viewId:ki.games.id,component:function(){return Object(q.jsx)(an,{})},preview:G.GAMES},{type:"View",label:"Settings",viewId:ki.settings.id,component:function(){return Object(q.jsx)(vn,{})},preview:G.SETTINGS}].concat(Object(se.a)(lr(!e,{type:"ActionSheet",id:ki.signinPopup.id,label:"Sign in",listOptions:[{type:"Action",label:"Apple Music",onSelect:t},{type:"Action",label:"Spotify",onSelect:i}],preview:G.MUSIC})),Object(se.a)(lr(!!n,{type:"View",label:Zt,viewId:ki.nowPlaying.id,component:function(){return Object(q.jsx)(tn,{})},preview:G.NOW_PLAYING})))}),[e,n,t,i]),s=Mi(ki.home.id,o),u=Object(J.a)(s,1)[0],l=Object(Q.useCallback)((function(){var e=c[c.length-1];!!n&&e.id!==ki.nowPlaying.id&&e.id!==ki.coverFlow.id&&a({id:ki.nowPlaying.id,type:bn.FULL,component:tn})}),[n,a,c]);return Ve("idle",l),Object(q.jsx)(br,{options:o,activeIndex:u})},Qt=function(){var e,t,n=Ee().music;Ue(ki.music.id);var i=Object(Q.useMemo)((function(){var e,t,i=[{type:"View",label:"Cover Flow",viewId:ki.coverFlow.id,component:function(){return Object(q.jsx)(kt,{})},preview:G.MUSIC},{type:"View",label:"Playlists",viewId:ki.playlists.id,component:function(){return Object(q.jsx)(nn,{})},preview:G.MUSIC},{type:"View",label:"Artists",viewId:ki.artists.id,component:function(){return Object(q.jsx)(Jt,{})},preview:G.MUSIC},{type:"View",label:"Albums",viewId:ki.albums.id,component:function(){return Object(q.jsx)($t,{})},preview:G.MUSIC}];return n.isAuthorized&&(null===(e=n.player)||void 0===e||null===(t=e.nowPlayingItem)||void 0===t?void 0:t.isPlayable)&&i.push({type:"View",label:"Now playing",viewId:ki.nowPlaying.id,component:function(){return Object(q.jsx)(tn,{})},preview:G.NOW_PLAYING}),i}),[n.isAuthorized,null===(e=n.player)||void 0===e||null===(t=e.nowPlayingItem)||void 0===t?void 0:t.isPlayable]),r=Mi(ki.music.id,i),a=Object(J.a)(r,1)[0];return Object(q.jsx)(br,{options:i,activeIndex:a})},Jt=function(){Ue(yi.artists.id);var e=Ji().isAuthorized,t=$i({name:"artists"}),n=t.data,i=t.isLoading,r=Object(Q.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.map((function(e){return{type:"View",label:e.name,viewId:yi.artist.id,component:function(){return Object(q.jsx)(qt,{id:e.id,inLibrary:!0})}}})))&&void 0!==e?e:[]}),[n]),a=Mi(yi.artists.id,r),c=Object(J.a)(a,1)[0];return e?Object(q.jsx)(br,{loading:i,options:r,activeIndex:c,emptyMessage:"No saved artists"}):Object(q.jsx)(xr,{message:"Sign in to view your artists"})},qt=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;Ue(ki.artist.id);var r=$i({name:"artist",id:t,inLibrary:i}),a=r.data,c=r.isLoading,o=Object(Q.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.map((function(e){var t;return{type:"View",label:e.name,sublabel:e.artistName,imageUrl:it(100,null===(t=e.artwork)||void 0===t?void 0:t.url),viewId:ki.album.id,component:function(){var t;return Object(q.jsx)(en,{id:null!==(t=e.id)&&void 0!==t?t:"",inLibrary:i})},longPressOptions:at("album",e.id)}})))&&void 0!==e?e:[]}),[a,i]),s=Mi(ki.artist.id,o),u=Object(J.a)(s,1)[0];return Object(q.jsx)(br,{loading:c,options:o,activeIndex:u,emptyMessage:"No albums by this artist"})},$t=function(){var e=Ji().isAuthorized;Ue(yi.albums.id);var t=$i({name:"albums"}),n=t.data,i=t.isLoading,r=Object(Q.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t;return{type:"View",label:e.name,sublabel:e.artistName,imageUrl:it(50,null===(t=e.artwork)||void 0===t?void 0:t.url),viewId:yi.album.id,component:function(){var t;return Object(q.jsx)(en,{id:null!==(t=e.id)&&void 0!==t?t:"",inLibrary:!0})}}})))&&void 0!==e?e:[]}),[n]),a=Mi(yi.albums.id,r),c=Object(J.a)(a,1)[0];return e?Object(q.jsx)(br,{loading:i,options:r,activeIndex:c,emptyMessage:"No albums"}):Object(q.jsx)(xr,{})},en=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;Ue(ki.album.id);var r=$i({name:"album",id:t,inLibrary:i}),a=r.data,c=r.isLoading,o=Object(Q.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.songs.map((function(e,t){return{type:"Song",label:e.name,queueOptions:{album:a,startPosition:t},showNowPlayingView:!0,longPressOptions:at("song",e.id)}})))&&void 0!==e?e:[]}),[a]),s=Mi(ki.album.id,o),u=Object(J.a)(s,1)[0];return Object(q.jsx)(br,{loading:c,options:o,activeIndex:u,emptyMessage:"No saved songs"})},tn=function(){Ue(yi.nowPlaying.id);var e=Ii().hideWindow;return Object(q.jsx)(va,{onHide:e})},nn=function(){Ue(yi.playlists.id);var e=Ji().isAuthorized,t=$i({name:"playlists"}),n=t.data,i=t.isLoading,r=Object(Q.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t;return{type:"View",label:e.name,sublabel:e.description||"By ".concat(e.curatorName),imageUrl:null===(t=e.artwork)||void 0===t?void 0:t.url,viewId:yi.playlist.id,component:function(){return Object(q.jsx)(rn,{id:e.id,inLibrary:!0})},longPressOptions:at("playlist",e.id)}})))&&void 0!==e?e:[]}),[n]),a=Mi(yi.playlists.id,r),c=Object(J.a)(a,1)[0];return e?Object(q.jsx)(br,{loading:i,options:r,activeIndex:c,emptyMessage:"No saved playlists"}):Object(q.jsx)(xr,{message:"Sign in to view your playlists"})},rn=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;Ue(ki.playlist.id);var r=$i({name:"playlist",id:t,inLibrary:i}),a=r.data,c=r.isLoading,o=Object(Q.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.songs.map((function(e,t){var n,i;return{type:"Song",label:e.name,sublabel:null!==(n=e.artistName)&&void 0!==n?n:"Unknown artist",imageUrl:null===(i=e.artwork)||void 0===i?void 0:i.url,queueOptions:{playlist:a,startPosition:t},showNowPlayingView:!0,longPressOptions:at("song",e.id)}})))&&void 0!==e?e:[]}),[a]),s=Mi(ki.playlist.id,o),u=Object(J.a)(s,1)[0];return Object(q.jsx)(br,{loading:c,options:o,activeIndex:u,emptyMessage:"No songs in this playlist"})},an=function(){Ue(ki.games.id);var e=[{type:"View",label:"Brick",viewId:ki.brickGame.id,component:function(){return Object(q.jsx)(hn,{})},preview:G.GAMES}],t=Mi(ki.games.id,e),n=Object(J.a)(t,1)[0];return Object(q.jsx)(br,{options:e,activeIndex:n})},cn={init:function(){var e=this;this.canvas=document.querySelector("#brickBreakerCanvas"),this.context=this.canvas?this.canvas.getContext("2d"):null,this.context?(window.addEventListener("centerclick",this.handleCenterClick),this.inStasis=!1,this.initialized||(window.addEventListener("forwardscroll",(function(){return on.moveRight()}),!0),window.addEventListener("backwardscroll",(function(){return on.moveLeft()}),!0),window.addEventListener("menuclick",(function(){return e.inStasis=!0})),this.waiting=!0,this.setupBricks(),on.draw(),this.drawBricks(),sn.update(),this.update(),this.initialized=!0)):console.log("Error getting application context")},handleCenterClick:function(){cn.waiting&&!cn.inStasis&&(cn.waiting=!1)},enterStasis:function(){},update:function(){cn.clearContext(),on.draw(),cn.drawBricks(),sn.update(),requestAnimationFrame(cn.update)},clearContext:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},die:function(){on.position.x=200,on.lives-=1,on.lives<1&&this.reset(),sn.reset(),cn.waiting=!0},drawBricks:function(){this.bricks.forEach((function(e){e.draw()}))},setupBricks:function(){this.bricks=[];var e=0;for(e=0;e<10;e++){var t=new un;t.position.x=100+e*t.size.width+e,t.position.y=50,t.health=1,this.bricks.push(t)}for(e=0;e<8;e++){var n=new un;n.position.x=150+e*n.size.width+e,n.position.y=50+n.size.height+1,n.health=2,this.bricks.push(n)}for(e=0;e<6;e++){var i=new un;i.position.x=200+e*i.size.width+e,i.position.y=50+2*i.size.height+1,i.health=3,this.bricks.push(i)}},reset:function(){on.reset(),sn.reset(),this.setupBricks()},bricks:[],canvas:null,context:null,timeout:33},on={position:{x:200,y:480},score:0,lives:3,physics:{speed:10},size:{height:20,width:150},draw:function(){cn.context.fillStyle="black",cn.context.fillRect(this.position.x,this.position.y,this.size.width,this.size.height)},moveLeft:function(){this.position.x>0&&(this.position.x-=1.5*this.physics.speed)},moveRight:function(){this.position.x<cn.canvas.width-this.size.width&&(this.position.x+=1.5*this.physics.speed)},reset:function(){this.lives=3,this.score=0,this.resetPosition()},resetPosition:function(){this.position.x=200}},sn={position:{x:0,y:250},size:{height:10,width:10},physics:{speed:5},direction:{x:1,y:1},draw:function(){cn.context.fillStyle="transparent";var e=cn.context,t=this.position.x,n=this.position.y;e.beginPath(),e.arc(t,n,10,0,2*Math.PI,!1),e.fillStyle="black",e.fill(),e.lineWidth=5,e.strokeStyle="black",e.stroke()},reset:function(){this.position.x=0,this.position.y=250,this.direction.x=1,this.direction.y=1},update:function(){this.position.x<=0&&(this.direction.x=1),this.position.x>=cn.canvas.width&&(this.direction.x=-1),this.position.y<=0&&(this.direction.y=1),this.position.y>=cn.canvas.height&&cn.die(),cn.waiting||cn.inStasis||(this.checkCollisionWithPlayer(),this.checkCollisionWithBricks(),this.position.x+=this.physics.speed*this.direction.x,this.position.y+=this.physics.speed*this.direction.y),this.draw()},checkCollisionWithPlayer:function(){this.position.y+this.size.height<on.position.y||this.position.y>on.position.y+on.size.height||this.position.x>on.position.x+on.size.width||this.position.x+this.size.width<on.position.x||(this.direction.y=-1)},checkCollisionWithBricks:function(){var e=0;for(e=0;e<cn.bricks.length;e++){var t=cn.bricks[e];this.position.y+this.size.height<t.position.y||(this.position.y>t.position.y+t.size.height||this.position.x>t.position.x+t.size.width||this.position.x+this.size.width<t.position.x||(t.health-=1,on.score+=20,t.health<1&&cn.bricks.splice(e,1),1===this.direction.x&&1===this.direction.y?this.position.y>t.position.y?this.direction.x=-1:this.direction.y=-1:-1===this.direction.x&&1===this.direction.y?this.position.y>t.position.y?this.direction.x=1:this.direction.y=-1:1===this.direction.x&&-1===this.direction.y?this.position.y>t.position.y?this.direction.x=-1:this.direction.y=-1:-1===this.direction.x&&-1===this.direction.y&&(this.position.y>t.position.y?this.direction.x=1:this.direction.y=-1)))}}},un=function(){this.health=3,this.size={height:20,width:60},this.position={x:0,y:0}};un.prototype.draw=function(){switch(this.health){case 3:cn.context.fillStyle="rgb(0, 240, 0)";break;case 2:cn.context.fillStyle="rgb(255,140,0";break;case 1:cn.context.fillStyle="rgb(200, 0, 0)"}this.health>0&&cn.context.fillRect(this.position.x,this.position.y,this.size.width-5,this.size.height-5)};var ln,dn,bn,pn=cn,fn=ee.c.div(ln||(ln=Object(K.a)(["\n  height: 100%;\n  background: rgb(2, 0, 36);\n  background: linear-gradient(\n    90deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(107, 173, 255, 1) 0%,\n    rgba(0, 212, 255, 1) 100%\n  );\n"]))),jn=ee.c.canvas(dn||(dn=Object(K.a)(["\n  height: 100%;\n  width: 100%;\n"]))),hn=function(){return Ue(yi.brickGame.id),Object(Q.useEffect)((function(){pn.init()}),[]),Object(q.jsx)(fn,{children:Object(q.jsx)(jn,{width:"800",height:"500",id:"brickBreakerCanvas",children:Object(q.jsx)("p",{children:"Your browser does not support this feature"})})})},vn=function(){Ue(yi.settings.id);var e=Ji(),t=e.isAuthorized,n=e.isAppleAuthorized,i=e.isSpotifyAuthorized,r=e.service,a=e.deviceTheme,c=e.setDeviceTheme,o=Ee(),s=o.signIn,u=o.signOut,l=Wi(),d=l.signOut,b=l.signIn,p=Object(Q.useMemo)((function(){return[{type:"View",label:"About",viewId:yi.about.id,component:function(){return Object(q.jsx)(Ye,{})},preview:G.SETTINGS}].concat(Object(se.a)(lr(t,{type:"ActionSheet",id:yi.serviceTypeActionSheet.id,label:"Choose service",listOptions:[{type:"Action",isSelected:"apple"===r,label:"Apple Music ".concat("apple"===r?"(Current)":""),onSelect:s},{type:"Action",isSelected:"spotify"===r,label:"Spotify ".concat("spotify"===r?"(Current)":""),onSelect:b}],preview:G.SERVICE})),[{type:"ActionSheet",id:yi.deviceThemeActionSheet.id,label:"Device theme",listOptions:[{type:"Action",isSelected:"silver"===a,label:"Silver ".concat("silver"===a?"(Current)":""),onSelect:function(){return c("silver")}},{type:"Action",isSelected:"black"===a,label:"Black ".concat("black"===a?"(Current)":""),onSelect:function(){return c("black")}},{type:"Action",isSelected:"u2"===a,label:"U2 Edition ".concat("u2"===a?"(Current)":""),onSelect:function(){return c("u2")}}],preview:G.THEME}],Object(se.a)(lr(!t,{type:"ActionSheet",id:yi.signinPopup.id,label:"Sign in",listOptions:[{type:"Action",label:"Apple Music",onSelect:s},{type:"Action",label:"Spotify",onSelect:b}],preview:G.MUSIC})),Object(se.a)(lr(t,{type:"ActionSheet",id:yi.signOutPopup.id,label:"Sign out",listOptions:[].concat(Object(se.a)(lr(n,{type:"Action",label:"Apple Music",onSelect:u})),Object(se.a)(lr(i,{type:"Action",label:"Spotify",onSelect:d}))),preview:G.SERVICE})))}),[a,c,n,t,i,r,s,b,u,d]),f=Mi(yi.settings.id,p),j=Object(J.a)(f,1)[0];return Object(q.jsx)(br,{options:p,activeIndex:j})};!function(e){e.SPLIT="SPLIT",e.FULL="FULL",e.COVER_FLOW="COVER_FLOW",e.ACTION_SHEET="ACTION_SHEET",e.POPUP="POPUP"}(bn||(bn={}));var xn,On,gn,mn,wn,kn,yn,Sn,Cn,Ln,Mn,Pn,Tn,In,An,En,zn,Nn,Hn,Fn,_n,Vn,Un,Xn,Bn,Wn,Rn,Dn,Gn,Yn,Zn,Kn,Qn,Jn,qn,$n,ei,ti,ni,ii,ri,ai,ci,oi,si,ui,li,di,bi,pi,fi,ji,hi,vi,xi,Oi,gi,mi,wi,ki={home:{id:"home",title:"iPod.js",type:bn.SPLIT},music:{id:"music",title:"Music",type:bn.SPLIT},games:{id:"games",title:"Games",type:bn.SPLIT},settings:{id:"settings",title:"Settings",type:bn.SPLIT},about:{id:"about",title:"About",type:bn.FULL},artists:{id:"artists",title:"Artists",type:bn.FULL},artist:{id:"artist",title:"Artist",type:bn.FULL},albums:{id:"albums",title:"Albums",type:bn.FULL},album:{id:"album",title:"Album",type:bn.FULL},nowPlaying:{id:"nowPlaying",title:"Now Playing",type:bn.FULL},playlists:{id:"playlists",title:"Playlists",type:bn.FULL},playlist:{id:"playlist",title:"Playlist",type:bn.FULL},brickGame:{id:"brickGame",title:"Brick",type:bn.FULL},coverFlow:{id:"coverFlow",title:"Cover Flow",type:bn.COVER_FLOW},mediaActionSheet:{id:"mediaActionSheet",title:"Media Options",type:bn.ACTION_SHEET},serviceTypeActionSheet:{id:"serviceTypeActionSheet",title:"Service",type:bn.ACTION_SHEET},deviceThemeActionSheet:{id:"deviceThemeActionSheet",title:"Device theme",type:bn.ACTION_SHEET},signinPopup:{id:"signinPopup",title:"Sign in",type:bn.ACTION_SHEET},signOutPopup:{id:"signOutPopup",title:"Sign out",type:bn.ACTION_SHEET},spotifyNotSupportedPopup:{id:"spotifyNotSupportedPopup",title:"Unsupported browser",type:bn.POPUP}},yi=ki,Si="undefined"!==typeof navigator&&"vibrate"in navigator,Ci=function(){var e=Object(Q.useCallback)((function(e){Si&&navigator.vibrate(e)}),[]);return Object(Q.useMemo)((function(){return{triggerHaptics:e}}),[e])},Li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t){var n=e.findIndex((function(e){return e===t}));if(n>-1)return n}return 0},Mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=Ci(),r=i.triggerHaptics,a=Ii(),c=a.showWindow,o=a.windowStack,s=a.setPreview,u=Pe(),l=u.play,d=Object(Q.useState)(Li(t,n)),b=Object(J.a)(d,2),p=b[0],f=b[1],j=Object(Q.useRef)(),h=o[o.length-1].id===e,v=Object(Q.useCallback)((function(e){if(j.current&&clearTimeout(j.current),h&&t[e])return j.current=setTimeout((function(){var n=t[e].preview;n&&s(n)}),750),function(){j.current&&clearTimeout(j.current)}}),[h,t,s]),x=Object(Q.useCallback)((function(){p<t.length-1&&h&&(r(10),f(p+1),v(p+1))}),[v,p,h,t.length,r]),O=Object(Q.useCallback)((function(){p>0&&h&&(r(10),f(p-1),v(p-1))}),[v,p,h,r]),g=Object(Q.useCallback)((function(e,t,n){var i,r;c({id:e,type:null!==(i=null!==n&&void 0!==n?n:null===(r=yi[e])||void 0===r?void 0:r.type)&&void 0!==i?i:bn.FULL,component:t})}),[c]),m=Object(Q.useCallback)((function(e){c({type:bn.POPUP,id:e.popupId,title:e.title,description:e.description,listOptions:e.listOptions})}),[c]),w=Object(Q.useCallback)((function(e){c({type:bn.ACTION_SHEET,id:e.id,listOptions:e.listOptions})}),[c]),k=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[p],h&&n){e.next=3;break}return e.abrupt("return");case 3:r(10),j.current&&clearTimeout(j.current),e.t0=n.type,e.next="Song"===e.t0?8:"Link"===e.t0?12:"View"===e.t0?14:"Action"===e.t0?16:"Popup"===e.t0?18:"ActionSheet"===e.t0?20:22;break;case 8:return e.next=10,l(n.queueOptions);case 10:return n.showNowPlayingView&&g(yi.nowPlaying.id,(function(){return Object(q.jsx)(tn,{})})),e.abrupt("break",22);case 12:return window.open(n.url,"_blank"),e.abrupt("break",22);case 14:return g(n.viewId,n.component,n.windowType),e.abrupt("break",22);case 16:return n.onSelect(),e.abrupt("break",22);case 18:return m(n),e.abrupt("break",22);case 20:return w(n),e.abrupt("break",22);case 22:case"end":return e.stop()}}),e)}))),[w,m,g,p,h,t,l,r]),y=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[p],h&&n){e.next=3;break}return e.abrupt("return");case 3:n.longPressOptions&&c({type:bn.ACTION_SHEET,id:yi.mediaActionSheet.id,listOptions:n.longPressOptions});case 4:case"end":return e.stop()}}),e)}))),[p,h,t,c]);return Object(Q.useEffect)((function(){t.length&&p>t.length-1&&f(0)}),[p,t.length]),er((function(){if(t&&t[0]){var e=t[0].preview;e&&s(e)}})),Ve("centerclick",k),Ve("centerlongclick",y),Ve("forwardscroll",x),Ve("backwardscroll",O),[p]},Pi=Object(Q.createContext)([{windowStack:[],headerTitle:"iPod.js",preview:G.MUSIC},function(){}]),Ti=function(e){var t=e.children,n=[{id:yi.home.id,type:bn.SPLIT,component:Kt}],i=Object(Q.useState)({windowStack:n,headerTitle:yi.home.title,preview:G.MUSIC}),r=Object(J.a)(i,2),a=r[0],c=r[1];return Object(q.jsx)(Pi.Provider,{value:[a,c],children:t})},Ii=function(){var e=Object(Q.useContext)(Pi),t=Object(J.a)(e,2),n=t[0],i=t[1],r=Object(Q.useCallback)((function(e){i((function(t){return Object(be.a)(Object(be.a)({},t),{},{windowStack:[].concat(Object(se.a)(t.windowStack),[e]),headerTitle:yi[e.id].title})}))}),[i]),a=Object(Q.useCallback)((function(e){1!==n.windowStack.length&&i((function(t){var n=e?t.windowStack.filter((function(t){return t.id!==e})):t.windowStack.slice(0,-1);return Object(be.a)(Object(be.a)({},t),{},{windowStack:n,headerTitle:yi[n[n.length-1].id].title})}))}),[i,n.windowStack.length]),c=Object(Q.useCallback)((function(){i((function(e){return Object(be.a)(Object(be.a)({},e),{},{windowStack:e.windowStack.slice(0,1)})}))}),[i]),o=Object(Q.useCallback)((function(e){var t=n.windowStack;return t[t.length-1].id===e}),[n]),s=Object(Q.useCallback)((function(e){i((function(t){return Object(be.a)(Object(be.a)({},t),{},{headerTitle:e})}))}),[i]),u=Object(Q.useCallback)((function(e){i((function(t){return Object(be.a)(Object(be.a)({},t),{},{preview:e})}))}),[i]);return{showWindow:r,hideWindow:a,resetWindows:c,isWindowActive:o,windowStack:n.windowStack,headerTitle:n.headerTitle,preview:n.preview,setHeaderTitle:s,setPreview:u}},Ai="spotify_access_token",Ei="spotify_refresh_token",zi="spotify_token_timestamp",Ni=function(){var e=Object(de.a)(le.a.mark((function e(){var t,n,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Hi(),n=t.storedAccessToken,i=t.storedRefreshToken,n&&i){e.next=3;break}return e.abrupt("return",_i());case 3:if(!Vi()){e.next=5;break}return e.abrupt("return",Fi(i));case 5:return e.abrupt("return",{accessToken:n,refreshToken:i});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Hi=function(){var e,t;return{storedAccessToken:null!==(e=localStorage.getItem(Ai))&&void 0!==e?e:void 0,storedRefreshToken:null!==(t=localStorage.getItem(Ei))&&void 0!==t?t:void 0}},Fi=function(){var e=Object(de.a)(le.a.mark((function e(t){var n,i,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Xi,"/refresh_token?refresh_token=").concat(t),{credentials:"same-origin",mode:"cors"});case 3:return n=e.sent,e.next=6,n.json();case 6:return i=e.sent,r=i.access_token,console.log("Got refreshed tokens:",{accessToken:r,storedRefreshToken:t}),Ui(r,t),e.abrupt("return",{accessToken:r,refreshToken:t});case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetchinng refresh token:",{error:e.t0});case 16:return e.abrupt("return",{accessToken:void 0,refreshToken:void 0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_i=function(){var e=Object(de.a)(le.a.mark((function e(){var t,n,i,r,a,c,o,s,u,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new URL(window.document.URL),r=i.searchParams,a=null!==(t=r.get("code"))&&void 0!==t?t:void 0,c=null!==(n=r.get("state"))&&void 0!==n?n:void 0,a&&c){e.next=6;break}return e.abrupt("return",{});case 6:return e.prev=6,e.next=9,fetch("".concat(Xi,"/callback?state=").concat(c,"&code=").concat(a),{credentials:"same-origin",mode:"cors"});case 9:return o=e.sent,e.next=12,o.json();case 12:return s=e.sent,u=s.accessToken,l=s.refreshToken,Ui(u,l),r.delete("code"),r.delete("state"),window.history.replaceState({},"",i.toString()),e.abrupt("return",{accessToken:u,refreshToken:l,isNew:!0});case 22:e.prev=22,e.t0=e.catch(6),console.error("error fetching token:",{error:e.t0});case 25:return e.abrupt("return",{accessToken:void 0,refreshToken:void 0});case 26:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}(),Vi=function(){var e,t=parseInt(null!==(e=localStorage.getItem(zi))&&void 0!==e?e:""),n=Date.now();if(!t)return!0;var i=Math.round((n-t)/1e3/60);return console.log("Last token refresh: ".concat(i," minutes ago")),i>30},Ui=function(e,t){e&&t?(localStorage.setItem(Ai,e),localStorage.setItem(Ei,t),localStorage.setItem(zi,"".concat(Date.now()))):console.error("Error: Attempting to save undefined tokens:",{accessToken:e,refreshToken:t})},Xi="https://b7d1fdb16506.ngrok.io",Bi=Object(Q.createContext)({}),Wi=function(){var e=Ji(),t=e.isSpotifyAuthorized,n=e.setIsSpotifyAuthorized,i=e.isAppleAuthorized,r=e.setService,a=Ii().showWindow,c=Object(Q.useContext)(Bi),o=Object(Q.useCallback)((function(){c.isMounted?t?r("spotify"):window.open("".concat(Xi,"/").concat(window.location.origin.includes("localhost:3000")?"login_dev":"login"),"_self"):a({type:bn.POPUP,id:yi.spotifyNotSupportedPopup.id,title:yi.spotifyNotSupportedPopup.title,description:"Spotify sadly only supports web playback on Chrome (desktop)",listOptions:[{type:"Action",label:"Okay \ud83d\ude1e",onSelect:function(){}}]})}),[t,r,a,c.isMounted]),s=Object(Q.useCallback)((function(){c.spotifyPlayer.disconnect(),n(!1),localStorage.removeItem(Ai),localStorage.removeItem(Ei),localStorage.removeItem(zi),r(i?"apple":void 0)}),[i,n,r,c.spotifyPlayer]);return Object(be.a)(Object(be.a)({},c),{},{signIn:o,signOut:s})},Ri=function(e){var t,n=e.children,i=Ji(),r=i.setIsSpotifyAuthorized,a=i.setService,c=Object(Q.useState)(),o=Object(J.a)(c,2),s=o[0],u=o[1],l=Object(Q.useState)(),d=Object(J.a)(l,2),b=d[0],p=d[1],f=Object(Q.useRef)(),j=Object(Q.useState)(!1),h=Object(J.a)(j,2),v=h[0],x=h[1],O=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var t,n,i,c,o;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni();case 2:t=e.sent,n=t.accessToken,i=t.refreshToken,c=t.isNew,x(!0),n&&i&&(u(n),(o=new window.Spotify.Player({name:"iPod Classic",getOAuthToken:function(){var e=Object(de.a)(le.a.mark((function e(t){var n,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Hi(),i=n.storedAccessToken){e.next=4;break}return console.error("ERROR: Didn't find stored access token"),e.abrupt("return");case 4:t(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})).addListener("ready",(function(e){var t=e.device_id;console.log({device_id:t}),p(t),r(!0)})),o.addListener("authentication_error",(function(e){var t=e.message;console.error("Spotify authentication error: ".concat(t)),r(!1)})),o.addListener("playback_error",(function(e){var t=e.message;console.error(t)})),o.connect(),f.current=o,c&&a("spotify"));case 8:case"end":return e.stop()}}),e)}))),[r,a]);return er((function(){window.Spotify?O():window.onSpotifyWebPlaybackSDKReady=O})),Object(q.jsx)(Bi.Provider,{value:{spotifyPlayer:null!==(t=f.current)&&void 0!==t?t:{},accessToken:s,deviceId:b,isMounted:v},children:n})},Di=function(){var e=Object(de.a)(le.a.mark((function e(t){var n,i,r,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.endpoint,i=t.accessToken,r=t.onError,e.prev=1,i){e.next=4;break}throw new Error("Provide a Spotify API Access token");case 4:return e.next=6,fetch("https://api.spotify.com/v1/".concat(n),{headers:{Authorization:"Bearer ".concat(i)}});case 6:return a=e.sent,e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(1),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Gi=function(){var e=Wi().accessToken;return{fetchAlbums:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Di({endpoint:"me/albums?limit=50",accessToken:e,onError:function(e){throw new Error(e)}});case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.items.map((function(e){return me(e.album)})));case 5:case"end":return t.stop()}}),t)}))),[e]),fetchAlbum:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n,i,r=arguments;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,t.next=4,Di({endpoint:"albums/".concat(n),accessToken:e,onError:function(e){throw new Error(e)}});case 4:if(!(i=t.sent)){t.next=7;break}return t.abrupt("return",me(i));case 7:case"end":return t.stop()}}),t)}))),[e]),fetchArtists:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Di({endpoint:"me/following?type=artist&limit=50",accessToken:e,onError:function(e){throw new Error(e)}});case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i||null===(n=i.artists)||void 0===n?void 0:n.items.map(ke));case 4:case"end":return t.stop()}}),t)}))),[e]),fetchArtist:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n,i,r=arguments;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,t.next=4,Di({endpoint:"artists/".concat(n,"/albums"),accessToken:e,onError:function(e){throw new Error(e)}});case 4:if(!(i=t.sent)){t.next=7;break}return t.abrupt("return",i.items.map(ge));case 7:case"end":return t.stop()}}),t)}))),[e]),fetchPlaylists:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Di({endpoint:"me/playlists?limit=50",accessToken:e,onError:function(e){throw new Error(e)}});case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.map(ve));case 4:case"end":return t.stop()}}),t)}))),[e]),fetchPlaylist:Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){var n,i,r,a=arguments;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"",i=a.length>1?a[1]:void 0,t.next=4,Di({endpoint:"users/".concat(n,"/playlists/").concat(i),accessToken:e,onError:function(e){throw new Error(e)}});case 4:if(!(r=t.sent)){t.next=7;break}return t.abrupt("return",xe(r));case 7:case"end":return t.stop()}}),t)}))),[e])}},Yi="ipodSelectedService",Zi="ipodSelectedDeviceTheme",Ki="ipodVolume",Qi=Object(Q.createContext)([{},function(){}]),Ji=function(){var e=Object(Q.useContext)(Qi),t=Object(J.a)(e,2),n=t[0],i=t[1],r=Object(Q.useCallback)((function(e){return i((function(t){return Object(be.a)(Object(be.a)({},t),{},{isSpotifyAuthorized:e})}))}),[i]),a=Object(Q.useCallback)((function(e){return i((function(t){return Object(be.a)(Object(be.a)({},t),{},{isAppleAuthorized:e})}))}),[i]),c=Object(Q.useCallback)((function(e){i((function(t){return Object(be.a)(Object(be.a)({},t),{},{service:e})})),e?localStorage.setItem(Yi,e):localStorage.removeItem(Yi)}),[i]),o=Object(Q.useCallback)((function(e){i((function(t){return Object(be.a)(Object(be.a)({},t),{},{deviceTheme:e})})),localStorage.setItem(Zi,e)}),[i]);return Object(be.a)(Object(be.a)({},n),{},{isAuthorized:n.isAppleAuthorized||n.isSpotifyAuthorized,setIsSpotifyAuthorized:r,setIsAppleAuthorized:a,setService:c,setDeviceTheme:o})},qi=Object(Q.memo)((function(e){var t,n,i=e.children,r=Object(Q.useState)({isAppleAuthorized:!1,isSpotifyAuthorized:!1,service:null!==(t=localStorage.getItem(Yi))&&void 0!==t?t:void 0,deviceTheme:null!==(n=localStorage.getItem(Zi))&&void 0!==n?n:"silver"}),a=Object(J.a)(r,2),c=a[0],o=a[1];return Object(q.jsx)(Qi.Provider,{value:[c,o],children:i})})),$i=function(e){var t=Gi(),n=_e(),i=Ji(),r=i.service,a=i.isAppleAuthorized,c=i.isSpotifyAuthorized,o=Object(Q.useState)(!0),s=Object(J.a)(o,2),u=s[0],l=s[1],d=Object(Q.useState)(!1),b=Object(J.a)(d,2),p=b[0],f=b[1],j=Object(Q.useState)(),h=Object(J.a)(j,2),v=h[0],x=h[1],O=Object(Q.useState)(!1),g=Object(J.a)(O,2),m=g[0],w=g[1],k=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchAlbums();case 3:i=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchAlbums();case 9:i=e.sent;case 10:x(i),l(!1);case 12:case"end":return e.stop()}}),e)}))),[n,r,t]),y=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(i){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchAlbum(i.id,i.inLibrary);case 3:a=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchAlbum(i.userId,i.id);case 9:a=e.sent;case 10:x(a),l(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,r,t]),S=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchArtists();case 3:i=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchArtists();case 9:i=e.sent;case 10:x(i),l(!1);case 12:case"end":return e.stop()}}),e)}))),[n,r,t]),C=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(i){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchArtistAlbums(i.id,i.inLibrary);case 3:a=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchArtist(i.userId,i.id);case 9:a=e.sent;case 10:x(a),l(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,r,t]),L=Object(Q.useCallback)(Object(de.a)(le.a.mark((function e(){var i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchPlaylists();case 3:i=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchPlaylists();case 9:i=e.sent;case 10:x(i),l(!1);case 12:case"end":return e.stop()}}),e)}))),[n,r,t]),M=Object(Q.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(i){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=6;break}return e.next=3,n.fetchPlaylist(i.id,i.inLibrary);case 3:a=e.sent,e.next=10;break;case 6:if("spotify"!==r){e.next=10;break}return e.next=9,t.fetchPlaylist(i.userId,i.id);case 9:a=e.sent;case 10:x(a),l(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,r,t]),P=Object(Q.useCallback)(Object(de.a)(le.a.mark((function t(){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f(!1),l(!0),t.t0=e.name,t.next="albums"===t.t0?5:"album"===t.t0?8:"artists"===t.t0?11:"artist"===t.t0?14:"playlists"===t.t0?17:"playlist"===t.t0?20:23;break;case 5:return t.next=7,k();case 7:return t.abrupt("break",23);case 8:return t.next=10,y(e);case 10:return t.abrupt("break",23);case 11:return t.next=13,S();case 13:return t.abrupt("break",23);case 14:return t.next=16,C(e);case 16:return t.abrupt("break",23);case 17:return t.next=19,L();case 19:return t.abrupt("break",23);case 20:return t.next=22,M(e);case 22:return t.abrupt("break",23);case 23:w(!0);case 24:case"end":return t.stop()}}),t)}))),[y,k,C,S,M,L,e]);return Object(Q.useEffect)((function(){!m&&("apple"===r&&a||"spotify"===r&&c)?P():l(!1)}),[P,a,m,c,r]),{isLoading:u,data:v,hasError:p}},er=function(e){return Object(Q.useEffect)(e,[])},tr=function(e,t){var n=Object(Q.useRef)();Object(Q.useEffect)((function(){n.current=e}),[e]),Object(Q.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(Q.useRef)(),i=Object(Q.useCallback)((function(){var e=n.current;e&&(n.current=void 0,clearTimeout(e))}),[n]);return Object(Q.useEffect)((function(){return n.current=setTimeout(e,t),i}),[e,t,i]),i},ir=ee.c.div(xn||(xn=Object(K.a)(["\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: ",";\n"])),ne.MD),rr=ee.c.h3(On||(On=Object(K.a)(["\n  margin: 0;\n  padding: ",";\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),ne.XXS),ar=Object(ee.c)(rr)(gn||(gn=Object(K.a)(["\n  padding: 0 "," ",";\n  margin-top: -4px;\n  font-weight: normal;\n  font-size: 12px;\n  color: rgb(100, 100, 100);\n"])),ne.XXS,ne.XXS),cr=ee.c.div(mn||(mn=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  overflow: auto;\n\n  ",";\n"])),(function(e){return e.isActive&&Object(ee.b)(wn||(wn=Object(K.a)(["\n      "," {\n        padding-right: 0;\n      }\n\n      ",", "," {\n        color: white;\n      }\n      background: linear-gradient(rgb(60, 184, 255) 0%, rgb(52, 122, 181) 100%);\n    "])),ir,rr,ar)})),or=ee.c.img(kn||(kn=Object(K.a)(["\n  height: 3rem;\n  width: 3rem;\n  margin-right: ",";\n"])),ne.XXS),sr=ee.c.img(yn||(yn=Object(K.a)(["\n  margin-left: auto;\n"]))),ur=function(e){var t=e.option,n=e.isActive;return Object(q.jsxs)(cr,{isActive:n,children:[t.imageUrl&&Object(q.jsx)(or,{src:t.imageUrl}),Object(q.jsxs)(ir,{children:[Object(q.jsx)(rr,{children:t.label}),t.sublabel&&Object(q.jsx)(ar,{children:t.sublabel})]}),n&&Object(q.jsx)(sr,{src:"arrow_right.svg"})]})},lr=function(e,t){return t&&e?[t]:[]},dr=ee.c.div(Sn||(Sn=Object(K.a)(["\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n"]))),br=function(e){var t=e.options,n=e.activeIndex,i=e.loading,r=e.emptyMessage,a=void 0===r?"Nothing to see here":r,c=Object(Q.useRef)(null),o=Object(Q.useState)(!1),s=Object(J.a)(o,2),u=s[0],l=s[1];return nr((function(){return l(!0)}),350),Object(Q.useEffect)((function(){var e;u&&c.current&&t.length&&(null===(e=c.current.children[n])||void 0===e||e.scrollIntoView({block:"nearest"}))}),[n,u,t.length]),Object(q.jsx)(oe.a,{children:i?Object(q.jsx)(sa,{backgroundColor:"white"}):t.length>0?Object(q.jsx)(dr,{ref:c,children:t.map((function(e,t){return Object(q.jsx)(ur,{option:e,isActive:t===n},"option-".concat(e.label,"-").concat(t))}))}):Object(q.jsx)(ce,{showImage:!1,message:a})})},pr=ee.c.div(Cn||(Cn=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  background: white;\n"]))),fr=ee.c.img(Ln||(Ln=Object(K.a)(["\n  height: 60px;\n  width: 60px;\n  transition: all 0.5s ease-in-out;\n\n  ",";\n\n  :last-of-type {\n    margin-top: -60px;\n  }\n"])),(function(e){return e.isHidden&&Object(ee.b)(Mn||(Mn=Object(K.a)(["\n      opacity: 0;\n    "])))})),jr=ee.c.h3(Pn||(Pn=Object(K.a)(["\n  margin: "," 0 ",";\n  font-weight: bold;\n  font-size: 18px;\n"])),ne.XS,ne.XXS),hr=ee.c.p(Tn||(Tn=Object(K.a)(["\n  font-size: 14px;\n  margin: 0;\n  max-width: 120px;\n  color: rgb(100, 100, 100);\n"]))),vr={title:{apple:"Apple Music",spotify:"Spotify"},defaultMessage:"Sign into view this content"},xr=function(e){var t=e.message,n=Object(Q.useState)("apple"),i=Object(J.a)(n,2),r=i[0],a=i[1];return tr((function(){return a((function(e){return"apple"===e?"spotify":"apple"}))}),4e3),Object(q.jsxs)(pr,{children:[Object(q.jsx)(fr,{isHidden:"spotify"===r,alt:"app_icon",src:"apple_music_icon.svg"}),Object(q.jsx)(fr,{isHidden:"apple"===r,alt:"app_icon",src:"spotify_icon.svg"}),Object(q.jsx)(jr,{children:vr.title[r]}),Object(q.jsx)(hr,{children:null!==t&&void 0!==t?t:vr.defaultMessage})]})},Or=function(){},gr=function(){var e=Object(Q.useState)(100),t=Object(J.a)(e,2),n=t[0],i=t[1],r=Object(Q.useState)(!1),a=Object(J.a)(r,2),c=a[0],o=a[1];return Object(Q.useEffect)((function(){var e=Or;return function(){var t=Object(de.a)(le.a.mark((function t(){var n,r,a;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.getBattery){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,navigator.getBattery();case 5:n=t.sent,r=function(){i(Math.round(100*n.level))},a=function(){o(n.charging)},n.addEventListener("levelchange",r),n.addEventListener("chargingchange",a),r(),a(),e=function(){n.removeEventListener("levelchange",r),n.removeEventListener("chargingchange",a)},t.next=17;break;case 15:t.prev=15,t.t0=t.catch(2);case 17:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}()(),function(){return e()}}),[i,o]),{chargePercent:n,isCharging:c}},mr=ee.c.div(In||(In=Object(K.a)(["\n  width: fit-content;\n  height: 12px;\n  display: flex;\n  align-items: center;\n"]))),wr=ee.c.div(An||(An=Object(K.a)(["\n  height: 100%;\n  width: 24px;\n  position: relative;\n  display: flex;\n  border: 1px solid #626262ff;\n  background: #54585b\n    linear-gradient(180deg, transparent 25%, 65%, rgba(255, 255, 255, 0.5));\n"]))),kr=ee.c.div(En||(En=Object(K.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n\n  ",";\n"])),(function(e){var t=e.percent,n=void 0===t?100:t,i=e.isCharging,r=void 0!==i&&i;return Object(ee.b)(zn||(zn=Object(K.a)(["\n    width: ","%;\n    background: ","\n      linear-gradient(\n        180deg,\n        transparent 10%,\n        rgba(255, 255, 255, 0.5) 20%,\n        35%,\n        transparent 40%,\n        rgba(0, 0, 0, 0.2) 55%,\n        rgba(0, 0, 0, 0.3) 65%,\n        rgba(0, 0, 0, 0.4) 80%\n      );\n  "])),n,n>20||r?"#A5E07F":"#D17F6B")})),yr=ee.c.div(Nn||(Nn=Object(K.a)(["\n  width: 2px;\n  height: 4px;\n\n  border: 1px solid #626262;\n  border-left: 0;\n  border-radius: 0 1.5px 1.5px 0;\n\n  background: #c4c4c4;\n"]))),Sr=ee.c.div(Hn||(Hn=Object(K.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* bump the icons above the charge level */\n  z-index: 1;\n"]))),Cr=ee.c.img(Fn||(Fn=Object(K.a)(["\n  opacity: 0.8;\n"]))),Lr=Object(ee.c)(Cr)(_n||(_n=Object(K.a)(["\n  height: 8px;\n"]))),Mr=Object(ee.c)(Cr)(Vn||(Vn=Object(K.a)(["\n  height: 6px;\n"]))),Pr=function(e){var t=e.className,n=gr(),i=n.chargePercent,r=n.isCharging,a=i<=15?15:i,c=r&&100===i,o=r&&i<100;return Object(q.jsxs)(mr,{className:t,children:[Object(q.jsxs)(wr,{children:[Object(q.jsxs)(Sr,{children:[c&&Object(q.jsx)(Mr,{src:"plug.svg"}),o&&Object(q.jsx)(Lr,{src:"bolt.svg"})]}),Object(q.jsx)(kr,{percent:a,isCharging:r})]}),Object(q.jsx)(yr,{})]})},Tr=n(39),Ir=ee.c.div(Un||(Un=Object(K.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"]))),Ar=ee.c.div(Xn||(Xn=Object(K.a)(["\n  position: relative;\n  flex: 1;\n  margin: 0 8px;\n"]))),Er=ee.c.div(Bn||(Bn=Object(K.a)(["\n  position: absolute;\n  width: 100%;\n  background: url('gloss-overlay.svg') repeat-x;\n  background-size: contain;\n  height: 100%;\n"]))),zr=ee.c.div.attrs((function(e){return{style:{width:"".concat(e.percent,"%")}}}))(Wn||(Wn=Object(K.a)(["\n  position: relative;\n  height: 100%;\n  background: ",";\n  transition: width 0.1s;\n"])),(function(e){return!e.transparent&&'url("gloss-blue.svg") repeat-x'})),Nr=ee.c.img(Rn||(Rn=Object(K.a)(["\n  position: absolute;\n  height: 100%;\n  right: -8px;\n  filter: brightness(0.85);\n"]))),Hr=function(e){var t=e.percent,n=e.isScrubber;return Object(q.jsx)(Ir,{children:Object(q.jsxs)(Ar,{children:[Object(q.jsx)(Er,{}),Object(q.jsx)(zr,{percent:t,transparent:n,children:n&&Object(q.jsx)(Nr,{src:"scrubber.svg"})})]})})},Fr=ee.c.div(Dn||(Dn=Object(K.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),ne.SM),_r=ee.c.h3(Gn||(Gn=Object(K.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ",";\n  white-space: nowrap;\n"])),(function(e){return e.textAlign})),Vr=function(e){var t=e.isScrubbing,n=Pe(),i=n.playbackInfo,r=n.seekToTime,a=i.currentTime,c=i.duration,o=i.isPlaying,s=Object(Q.useState)(a),u=Object(J.a)(s,2),l=u[0],d=u[1],b=Object(Q.useMemo)((function(){return Math.round(l/c*100)}),[c,l]),p=Object(Q.useMemo)((function(){return c-l}),[c,l]),f=Object(Q.useState)(!1),j=Object(J.a)(f,2),h=j[0],v=j[1],x=Object(Tr.useDebouncedCallback)((function(e){r(e),v(!1)}),300),O=Object(Q.useCallback)((function(){if(l!==c&&t){var e=l+1;e<c&&(v(!0),x(e),d(e))}}),[l,c,t,x]),g=Object(Q.useCallback)((function(){if(0!==l&&t){var e=l-1;e>=0&&(v(!0),x(e),d(e))}}),[l,x,t]),m=Object(Q.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!h&&o||e)&&d(a)}),[a,h,o]);return Ve("forwardscroll",O),Ve("backwardscroll",g),tr(m,1e3),Object(q.jsxs)(Fr,{children:[Object(q.jsx)(_r,{textAlign:"left",children:rt(l)}),Object(q.jsx)(Hr,{percent:b,isScrubber:!0}),Object(q.jsxs)(_r,{textAlign:"right",children:["-",rt(p)]})]})},Ur=ee.c.svg(Yn||(Yn=Object(K.a)([""]))),Xr=function(e){var t=e.size,n=void 0===t?24:t,i=e.className;return Object(q.jsx)(Ur,{className:i,version:"1.1",x:"0px",y:"0px",viewBox:"0 0 2400 2400",width:n,height:n,children:Object(q.jsxs)("g",{strokeWidth:"200",strokeLinecap:"round",stroke:"#000000",fill:"none",id:"spinner",children:[Object(q.jsx)("line",{x1:"1200",y1:"600",x2:"1200",y2:"100"}),Object(q.jsx)("line",{opacity:"0.5",x1:"1200",y1:"2300",x2:"1200",y2:"1800"}),Object(q.jsx)("line",{opacity:"0.917",x1:"900",y1:"680.4",x2:"650",y2:"247.4"}),Object(q.jsx)("line",{opacity:"0.417",x1:"1750",y1:"2152.6",x2:"1500",y2:"1719.6"}),Object(q.jsx)("line",{opacity:"0.833",x1:"680.4",y1:"900",x2:"247.4",y2:"650"}),Object(q.jsx)("line",{opacity:"0.333",x1:"2152.6",y1:"1750",x2:"1719.6",y2:"1500"}),Object(q.jsx)("line",{opacity:"0.75",x1:"600",y1:"1200",x2:"100",y2:"1200"}),Object(q.jsx)("line",{opacity:"0.25",x1:"2300",y1:"1200",x2:"1800",y2:"1200"}),Object(q.jsx)("line",{opacity:"0.667",x1:"680.4",y1:"1500",x2:"247.4",y2:"1750"}),Object(q.jsx)("line",{opacity:"0.167",x1:"2152.6",y1:"650",x2:"1719.6",y2:"900"}),Object(q.jsx)("line",{opacity:"0.583",x1:"900",y1:"1719.6",x2:"650",y2:"2152.6"}),Object(q.jsx)("line",{opacity:"0.083",x1:"1750",y1:"247.4",x2:"1500",y2:"680.4"}),Object(q.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",keyTimes:"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667",values:"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199",dur:"0.83333s",begin:"0s",repeatCount:"indefinite",calcMode:"discrete"})]})})},Br=ee.c.div(Zn||(Zn=Object(K.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),ne.SM),Wr=ee.c.h3(Kn||(Kn=Object(K.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ",";\n"])),(function(e){return e.textAlign})),Rr=function(){var e=Pe(),t=e.playbackInfo,n=e.updatePlaybackInfo,i=t.isLoading,r=t.isPlaying,a=t.isPaused,c=t.currentTime,o=t.percent,s=t.timeRemaining;return tr((function(){r&&!a&&n()}),1e3),Object(q.jsxs)(Br,{children:[i?Object(q.jsx)(Xr,{size:14}):Object(q.jsx)(Wr,{textAlign:"left",children:rt(c)}),Object(q.jsx)(Hr,{percent:o}),Object(q.jsxs)(Wr,{textAlign:"right",children:["-",rt(s)]})]})},Dr=ee.c.div(Qn||(Qn=Object(K.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),ne.SM),Gr=ee.c.img(Jn||(Jn=Object(K.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  height: 16px;\n"]))),Yr=function(e){var t=e.percent;return Object(q.jsxs)(Dr,{children:[Object(q.jsx)(Gr,{src:"volume_mute.svg"}),Object(q.jsx)(Hr,{percent:t}),Object(q.jsx)(Gr,{src:"volume_full.svg"})]})},Zr=ee.c.div(qn||(qn=Object(K.a)(["\n  position: relative;\n  width: 100%;\n  padding: 0 "," ",";\n"])),ne.MD,ne.MD),Kr=ee.c.div($n||($n=Object(K.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ",";\n  right: ",";\n  transition: transform 0.3s;\n\n  transform: ",";\n"])),ne.XS,ne.XS,(function(e){return e.isHidden&&"translateX(-110%)"})),Qr=ee.c.div(ei||(ei=Object(K.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ",";\n  right: ",";\n  transition: transform 0.3s;\n\n  transform: ",";\n"])),ne.XS,ne.XS,(function(e){return e.isHidden&&"translateX(110%)"})),Jr=function(){var e=Te(),t=e.volume,n=e.active,i=e.setEnabled,r=Object(Q.useState)(!1),a=Object(J.a)(r,2),c=a[0],o=a[1],s=Object(Q.useCallback)((function(){c?(i(!0),o(!1)):(i(!1),o(!0))}),[c,i]);return Ve("centerclick",s),Object(q.jsxs)(Zr,{children:[Object(q.jsx)(Kr,{isHidden:c,children:n&&!c&&Object(q.jsx)(Yr,{percent:100*t})}),Object(q.jsx)(Kr,{hidden:n&&!c,isHidden:c,children:Object(q.jsx)(Rr,{})}),Object(q.jsx)(Qr,{isHidden:!c,children:Object(q.jsx)(Vr,{isScrubbing:c})})]})},qr=ee.c.div(ti||(ti=Object(K.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 6px;\n  height: 20px;\n  background: linear-gradient(180deg, #feffff 0%, #b1b6b9 100%);\n  border-bottom: 1px solid #7995a3;\n  box-sizing: border-box;\n"]))),$r=ee.c.h3(ni||(ni=Object(K.a)(["\n  margin: 0;\n  font-size: 13px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),ea=ee.c.div(ii||(ii=Object(K.a)(["\n  display: flex;\n"]))),ta=ee.c.img(ri||(ri=Object(K.a)(["\n  max-height: 12px;\n  margin-left: 8px;\n"]))),na=Object(ee.c)(Pr)(ai||(ai=Object(K.a)(["\n  margin-left: 8px;\n"]))),ia=function(){var e=Ii().headerTitle,t=Pe().playbackInfo,n=t.isPlaying,i=t.isPaused,r=t.isLoading;return e?Object(q.jsxs)(qr,{children:[Object(q.jsx)($r,{children:e}),Object(q.jsxs)(ea,{children:[r&&Object(q.jsx)(ea,{children:Object(q.jsx)(Xr,{size:10})}),n&&!i&&Object(q.jsx)(ta,{src:"play.svg"}),i&&Object(q.jsx)(ta,{src:"pause.svg"}),Object(q.jsx)(na,{})]})]}):null},ra=ee.c.div(ci||(ci=Object(K.a)([""]))),aa=ee.c.img(oi||(oi=Object(K.a)(["\n  z-index: ",";\n  position: absolute;\n  height: 100%;\n  right: 0;\n  animation: "," 20s;\n  opacity: ",";\n  transition: opacity 2s;\n\n  @keyframes kenBurns {\n    0% {\n      transform: translateX(0%);\n    }\n\n    100% {\n      transform: translateX(10%);\n    }\n  }\n"])),(function(e){return e.zIndex}),(function(e){return e.startedAnimation&&"kenBurns"}),(function(e){return e.isHidden&&0})),ca=function(e){var t=e.urls,n=Object(Q.useState)([]),i=Object(J.a)(n,2),r=i[0],a=i[1],c=Object(Q.useState)(!1),o=Object(J.a)(c,2),s=o[0],u=o[1],l=Object(Q.useRef)();Object(Q.useEffect)((function(){a(t)}),[t]);var d=Object(Q.useCallback)((function(){return u(!0),l.current=setTimeout((function(){var e=r.slice(1);a([].concat(Object(se.a)(e),[r[0]])),u(!1)}),2e3),function(){l.current&&clearTimeout(l.current)}}),[r]);return tr(d,5e3),Object(q.jsx)(ra,{children:r.slice(0,2).map((function(e,t){return Object(q.jsx)(aa,{zIndex:3-t,src:e,startedAnimation:0===t||s,isHidden:s&&0===t},"ken-burns-".concat(e))}))})},oa=Object(ee.c)(tt.a.div)(si||(si=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  background: ",";\n"])),(function(e){return e.backgroundColor})),sa=function(e){var t=e.size,n=e.backgroundColor;return Object(q.jsx)(oa,Object(be.a)(Object(be.a)({},Je),{},{backgroundColor:n,children:Object(q.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 2400 2400",width:t||24,height:t||24,children:Object(q.jsxs)("g",{strokeWidth:"200",strokeLinecap:"round",stroke:"#000000",fill:"none",id:"spinner",children:[Object(q.jsx)("line",{x1:"1200",y1:"600",x2:"1200",y2:"100"}),Object(q.jsx)("line",{opacity:"0.5",x1:"1200",y1:"2300",x2:"1200",y2:"1800"}),Object(q.jsx)("line",{opacity:"0.917",x1:"900",y1:"680.4",x2:"650",y2:"247.4"}),Object(q.jsx)("line",{opacity:"0.417",x1:"1750",y1:"2152.6",x2:"1500",y2:"1719.6"}),Object(q.jsx)("line",{opacity:"0.833",x1:"680.4",y1:"900",x2:"247.4",y2:"650"}),Object(q.jsx)("line",{opacity:"0.333",x1:"2152.6",y1:"1750",x2:"1719.6",y2:"1500"}),Object(q.jsx)("line",{opacity:"0.75",x1:"600",y1:"1200",x2:"100",y2:"1200"}),Object(q.jsx)("line",{opacity:"0.25",x1:"2300",y1:"1200",x2:"1800",y2:"1200"}),Object(q.jsx)("line",{opacity:"0.667",x1:"680.4",y1:"1500",x2:"247.4",y2:"1750"}),Object(q.jsx)("line",{opacity:"0.167",x1:"2152.6",y1:"650",x2:"1719.6",y2:"900"}),Object(q.jsx)("line",{opacity:"0.583",x1:"900",y1:"1719.6",x2:"650",y2:"2152.6"}),Object(q.jsx)("line",{opacity:"0.083",x1:"1750",y1:"247.4",x2:"1500",y2:"680.4"}),Object(q.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",keyTimes:"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667",values:"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199",dur:"0.83333s",begin:"0s",repeatCount:"indefinite",calcMode:"discrete"})]})})}))},ua=ee.c.div(ui||(ui=Object(K.a)(["\n  height: 100%;\n  overflow: hidden;\n"]))),la=ee.c.div(li||(li=Object(K.a)(["\n  display: flex;\n  height: 70%;\n  padding: 0 ",";\n"])),ne.XS),da=ee.c.div(di||(di=Object(K.a)(["\n  height: 8em;\n  width: 8em;\n  margin: auto ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(250, 250, 250, 0.1)));\n  transform-style: preserve-3d;\n  perspective: 500px;\n  opacity: ",";\n"])),ne.SM,(function(e){return e.isHidden&&0})),ba=ee.c.img(bi||(bi=Object(K.a)(["\n  height: 100%;\n  width: 100%;\n  transform: rotateY(18deg);\n  border: 1px solid #f3f3f3;\n"]))),pa=ee.c.div(pi||(pi=Object(K.a)(["\n  flex: 1;\n  margin: auto 0 auto clamp(0.5rem, 5vw, 0.5rem);\n"]))),fa=ee.c.h3(fi||(fi=Object(K.a)(["\n  margin: 0;\n  font-size: 0.92rem;\n"]))),ja=Object(ee.c)(fa)(ji||(ji=Object(K.a)(["\n  color: rgb(99, 101, 103);\n  font-size: 0.75rem;\n"]))),ha=ee.c.div(hi||(hi=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  height: 30%;\n"]))),va=function(e){var t,n=e.hideArtwork,i=e.onHide,r=Pe(),a=r.nowPlayingItem,c=r.updateNowPlayingItem,o=r.updatePlaybackInfo,s=Object(Q.useCallback)((function(e){e.state===MusicKit.PlaybackStates.completed&&i()}),[i]);return er((function(){c(),o()})),Ne("playbackStateDidChange",s),Object(q.jsxs)(ua,{children:[Object(q.jsxs)(la,{children:[Object(q.jsx)(da,{isHidden:n,children:Object(q.jsx)(ba,{src:null===a||void 0===a||null===(t=a.artwork)||void 0===t?void 0:t.url})}),Object(q.jsxs)(pa,{children:[Object(q.jsx)(fa,{children:null===a||void 0===a?void 0:a.name}),Object(q.jsx)(ja,{children:null===a||void 0===a?void 0:a.artistName}),Object(q.jsx)(ja,{children:null===a||void 0===a?void 0:a.albumName})]})]}),Object(q.jsx)(ha,{children:Object(q.jsx)(Jr,{})})]})},xa=ee.c.svg(vi||(vi=Object(K.a)(["\n  position: absolute;\n  margin: ",";\n  top: ",";\n  bottom: ",";\n  left: ",";\n  right: ",";\n  user-select: none;\n  pointer-events: none;\n  max-height: 13px;\n"])),(function(e){return e.margin}),(function(e){return e.top}),(function(e){return e.bottom}),(function(e){return e.left}),(function(e){return e.right})),Oa=function(e){return Object(q.jsx)(xa,Object(be.a)(Object(be.a)({width:"61",height:"17",viewBox:"0 0 61 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(q.jsx)("path",{d:"M10.6177 0.885742H15.1602V16H12.2173V5.77686C12.2173 5.48291 12.2207 5.07275 12.2275 4.54639C12.2344 4.01318 12.2378 3.60303 12.2378 3.31592L9.37695 16H6.31104L3.4707 3.31592C3.4707 3.60303 3.47412 4.01318 3.48096 4.54639C3.48779 5.07275 3.49121 5.48291 3.49121 5.77686V16H0.54834V0.885742H5.14209L7.89014 12.77L10.6177 0.885742ZM29.6895 3.56201H21.6915V6.77148H29.0333V9.39648H21.6915V13.2827H30.0587V16H18.6051V0.885742H29.6895V3.56201ZM32.8883 0.885742H36.2004L42.2194 11.437V0.885742H45.1623V16H42.0041L35.8312 5.26416V16H32.8883V0.885742ZM48.5354 0.885742H51.7449V10.1758C51.7449 11.2148 51.8679 11.9736 52.114 12.4521C52.4968 13.2998 53.3308 13.7236 54.616 13.7236C55.8943 13.7236 56.7248 13.2998 57.1077 12.4521C57.3537 11.9736 57.4768 11.2148 57.4768 10.1758V0.885742H60.6863V10.1758C60.6863 11.7822 60.4368 13.0332 59.9377 13.9287C59.008 15.5693 57.2341 16.3896 54.616 16.3896C51.9978 16.3896 50.2204 15.5693 49.2839 13.9287C48.7849 13.0332 48.5354 11.7822 48.5354 10.1758V0.885742Z",fill:e.color})}))},ga=function(e){return Object(q.jsxs)(xa,Object(be.a)(Object(be.a)({width:"33",height:"16",viewBox:"0 0 33 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(q.jsx)("path",{d:"M17 8L29 1.0718V14.9282L17 8Z",fill:e.color}),Object(q.jsx)("path",{d:"M4 8L16 1.0718V14.9282L4 8Z",fill:e.color}),Object(q.jsx)("rect",{x:"4",y:"16",width:"4",height:"15",transform:"rotate(-180 4 16)",fill:e.color})]}))},ma=function(e){return Object(q.jsxs)(xa,Object(be.a)(Object(be.a)({width:"39",height:"18",viewBox:"0 0 39 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(q.jsx)("path",{d:"M18 9L4.5 16.7942L4.5 1.20577L18 9Z",fill:e.color}),Object(q.jsx)("rect",{x:"26",y:"1",width:"4",height:"16",fill:e.color}),Object(q.jsx)("rect",{x:"35",y:"1",width:"4",height:"16",fill:e.color})]}))},wa=function(e){return Object(q.jsxs)(xa,Object(be.a)(Object(be.a)({width:"33",height:"16",viewBox:"0 0 33 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(q.jsx)("path",{d:"M16 8L4 14.9282L4 1.0718L16 8Z",fill:e.color}),Object(q.jsx)("path",{d:"M29 8L17 14.9282V1.0718L29 8Z",fill:e.color}),Object(q.jsx)("rect",{x:"29",width:"4",height:"15",fill:e.color})]}))},ka={body:{background:"linear-gradient(180deg, #e3e3e3 0%, #d6d6d6 100%)"},knob:{background:"#FFFFFF",outline:"#b9b9b9",button:"#AFAFAF",centerButton:{background:"#ffffff",boxShadow:"rgb(191, 191, 191)",outline:"#b9b9b9"}}},ya={body:{background:"linear-gradient(180deg, #7d7c7d 0%, #1e1e1e 100%)"},knob:{background:"#2a2a2a",outline:"#1a1a1a",button:"#FFFFFF",centerButton:{background:"#7d7c7d",boxShadow:"rgb(50, 50, 50)",outline:"#1a1a1a"}}},Sa={body:{background:"linear-gradient(180deg, #7d7c7d 0%, #1e1e1e 100%)"},knob:{background:"#de2029",outline:"#1a1a1a",button:"#ffffff",centerButton:{background:"#5d5c5d",boxShadow:"rgb(50, 50, 50)",outline:"#1a1a1a"}}},Ca=function(e){return"silver"===e?ka:"black"===e?ya:Sa},La=ee.c.div(xi||(xi=Object(K.a)(["\n  user-select: none;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  margin: auto 0;\n  touch-action: none;\n  transform: translate3d(0, 0, 0);\n"]))),Ma=ee.c.div(Oi||(Oi=Object(K.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.width}),(function(e){return e.height})),Pa=ee.c.canvas(gi||(gi=Object(K.a)(["\n  border-radius: 50%;\n  border: 1px solid ",";\n  background: ",";\n"])),(function(e){var t=e.deviceTheme;return Ca(t).knob.outline}),(function(e){var t=e.deviceTheme;return Ca(t).knob.background})),Ta=ee.c.div(mi||(mi=Object(K.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  box-shadow: ","\n    0px 1em 3em inset;\n  background: ",";\n  border: 1px solid\n    ","};\n\n  :active {\n    filter: brightness(0.9);\n  }\n"])),(function(e){return e.size/2.5}),(function(e){return e.size/2.5}),(function(e){var t=e.deviceTheme;return Ca(t).knob.centerButton.boxShadow}),(function(e){var t=e.deviceTheme;return Ca(t).knob.centerButton.background}),(function(e){var t=e.deviceTheme;return Ca(t).knob.centerButton.outline})),Ia=360*Math.PI/180,Aa=0*Math.PI/180,Ea=1.5*Math.PI+Aa,za=1.5*Math.PI+Aa+Ia,Na=function(e){var t=e.value,n=e.onChange,i=e.onChangeEnd,r=void 0===i?function(){}:i,a=e.onWheelClick,c=void 0===a?function(){}:a,o=e.onClick,s=void 0===o?function(){}:o,u=e.onLongPress,l=void 0===u?function(){}:u,d=e.onMenuLongPress,b=void 0===d?function(){}:d,p=e.min,f=void 0===p?0:p,j=e.max,h=void 0===j?100:j,v=e.step,x=void 0===v?1:v,O=e.width,g=void 0===O?200:O,m=e.height,w=void 0===m?200:m,k=e.thickness,y=void 0===k?.35:k,S=e.bgColor,C=void 0===S?"#EEE":S,L=e.fgColor,M=void 0===L?"#EA2":L,P=e.className,T=e.canvasClassName,I=Ji().deviceTheme,A=Object(Q.useRef)(),E=Object(Q.useRef)(),z=function(e){return e.preventDefault(),e.target.setAttribute("longpress",(new Date).getTime()),l(e),!1},N=function(e){e.preventDefault(),e.target.setAttribute("longpress",(new Date).getTime());var t=e.target.getBoundingClientRect(),n=e.detail.clientX-t.left,i=e.detail.clientY-t.top;console.log({x:n,y:i});var r=t.width;1===W(r,n,i)&&function(e){b(e)}(e)},H=function(e){var t,n=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect();if(!n)return 0;var i=e.clientX-n.left,r=e.clientY-n.top,a=Math.atan2(i-g/2,g/2-r)-Aa;return Ia!==2*Math.PI&&a<0&&a>-.5?a=0:a<0&&(a+=2*Math.PI),function(e){var t=~~((e<0?-.5:.5)+e/x)*x;return t=Math.max(Math.min(t,h),f),isNaN(t)&&(t=0),Math.round(1e3*t)/1e3}(a*(h-f)/Ia+f)},F=function(e){n(H(e)),document.addEventListener("mousemove",V),document.addEventListener("mouseup",R)},_=function(e){n(H(e)),document.addEventListener("touchmove",U),document.addEventListener("touchend",D),document.removeEventListener("mousedown",F)},V=function(e){e.preventDefault(),H(e)!==t&&n(H(e)),document.removeEventListener("mouseup",R),document.addEventListener("mouseup",X)},U=function(e){e.preventDefault();var i=e,r=i.targetTouches.length-1,a=H(i.targetTouches[r]);a!==t&&n(a),A.current&&(A.current.removeEventListener("long-press",N),document.removeEventListener("touchend",D),document.addEventListener("touchend",B))},X=function e(t){r(H(t)),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",e)},B=function e(t){var n=t,i=n.targetTouches.length-1;r(n.targetTouches[i]),document.removeEventListener("touchmove",U),document.removeEventListener("touchend",e),A.current&&A.current.addEventListener("long-press",N)},W=function(e,t,n){return n<e/4?1:n>.75*e?2:t<e/4?3:t>.75*e?4:-1},R=function e(t){var n=t,i=n.target.getBoundingClientRect(),r=n.clientX-i.left,a=n.clientY-i.top,o=i.width,s=W(o,r,a);s>0&&s<=4&&c(s),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",X),document.removeEventListener("mouseup",e)},D=function e(t){var n=t,i=n.target.getBoundingClientRect(),r=n.changedTouches[n.changedTouches.length-1],a=r.pageX-i.left,o=r.pageY-i.top,s=i.width,u=W(s,a,o);u>0&&u<=4&&c(u),document.removeEventListener("touchmove",U),document.removeEventListener("touchend",B),document.removeEventListener("touchend",e)},G=function(){if(A.current){var e=A.current.getContext("2d"),n=function(e){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(e.webkitBackingStorePixelRatio||1)}(e);A.current.width=g*n,A.current.height=w*n,e.scale(n,n);var i=g/2,r=i*y,a=i-r/2;e.lineWidth=r,e.lineCap="butt",e.beginPath(),e.strokeStyle=C,e.arc(i,i,a,za-1e-5,Ea+1e-5,!0),e.stroke();var c=function(e){var t=Ea-1e-5;return{startAngle:t,endAngle:t+(e-f)*Ia/(h-f)+1e-5,acw:!1}}(t);e.beginPath(),e.strokeStyle=M,e.arc(i,i,a,c.startAngle,c.endAngle,c.acw),e.stroke()}};er((function(){if(A.current&&E.current){var e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return G(),e?A.current.addEventListener("touchstart",_):A.current.addEventListener("mousedown",F),E.current.addEventListener("long-press",z),A.current.addEventListener("long-press",N),function(){A.current&&E.current?(e?A.current.removeEventListener("touchstart",_):A.current.removeEventListener("mousedown",F),E.current.removeEventListener("long-press",z),A.current.removeEventListener("long-press",N)):console.error("Things didn't mount properly!")}}console.error("Things didn't mount properly!")})),Object(Q.useEffect)((function(){G()}));var Y=Ca(I).knob.button;return Object(q.jsx)(La,{className:P,children:Object(q.jsxs)(Ma,{width:g,height:w,children:[Object(q.jsx)(Pa,{ref:function(e){A.current=null!==e&&void 0!==e?e:void 0},className:T,style:{width:"100%",height:"100%"},deviceTheme:I}),Object(q.jsx)(Ta,{ref:function(e){E.current=null!==e&&void 0!==e?e:void 0},onClick:s,size:g,deviceTheme:I}),Object(q.jsx)(Oa,{top:"8%",margin:"0 auto",color:Y}),Object(q.jsx)(ma,{bottom:"8%",margin:"0 auto",color:Y}),Object(q.jsx)(ga,{left:"8%",margin:"auto 0",color:Y}),Object(q.jsx)(wa,{right:"8%",margin:"auto 0",color:Y})]})})},Ha=function(e){return new Event(e)};!function(e){e[e.TOP=1]="TOP",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT"}(wi||(wi={}));var Fa,_a,Va,Ua,Xa,Ba,Wa,Ra,Da,Ga,Ya,Za,Ka,Qa,Ja,qa,$a,ec,tc,nc,ic,rc,ac,cc,oc,sc,uc,lc,dc,bc=Ha("centerclick"),pc=Ha("centerlongclick"),fc=Ha("forwardscroll"),jc=Ha("backwardscroll"),hc=Ha("wheelclick"),vc=Ha("menuclick"),xc=Ha("menulongpress"),Oc=Ha("backwardclick"),gc=Ha("forwardclick"),mc=Ha("playpauseclick"),wc=Ha("idle"),kc=function(){var e=Ji().deviceTheme,t=Object(Q.useState)(0),n=Object(J.a)(t,2),i=n[0],r=n[1],a=Object(Q.useRef)(),c=Object(Q.useCallback)((function(){return window.dispatchEvent(bc)}),[]),o=Object(Q.useCallback)((function(e){e.preventDefault(),window.dispatchEvent(pc)}),[]),s=Object(Q.useCallback)((function(e){e.preventDefault(),window.dispatchEvent(xc)}),[]),u=Object(Q.useCallback)((function(){return window.dispatchEvent(fc)}),[]),l=Object(Q.useCallback)((function(){window.dispatchEvent(jc)}),[]),d=Object(Q.useCallback)((function(){clearTimeout(a.current),a.current=setTimeout((function(){window.dispatchEvent(wc)}),1e4)}),[]),b=Object(Q.useCallback)((function(e){switch(window.dispatchEvent(hc),e){case wi.TOP:window.dispatchEvent(vc);break;case wi.BOTTOM:window.dispatchEvent(mc);break;case wi.LEFT:window.dispatchEvent(Oc);break;case wi.RIGHT:window.dispatchEvent(gc)}d()}),[d]),p=Object(Q.useCallback)((function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":l();break;case"ArrowDown":case"ArrowRight":u();break;case"Enter":c();break;case" ":case"Spacebar":b(wi.BOTTOM);break;case"Escape":b(wi.TOP)}d()}),[d,l,u,c,b]),f=Object(Q.useCallback)((function(e){r((function(t){return 5===e&&100===t?u():100===e&&5===t?l():e>t?u():e<t&&l(),e})),d()}),[u,l,d]);return Ve("keydown",p),er(d),Object(q.jsx)(Na,{value:i,min:0,max:100,width:220,height:220,step:5,fgColor:"transparent",bgColor:Ca(e).knob.background,thickness:.6,onClick:c,onLongPress:o,onMenuLongPress:s,onWheelClick:b,onChange:f})},yc=Object(ee.c)(tt.a.div)(Fa||(Fa=Object(K.a)(["\n  z-index: ",";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"])),(function(e){return e.index})),Sc=ee.c.div(_a||(_a=Object(K.a)(["\n  position: relative;\n  width: 100%;\n  padding: "," 0;\n  background: linear-gradient(180deg, #bbbcbf 0%, #626770 11.69%, #626770 100%);\n  box-shadow: 0 0px 4px black;\n"])),ne.XS),Cc=ee.c.h3(Va||(Va=Object(K.a)(["\n  margin: 0;\n  padding: "," ",";\n  font-size: 16px;\n  background: linear-gradient(180deg, #ffffff 0%, #cbccce 48.44%, #dfdfdf 100%);\n  border: 3px solid #3e4249;\n  border-radius: 12px;\n  text-shadow: 0px 0px 1px #505050;\n"])),ne.XS,ne.XXS),Lc=ee.c.div(Ua||(Ua=Object(K.a)(["\n  padding: "," ",";\n  text-align: center;\n  border: 3px solid transparent;\n\n  ",";\n\n  :last-of-type {\n    margin-top: ",";\n\n    "," {\n      background: linear-gradient(\n        180deg,\n        #707379 0%,\n        #3b3f46 48.44%,\n        #363c44 100%\n      );\n      color: white;\n    }\n  }\n"])),ne.XXS,ne.MD,(function(e){return e.highlighted&&Object(ee.b)(Xa||(Xa=Object(K.a)(["\n      "," {\n        background: linear-gradient(\n          rgb(60, 184, 255) 0%,\n          rgb(52, 122, 181) 100%\n        ) !important;\n        color: white !important;\n        border: 3px solid #ececec;\n      }\n    "])),Cc)}),ne.XXS,Cc),Mc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=Ii().hideWindow,a=t[n];Ue(a.id);var c=Object(Q.useMemo)((function(){var e=a.type===bn.ACTION_SHEET?a.listOptions:[];return[].concat(Object(se.a)(e),[{type:"Action",label:"Cancel",onSelect:function(){}}])}),[a]),o=Object(Q.useMemo)((function(){return c.find((function(e){return!0===e.isSelected}))}),[c]);Ve("centerclick",(function(){r()}));var s=Mi(a.id,c,o),u=Object(J.a)(s,1)[0];return Object(q.jsx)(yc,Object(be.a)(Object(be.a)({"data-window-id":a.id,index:n},Ke),{},{children:Object(q.jsx)(Sc,{isHidden:i,children:c.map((function(e,t){return Object(q.jsx)(Lc,{highlighted:u===t,children:Object(q.jsx)(Cc,{children:e.label})},"popup-option-".concat(e.label))}))})}))},Pc=ee.c.div(Ba||(Ba=Object(K.a)(["\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  transition: all 0.25s ease;\n"])),(function(e){return e.isHidden?"transparent":"rgba(0, 0, 0, 0.5)"})),Tc=function(e){var t=e.windowStack,n=0===t.length;return Object(q.jsx)(Pc,{"data-stack-type":"action-sheet",isHidden:n,children:Object(q.jsx)(oe.a,{children:t.map((function(e,n){return Object(q.jsx)(Mc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})})},Ic=Object(ee.c)(tt.a.div)(Wa||(Wa=Object(K.a)(["\n  z-index: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),Ac=function(e){var t=e.window,n=(null===t||void 0===t?void 0:t.type)===bn.COVER_FLOW?t.component:null;return Object(q.jsx)(oe.a,{children:!!n&&Object(q.jsxs)(Ic,Object(be.a)(Object(be.a)({},Je),{},{"data-stack-type":"coverflow",children:[Object(q.jsx)(ia,{}),Object(q.jsx)(n,{})]}))})},Ec=Object(ee.c)(tt.a.div)(Ra||(Ra=Object(K.a)(["\n  z-index: ",";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.index})),zc=ee.c.div(Da||(Da=Object(K.a)(["\n  position: relative;\n  background: linear-gradient(\n    180deg,\n    #a2a8b7 0%,\n    rgba(38, 52, 88, 0.92) 20.6%,\n    #28365a 100%\n  );\n  width: 80%;\n  padding: ",";\n  box-shadow: 0px 6px 5px rgba(0, 0, 0, 0.39);\n  border: 2.5px solid white;\n  border-radius: 12px;\n  color: white;\n  font-weight: 500;\n  text-align: center;\n"])),ne.XXS),Nc=ee.c.h3(Ga||(Ga=Object(K.a)(["\n  margin: "," 0 ",";\n  font-size: 16px;\n"])),ne.XS,ne.XS),Hc=Object(ee.c)(Nc)(Ya||(Ya=Object(K.a)(["\n  margin: "," 0 ",";\n  font-size: 14px;\n  font-weight: 400;\n"])),ne.XS,ne.XS),Fc=ee.c.div(Za||(Za=Object(K.a)(["\n  display: flex;\n"]))),_c=ee.c.h3(Ka||(Ka=Object(K.a)(["\n  margin: 0;\n  padding: "," ",";\n  font-size: 16px;\n  background: linear-gradient(180deg, #8c94a8 0%, #334164 44.97%, #445070 100%);\n  border: 2px solid #242e47;\n  border-radius: 8px;\n\n  text-shadow: 0px 0px 1px #505050;\n"])),ne.XS,ne.XXS),Vc=ee.c.div(Qa||(Qa=Object(K.a)(["\n  flex: 1;\n  text-align: center;\n  border: 2px solid transparent;\n  margin-top: 8px;\n\n  ",";\n"])),(function(e){return e.highlighted&&Object(ee.b)(Ja||(Ja=Object(K.a)(["\n      "," {\n        border: 2px solid #ececec;\n        filter: brightness(120%);\n      }\n    "])),_c)})),Uc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=t[n];Ue(r.id);var a=Ii().hideWindow;if(r.type!==bn.POPUP)throw new Error("Popup option not supplied");var c=Object(Q.useMemo)((function(){var e=r.type===bn.POPUP?r.listOptions:[];return e.length?e:[{type:"Action",label:"Done",onSelect:function(){}}]}),[r.listOptions,r.type]),o=Mi(r.id,c),s=Object(J.a)(o,1)[0];return Ve("centerclick",(function(){a()})),Object(q.jsx)(Ec,Object(be.a)(Object(be.a)({"data-window-id":r.id,index:n},Qe),{},{children:Object(q.jsxs)(zc,{isHidden:i,children:[Object(q.jsx)(Nc,{children:r.title}),Object(q.jsx)(Hc,{children:r.description}),Object(q.jsx)(Fc,{children:c.map((function(e,t){return Object(q.jsx)(Vc,{highlighted:s===t,children:Object(q.jsx)(_c,{children:e.label})},"popup-option-".concat(e.label))}))})]})}))},Xc=Object(ee.c)(tt.a.div)(qa||(qa=Object(K.a)(["\n  z-index: ",";\n  position: absolute;\n  top: ",";\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: white;\n"])),(function(e){return e.index}),(function(e){return e.showHeader?"20px":0})),Bc=ee.c.div($a||($a=Object(K.a)(["\n  height: 100%;\n  transition: transform 0.3s;\n  transform: ",";\n  overflow: auto;\n"])),(function(e){return e.isHidden&&"translateX(-100%)"})),Wc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=Ii().headerTitle,a=t[n],c=0===n,o=Object(Q.useMemo)((function(){switch(a.type){case bn.FULL:case bn.SPLIT:case bn.COVER_FLOW:return a.component;default:return null}}),[a]);return Object(q.jsx)(Xc,Object(be.a)(Object(be.a)({"data-window-id":a.id,index:n,showHeader:!!r},c?et:Ze),{},{children:Object(q.jsx)(Bc,{isHidden:i,children:Object(q.jsx)(o,{})})}))},Rc=ee.c.div(ec||(ec=Object(K.a)(["\n  z-index: 3;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: white;\n  transition: all 0.35s;\n  transform: ",";\n"])),(function(e){return e.isHidden&&"translateX(100%)"})),Dc=function(e){var t=e.windowStack,n=0===t.length;return Object(q.jsxs)(Rc,{"data-stack-type":"fullscreen",isHidden:n,children:[Object(q.jsx)(ia,{}),Object(q.jsx)(oe.a,{children:t.map((function(e,n){return Object(q.jsx)(Wc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})]})},Gc=ee.c.div(tc||(tc=Object(K.a)(["\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  transition: all 0.25s ease;\n"])),(function(e){return e.isHidden?"transparent":"rgba(0, 0, 0, 0.3)"})),Yc=function(e){var t=e.windowStack,n=0===t.length;return Object(q.jsx)(Gc,{"data-stack-type":"popup",isHidden:n,children:Object(q.jsx)(oe.a,{children:t.map((function(e,n){return Object(q.jsx)(Uc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})})},Zc=ee.c.div(nc||(nc=Object(K.a)(["\n  z-index: 0;\n  position: relative;\n  flex: 0 0 50%;\n  background: white;\n  transition: all 0.35s;\n\n  ",";\n"])),(function(e){return e.isHidden&&Object(ee.b)(ic||(ic=Object(K.a)(["\n      transform: translateX(100%);\n      opacity: 0;\n      overflow: hidden;\n    "])))})),Kc=function(e){var t=e.isHidden,n=Ii().preview,i=Yt[n];return Object(q.jsxs)(Zc,{isHidden:t,children:[Object(q.jsx)(oe.a,{children:n===G.MUSIC&&Object(q.jsx)(i,{})}),n!==G.MUSIC&&Object(q.jsx)(i,{})]})},Qc=ee.c.div(rc||(rc=Object(K.a)(["\n  z-index: 2;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n"]))),Jc=ee.c.div(ac||(ac=Object(K.a)(["\n  z-index: 1;\n  position: relative;\n  flex: 0 0 50%;\n  box-shadow: 0 0 24px black;\n  transition: all 0.35s;\n  overflow: hidden;\n\n  ",";\n"])),(function(e){return e.isHidden&&Object(ee.b)(cc||(cc=Object(K.a)(["\n      transition-delay: 0.05s;\n      transform: translateX(-100%);\n      box-shadow: none;\n    "])))})),qc=function(e){var t=e.windowStack,n=e.menuHidden,i=e.allHidden;return Object(q.jsxs)(Qc,{"data-stack-type":"splitscreen",children:[Object(q.jsxs)(Jc,{isHidden:n||i,children:[Object(q.jsx)(ia,{}),Object(q.jsx)(oe.a,{children:t.map((function(e,n){return Object(q.jsx)(Wc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})]}),Object(q.jsx)(Kc,{isHidden:i})]})},$c=ee.c.div(oc||(oc=Object(K.a)(["\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),eo=function(){var e=Ee(),t=e.isConfigured,n=e.hasDevToken,i=Ii(),r=i.windowStack,a=i.resetWindows,c=r.filter((function(e){return e.type===bn.SPLIT})),o=r.filter((function(e){return e.type===bn.FULL})),s=r.find((function(e){return e.type===bn.COVER_FLOW})),u=r.filter((function(e){return e.type===bn.ACTION_SHEET})),l=r.filter((function(e){return e.type===bn.POPUP})),d=t&&n;return Ve("menulongpress",a),Object(q.jsxs)("div",{children:[d?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ac,{window:s}),Object(q.jsx)(qc,{windowStack:c,menuHidden:o.length>0,allHidden:!!s}),Object(q.jsx)(Dc,{windowStack:o}),Object(q.jsx)(Tc,{windowStack:u}),Object(q.jsx)(Yc,{windowStack:l})]}):Object(q.jsx)(ce,{message:"Missing developer token"}),Object(q.jsx)($c,{})]})},to=Object(ee.a)(sc||(sc=Object(K.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n      Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol';\n    font-size: 16px;\n    user-select: none;\n    -webkit-touch-callout: none;\n\n    @media (prefers-color-scheme: dark) {\n      background: black;\n    }\n  }\n"]))),no=ee.c.div(uc||(uc=Object(K.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),io=ee.c.div(lc||(lc=Object(K.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 370px;\n  max-height: 37em;\n  margin: auto;\n  border-radius: 30px;\n  box-shadow: inset 0 0 2.4em #555;\n  background: ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(50%, transparent), to(rgba(250, 250, 250, 0.3)));\n  animation: descend 1.5s ease;\n\n  @media (prefers-color-scheme: dark) {\n    box-shadow: inset 0 0 2.4em black;\n  }\n\n  "," {\n    animation: none;\n    width: 100vw;\n    max-height: unset;\n    border-radius: 0;\n    -webkit-box-reflect: unset;\n  }\n\n  @keyframes descend {\n    0% {\n      transform: scale(0.3);\n      opacity: 0;\n    }\n\n    100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n"])),(function(e){var t=e.deviceTheme;return Ca(t).body.background}),te.SM.MediaQuery),ro=ee.c.div(dc||(dc=Object(K.a)(["\n  position: relative;\n  height: 260px;\n  margin: "," "," 0;\n  border: 4px solid black;\n  border-radius: ",";\n  overflow: hidden;\n  background: white;\n  animation: fadeFromBlack 0.5s;\n\n  @keyframes fadeFromBlack {\n    0% {\n      filter: brightness(0);\n    }\n  }\n\n  "," {\n    margin: "," "," 0;\n  }\n"])),ne.LG,ne.LG,ne.XS,te.SM.MediaQuery,ne.SM,ne.SM),ao=function(){var e=Ji().deviceTheme;return Object(q.jsxs)(io,{deviceTheme:e,children:[Object(q.jsx)(ro,{children:Object(q.jsx)(Ri,{children:Object(q.jsx)(ze,{children:Object(q.jsx)(Me,{children:Object(q.jsx)(Ti,{children:Object(q.jsx)(eo,{})})})})})}),Object(q.jsx)(kc,{})]})},co=function(){return Object(q.jsxs)(no,{children:[Object(q.jsx)(to,{}),Object(q.jsx)(qi,{children:Object(q.jsx)(ao,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Z.a.render(Object(q.jsx)(co,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.1f8af155.chunk.js.map